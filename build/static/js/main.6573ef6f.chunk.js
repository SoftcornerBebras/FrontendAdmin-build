(this["webpackJsonpreact-material-admin"]=this["webpackJsonpreact-material-admin"]||[]).push([[0],{1060:function(e,t){},1062:function(e,t){},1075:function(e,t){},1077:function(e,t){},1105:function(e,t){},1107:function(e,t){},1108:function(e,t){},1113:function(e,t){},1115:function(e,t){},1122:function(e,t){},1124:function(e,t){},1142:function(e,t){},1145:function(e,t){},1161:function(e,t){},1164:function(e,t){},1207:function(e,t){},1208:function(e,t){},1210:function(e,t,a){e.exports=a.p+"static/media/google.695a3160.svg"},1211:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),l=a.n(r),s=a(1281),i=a(1283),c=a(21),d=a(118),p=a.n(d),u={palette:{primary:{main:"#536DFE",light:p()("#536DFE").lighten(7.5).toHexString(),dark:p()("#536DFE").darken(15).toHexString()},secondary:{main:"#FF5C93",light:p()("#FF5C93").lighten(7.5).toHexString(),dark:p()("#FF5C93").darken(15).toHexString(),contrastText:"#FFFFFF"},warning:{main:"#FFC260",light:p()("#FFC260").lighten(7.5).toHexString(),dark:p()("#FFC260").darken(15).toHexString()},success:{main:"#3CD4A0",light:p()("#3CD4A0").lighten(7.5).toHexString(),dark:p()("#3CD4A0").darken(15).toHexString()},info:{main:"#9013FE",light:p()("#9013FE").lighten(7.5).toHexString(),dark:p()("#9013FE").darken(15).toHexString()},text:{primary:"#4A4A4A",secondary:"#6E6E6E",hint:"#B9B9B9"},background:{default:"#F6F7FF",light:"#F3F5FF"}},customShadows:{widget:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetDark:"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetWide:"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"},overrides:{MuiBackdrop:{root:{backgroundColor:"#4A4A4A1A"}},MuiMenu:{paper:{boxShadow:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"}},MuiSelect:{icon:{color:"#B9B9B9"}},MuiListItem:{root:{"&$selected":{backgroundColor:"#F3F5FF !important","&:focus":{backgroundColor:"#F3F5FF"}}},button:{"&:hover, &:focus":{backgroundColor:"#F3F5FF"}}},MuiTouchRipple:{child:{backgroundColor:"white"}},MuiTableRow:{root:{height:56}},MuiTableCell:{root:{borderBottom:"1px solid rgba(224, 224, 224, .5)"},head:{fontSize:"0.95rem"},body:{fontSize:"0.95rem"}}}},m=a(198),h={default:Object(m.a)(Object(c.a)(Object(c.a)({},u),{typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2rem"},h3:{fontSize:"1.64rem"},h4:{fontSize:"1.5rem"},h5:{fontSize:"1.285rem"},h6:{fontSize:"1.142rem"}}}))},g=a(81),f=a(30),y=a(64),E=a(23),v=a(24),b=a.n(v),S=a(1228),C=Object(S.a)((function(e){return{root:{display:"flex",maxWidth:"100vw",overflowX:"hidden"},content:{flexGrow:1,padding:e.spacing(3),width:"calc(100vw - 240px)",minHeight:"100vh"},contentShift:{width:"calc(100vw - ".concat(240+e.spacing(6),"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},fakeToolbar:Object(c.a)({},e.mixins.toolbar)}})),I=a(43),D=a(1251),x=a(1253),k=a(485),w=a(319),O=a(117),A=a(663),T=a(486),L=a(1254),N=a(1255),B=a(1256),j=a(1312),q=Object(S.a)((function(e){return{logotype:Object(E.a)({color:"white",marginLeft:e.spacing(2.5),marginRight:e.spacing(2.5),marginTop:e.spacing(-1),fontSize:16,whiteSpace:"nowrap"},e.breakpoints.down("xs"),{display:"none"}),widthBar:{width:e.spacing(7)+40},appBar:{width:"100%",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"8%"},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},hide:{display:"none"},grow:{flexGrow:1},headerMenu:{marginTop:e.spacing(7)},headerMenuList:{display:"flex",flexDirection:"column"},headerMenuItem:{"&:hover, &:focus":{backgroundColor:e.palette.primary.main,color:"white"}},headerMenuButton:{marginLeft:e.spacing(2),marginTop:e.spacing(-.5),padding:e.spacing(.5)},headerMenuButtonCollapse:{marginRight:e.spacing(2),marginTop:e.spacing(-.5)},headerIcon:{marginTop:e.spacing(-.5),fontSize:28,color:"rgba(255, 255, 255, 0.35)"},headerIconCollapse:{marginTop:e.spacing(-.5),color:"white"},profileMenu:{minWidth:265},profileMenuUser:{display:"flex",flexDirection:"column",padding:e.spacing(2)},profileMenuItem:{color:e.palette.text.hint},profileMenuIcon:{marginRight:e.spacing(2),color:e.palette.text.hint},profileMenuLink:{fontSize:16,textDecoration:"none","&:hover":{cursor:"pointer"}}}})),P=o.a.createContext(),R=o.a.createContext();function G(e,t){switch(t.type){case"TOGGLE_SIDEBAR":return Object(c.a)(Object(c.a)({},e),{},{isSidebarOpened:!e.isSidebarOpened});default:throw new Error("Unhandled action type: ".concat(t.type))}}function z(e){var t=e.children,a=o.a.useReducer(G,{isSidebarOpened:!1}),n=Object(I.a)(a,2),r=n[0],l=n[1];return o.a.createElement(P.Provider,{value:r},o.a.createElement(R.Provider,{value:l},t))}function _(){var e=o.a.useContext(P);if(void 0===e)throw new Error("useLayoutState must be used within a LayoutProvider");return e}function M(){var e=o.a.useContext(R);if(void 0===e)throw new Error("useLayoutDispatch must be used within a LayoutProvider");return e}function F(e){e({type:"TOGGLE_SIDEBAR"})}var U=a(9),Q=a.n(U),V="http://54.196.61.229:8000/",W="http://54.196.61.229:3000",H="c49006ae9225bec49ad20990ea5852689c710b4f61550bfb06fa2170ff4e1476",K="https://tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=0e8b9cadba7b458b9842e7682eb4d81b",Y=o.a.createContext(),X=o.a.createContext();function J(e,t){switch(t.type){case"LOGIN_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!0,name:t.payload});case"LOGIN_FAILURE":return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!1});case"SIGN_OUT_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!1,name:""});case"Auth Error":return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!1});default:throw new Error("Unhandled action type: ".concat(t.type))}}function Z(e){var t=e.children,a=o.a.useReducer(J,{isAuthenticated:!!localStorage.getItem("id_token"),name:""}),n=Object(I.a)(a,2),r=n[0],l=n[1];return o.a.createElement(Y.Provider,{value:r},o.a.createElement(X.Provider,{value:l},t))}function $(){var e=o.a.useContext(X);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e}function ee(e,t){fetch(V+"api/usr/logout/",{method:"POST",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){if(204==e.status)return{status:e.status,data:{}};if(e.status<500)return e.json().then((function(t){return{status:e.status,data:{}}}));throw e})).then((function(t){if(204==t.status)return e({type:"SIGN_OUT_SUCCESS"}),t.data;if(403==t.status||401==t.status)throw e({type:"Auth Error"}),t.data})),localStorage.removeItem("id_token"),localStorage.removeItem("username"),localStorage.removeItem("tokenExpiry")}function te(e){var t=q(),a=_(),r=M(),l=$(),s=localStorage.getItem("username"),i=Object(n.useState)(null),c=Object(I.a)(i,2),d=c[0],p=c[1],u=Object(n.useState)(!1),m=Object(I.a)(u,2),h=m[0],g=m[1],y=Object(n.useState)(!1),E=Object(I.a)(y,2),v=E[0],S=E[1],C=function(e,t){"clickaway"!==t&&(g(!1),S(!1))};return function(e,t,a){var n=new Date,o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),r=new Date(localStorage.getItem("tokenExpiry")),l=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+":"+(parseInt(r.getMinutes())-5)+":"+r.getSeconds(),s=new Date(o);s>=(l=new Date(l))&&"0"==localStorage.getItem("timeRemaining")&&(a(!0),localStorage.setItem("timeRemaining",1)),r<=s&&setTimeout((function(){ee(e)}),2e3)}(l,e.history,g),"1"==localStorage.getItem("helpDialog")&&(S(!0),localStorage.setItem("helpDialog",0)),o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:h,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return C()}},o.a.createElement(j.a,{onClose:function(){return C()},variant:"filled",severity:"info"},o.a.createElement("b",null,"You will be logged out soon for security reasons. Please login again."))),o.a.createElement(D.a,{open:v,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return C()}},o.a.createElement(j.a,{onClose:function(){return C()},variant:"filled",severity:"info"},o.a.createElement("b",null,"If you're a first time user, check out the FAQs section first."))),o.a.createElement(x.a,{position:"fixed",className:t.appBar},o.a.createElement(k.a,{className:t.toolbar},o.a.createElement(w.a,{color:"inherit",onClick:function(){return F(r)},className:b()(t.headerMenuButton,t.headerMenuButtonCollapse)},a.isSidebarOpened?o.a.createElement(L.a,{classes:{root:b()(t.headerIcon,t.headerIconCollapse)}}):o.a.createElement(N.a,{classes:{root:b()(t.headerIcon,t.headerIconCollapse)}})),o.a.createElement(O.a,{variant:"h6",weight:"medium",className:t.logotype},"Bebras India - Admin"),o.a.createElement("div",{className:t.grow}),o.a.createElement(w.a,{"aria-haspopup":"true",color:"inherit",className:t.headerMenuButton,"aria-controls":"profile-menu",onClick:function(e){return p(e.currentTarget)}},o.a.createElement(B.a,{classes:{root:t.headerIcon}})),o.a.createElement(A.a,{id:"profile-menu",open:Boolean(d),anchorEl:d,onClose:function(){return p(null)},className:t.headerMenu,classes:{paper:t.profileMenu},disableAutoFocusItem:!0},o.a.createElement("div",{className:t.profileMenuUser},o.a.createElement(O.a,{variant:"h6",weight:"small"},s)),o.a.createElement(T.a,{className:b()(t.profileMenuItem,t.headerMenuItem)},o.a.createElement(B.a,{className:t.profileMenuIcon})," ",o.a.createElement(f.b,{to:"/app/userProfile",onClick:function(){p(!1)},style:{textDecoration:"none"}},"Profile ")),o.a.createElement("div",{className:t.profileMenuUser},o.a.createElement(O.a,{className:t.profileMenuLink,color:"primary",onClick:function(){return ee(l,e.history)}},"Sign Out"))))))}var ae=a(488),ne=a(112),oe=a(1217),re=a(1262),le=a(1263),se=a(1264),ie=a(1265),ce=a(1266),de=a(1267),pe=a(1268),ue=a(1269),me=a(1270),he=a(440),ge=Object(S.a)((function(e){var t;return{menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:300,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:300,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(E.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+30},e.breakpoints.down("sm"),{width:300}),toolbar:Object(c.a)(Object(c.a)({},e.mixins.toolbar),{},Object(E.a)({},e.breakpoints.down("sm"),{display:"none"})),content:{flexGrow:1,padding:e.spacing(3)},mobileBackButton:(t={marginTop:e.spacing(.5),marginLeft:e.spacing(3)},Object(E.a)(t,e.breakpoints.only("sm"),{marginTop:e.spacing(.625)}),Object(E.a)(t,e.breakpoints.up("md"),{display:"none"}),t)}})),fe=a(1258),ye=a(1218),Ee=a(1259),ve=a(487),be=a(1261),Se=a(1260),Ce=Object(S.a)((function(e){return{link:{textDecoration:"none","&:hover, &:focus":{backgroundColor:e.palette.background.light}},linkActive:{backgroundColor:e.palette.background.light},linkNested:{paddingLeft:0,"&:hover, &:focus":{backgroundColor:"#FFFFFF"}},linkIcon:{marginRight:e.spacing(1),color:e.palette.text.secondary+"99",transition:e.transitions.create("color"),width:24,display:"flex",justifyContent:"center"},linkIconActive:{color:e.palette.primary.main},linkText:{padding:0,color:e.palette.text.secondary+"CC",transition:e.transitions.create(["opacity","color"]),fontSize:16},linkTextActive:{color:e.palette.text.primary},linkTextHidden:{opacity:0},nestedList:{paddingLeft:e.spacing(2)+30},sectionTitle:{marginLeft:e.spacing(4.5),marginTop:e.spacing(2),marginBottom:e.spacing(2)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(4),height:1,backgroundColor:"#D8D8D880"}}})),Ie=Object(S.a)((function(e){return{dotBase:{width:5,height:5,backgroundColor:e.palette.text.hint,borderRadius:"50%",transition:e.transitions.create("background-color")},dotLarge:{width:8,height:8}}}));function De(e){var t,a=e.size,n=e.color,r=Ie(),l=Object(he.a)();return o.a.createElement("div",{className:b()(r.dotBase,(t={},Object(E.a)(t,r.dotLarge,"large"===a),Object(E.a)(t,r.dotSmall,"small"===a),t)),style:{backgroundColor:n&&l.palette[n]&&l.palette[n].main}})}function xe(e){var t,a,r,l=e.link,s=e.icon,i=e.label,c=e.children,d=e.location,p=e.isSidebarOpened,u=e.nested,m=e.type,h=Ce(),g=Object(n.useState)(!1),y=Object(I.a)(g,2),v=y[0],S=y[1],C=l&&(d.pathname===l||-1!==d.pathname.indexOf(l));return"title"===m?o.a.createElement(O.a,{className:b()(h.linkText,h.sectionTitle,Object(E.a)({},h.linkTextHidden,!p))},i):"divider"===m?o.a.createElement(fe.a,{className:h.divider}):c?o.a.createElement(o.a.Fragment,null,o.a.createElement(ye.a,{button:!0,component:l&&f.b,onClick:function(e){p&&(e.preventDefault(),S(!v))},className:h.link,to:l,disableRipple:!0},o.a.createElement(Ee.a,{className:b()(h.linkIcon,Object(E.a)({},h.linkIconActive,C))},s||o.a.createElement(Se.a,null)),o.a.createElement(ve.a,{classes:{primary:b()(h.linkText,(r={},Object(E.a)(r,h.linkTextActive,C),Object(E.a)(r,h.linkTextHidden,!p),r))},primary:i})),c&&o.a.createElement(be.a,{in:v&&p,timeout:"auto",unmountOnExit:!0,className:h.nestedList},o.a.createElement(oe.a,{component:"div",disablePadding:!0},c.map((function(e){return o.a.createElement(xe,Object.assign({key:e&&e.link,location:d,isSidebarOpened:p,classes:h,nested:!0},e))}))))):o.a.createElement(ye.a,{button:!0,component:l&&f.b,to:l,className:h.link,classes:{root:b()(h.linkRoot,(t={},Object(E.a)(t,h.linkActive,C&&!u),Object(E.a)(t,h.linkNested,u),t))},disableRipple:!0},o.a.createElement(Ee.a,{className:b()(h.linkIcon,Object(E.a)({},h.linkIconActive,C))},u?o.a.createElement(De,{color:C&&"primary"}):s),o.a.createElement(ve.a,{classes:{primary:b()(h.linkText,(a={},Object(E.a)(a,h.linkTextActive,C),Object(E.a)(a,h.linkTextHidden,!p),a))},primary:i}))}var ke=[{id:0,label:"Dashboard",link:"/app/dashboard",icon:o.a.createElement(ae.a,{title:"Dashboard",arrow:!0,placement:"right"},o.a.createElement(re.a,null))},{id:1,label:"Users",link:"/app/users",icon:o.a.createElement(ae.a,{title:"Users",arrow:!0,placement:"right"},o.a.createElement(le.a,null))},{id:2,label:"Schools",link:"/app/schools",icon:o.a.createElement(ae.a,{title:"Schools & more",arrow:!0,placement:"right"},o.a.createElement(se.a,null)),children:[{label:"School Details",link:"/app/schools"},{label:"Map",link:"/app/ui/maps"}]},{id:3,label:"Questions",link:"/app/questions",icon:o.a.createElement(ae.a,{title:"Questions",arrow:!0,placement:"right"},o.a.createElement(ie.a,null))},{id:4,label:"Competitions",link:"/app/competition",children:[{label:"See Competitions",link:"/app/competition"},{label:"Remove Participants",link:"/app/competitions/removeParticipants"}],icon:o.a.createElement(ae.a,{title:"Competitions & more",arrow:!0,placement:"right"},o.a.createElement(ce.a,null))},{id:5,label:"Analysis",link:"/app/analysisPage",icon:o.a.createElement(ae.a,{title:"Analysis",arrow:!0,placement:"right"},o.a.createElement(de.a,null))},{id:6,label:"Export",link:"/app/export",icon:o.a.createElement(ae.a,{title:"Export",arrow:!0,placement:"right"},o.a.createElement(pe.a,null))},{id:7,type:"divider"},{id:8,label:"Settings",link:"/app/settings",icon:o.a.createElement(ae.a,{title:"Settings",arrow:!0,placement:"right"},o.a.createElement(ue.a,null))},{id:9,label:"FAQ",link:"/app/faqs",icon:o.a.createElement(ae.a,{title:"Help",arrow:!0,placement:"right"},o.a.createElement(me.a,null))}];var we=Object(y.g)((function(e){var t,a,r=e.location,l=ge(),s=Object(he.a)(),i=_().isSidebarOpened,c=M(),d=Object(n.useState)(!0),p=Object(I.a)(d,2),u=p[0],m=p[1];return Object(n.useEffect)((function(){return window.addEventListener("resize",h),h(),function(){window.removeEventListener("resize",h)}})),o.a.createElement(ne.a,{variant:u?"permanent":"temporary",className:b()(l.drawer,(t={},Object(E.a)(t,l.drawerOpen,i),Object(E.a)(t,l.drawerClose,!i),t)),classes:{paper:b()((a={},Object(E.a)(a,l.drawerOpen,i),Object(E.a)(a,l.drawerClose,!i),a))},open:i},o.a.createElement("div",{className:l.toolbar}),o.a.createElement("div",{className:l.mobileBackButton},o.a.createElement(w.a,{onClick:function(){return F(c)}},o.a.createElement(L.a,{classes:{root:b()(l.headerIcon,l.headerIconCollapse)}}))),o.a.createElement(oe.a,{className:l.sidebarList},ke.map((function(e){return o.a.createElement(xe,Object.assign({key:e.id,location:r,isSidebarOpened:i},e))}))));function h(){var e=window.innerWidth<s.breakpoints.values.md;e&&u?m(!1):e||u||m(!0)}})),Oe=a(12),Ae=a(13),Te=a(15),Le=a(14),Ne=a(665),Be=a.n(Ne),je=a(1273),qe=a(1271),Pe=a(1272),Re=a(424),Ge=a(1274),ze=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"changeBackground",value:function(e){e.target.style.background="#536DFE"}},{key:"originalBackground",value:function(e){e.target.style.background="transparent"}},{key:"render",value:function(){return o.a.createElement(qe.a,{style:{height:"92vh",width:"100vw",margin:"-30px"}},o.a.createElement("div",null,o.a.createElement(Pe.a,{style:{margin:"-10px"}},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(je.a,{component:"img",style:{objectFit:"cover",alignItems:"left"},image:Be.a}),o.a.createElement("div",{style:{position:"absolute",top:40,left:"50%",transform:"translateX(-50%)"}},o.a.createElement("h1",{style:{fontSize:"80px",color:"black"}},"Bebras India Administration")),o.a.createElement("div",{style:{position:"absolute",top:380,left:"50%",transform:"translateX(-50%)"}},o.a.createElement(Ge.a,{size:"large",variant:"contained","aria-label":"contained primary button group"},o.a.createElement(f.b,{to:"/app/users",style:{textDecoration:"none",color:"black"}}," ",o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px",width:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"USERS"))),o.a.createElement(f.b,{to:"/app/schools",style:{textDecoration:"none",color:"black"}}," ",o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px",width:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"SCHOOLS"))),o.a.createElement(f.b,{to:"/app/questions",style:{textDecoration:"none",color:"black"}}," ",o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"QUESTIONS"))),o.a.createElement(f.b,{to:"/app/competition",style:{textDecoration:"none",color:"black"}}," ",o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"COMPETITIONS"))),o.a.createElement(f.b,{to:"/app/analysisPage",style:{textDecoration:"none",color:"black"}},"  ",o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"ANALYSIS"))),o.a.createElement(f.b,{to:"/app/export",style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{style:{backgroundColor:"transparent",color:"black",height:"100px"},onMouseOver:this.changeBackground,onMouseOut:this.originalBackground},o.a.createElement("b",null,"EXPORT")))))))))}}]),a}(n.Component),_e=a(8),Me=a.n(_e),Fe=a(11),Ue=Object(S.a)((function(e){return{pageTitleContainer:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},typo:{color:e.palette.text.hint},button:{boxShadow:e.customShadows.widget,textTransform:"none","&:active":{boxShadow:e.customShadows.widgetWide}}}})),Qe=(a(1275),a(10));Object(S.a)((function(e){return{badge:{fontWeight:600,height:16,minWidth:16}}}));function Ve(e){var t=e.children,a=e.weight,n=e.size,r=e.colorBrightness,l=e.color,s=Object(g.a)(e,["children","weight","size","colorBrightness","color"]),i=Object(he.a)();return o.a.createElement(O.a,Object.assign({style:{color:He(l,i,r),fontWeight:Ke(a),fontSize:Ye(n,s.variant,i)}},s),t)}function We(e){var t=e.children,a=e.color,n=e.className,r=Object(g.a)(e,["children","color","className"]),l=Object(he.a)(),s=Xe({root:{color:He(a,l)},contained:{backgroundColor:He(a,l),boxShadow:l.customShadows.widget,color:"".concat(a?"white":l.palette.text.primary," !important"),"&:hover":{backgroundColor:He(a,l,"light"),boxShadow:l.customShadows.widgetWide},"&:active":{boxShadow:l.customShadows.widgetWide}},outlined:{color:He(a,l),borderColor:He(a,l)},select:{backgroundColor:l.palette.primary.main,color:"#fff"}});return o.a.createElement(s,null,(function(e){var a=e.classes;return o.a.createElement(Re.a,Object.assign({classes:{contained:a.contained,root:a.root,outlined:a.outlined}},r,{className:b()(Object(E.a)({},a.select,r.select),n)}),t)}))}function He(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";if(e&&t.palette[e]&&t.palette[e][a])return t.palette[e][a]}function Ke(e){switch(e){case"light":return 300;case"medium":return 500;case"bold":return 600;default:return 400}}function Ye(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;switch(e){case"sm":t=.8;break;case"md":t=1.5;break;case"xl":t=2;break;case"xxl":t=3;break;default:t=1}var o=a&&n.typography[a]?n.typography[a].fontSize:n.typography.fontSize+"px";return"calc(".concat(o," * ").concat(t,")")}function Xe(e,t){return Object(Qe.a)(e,t)((function(e){return(0,e.children)(Object(g.a)(e,["children"]))}))}function Je(e){var t=Ue();return o.a.createElement("div",{className:t.pageTitleContainer},o.a.createElement(Ve,{className:t.typo,variant:"h2",size:"sm"},e.title),e.button&&o.a.createElement(Re.a,{classes:{root:t.button},variant:"contained",size:"medium",color:"secondary"},e.button))}var Ze=a(141),$e=a(422),et=a(504),tt=a(1277),at=a(1224),nt=a(425),ot=a(505),rt=a(1313),lt=a(1278),st=a(435),it=a(321),ct=a.n(it),dt=a(25),pt=a(149),ut=a.n(pt),mt=(a(280),function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Ae.a)(a,[{key:"render",value:function(){return this.state.hasError?o.a.createElement(y.a,{to:"/app/dashboard"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(o.a.Component)),ht=a(1276),gt=a(137),ft=a.n(gt),yt="unapproved",Et="approved",vt="inactive",bt=[],St=[],Ct="",It=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n,o;return Object(Oe.a)(this,a),(o=t.call(this,e)).onChange=function(e){o.setState({date:e})},o.handleChangeGender=function(e){o.setState({selectedOptionGender:e}),o.setState({selectedOption:e.value})},o.handleChangeRole=function(e){o.setState({selectedOptionRole:e}),o.setState({selectedOption_role:e.value})},o.handleClose=function(){o.setState({openAlert:!1,openError:!1})},o.handlePhoneChange=function(){if(null===o.state.phone||""===o.state.phone)o.setState({phone:""});else{var e=o.state.phone.replace(/\s/g,"");e=e.replace(/-/g,""),o.setState({phone:e})}},o.onSubmit=function(){o.handlePhoneChange(),""==o.state.firstname&&o.setState({error_firstname:!0}),""==o.state.loginID&&o.setState({error_loginID:!0}),null==o.state.selectedOption_role&&o.setState({error_role:!0}),null==o.state.selectedOption&&o.setState({error_gender:!0}),null!=o.state.selectedOption&&null!=o.state.selectedOption_role&&""!=o.state.loginID&&""!=o.state.firstname&&(o.state.username=o.state.firstname+" "+o.state.lastname,o.fetchData())},o.handleChange=function(e){o.setState({selectedOption:e,error_gender:!1})},o.handleStatusChange=function(e){o.setState({status:e})},o.handleApprovalChange=function(e){o.setState({approval:e})},o.handleChange_role=function(e){o.setState({selectedOption_role:e,error_role:!1})},o.handleClickShowPassword=function(){o.state.showPassword?o.setState({showPassword:!1}):o.setState({showPassword:!0})},o.handleMouseDownPassword=function(e){e.preventDefault()},o.handleFirstnameChange=function(e){o.setState({firstname:e,error_firstname:!1})},o.handleLastnameChange=function(e){o.setState({lastname:e,error_lastname:!1})},o.handleLoginIDChange=function(e){o.setState({loginID:e,error_loginID:!1})},o.handlePasswordChange=function(e){o.setState({password:e,error_pass:!1})},o.handleEmailIDChange=function(e){""==e?o.setState({emailID:null}):o.setState({emailID:e}),"Student"!=o.state.selectedOption_role&&o.handleLoginIDChange(e)},o.onCancel=function(){if(null!=o.state.dataX.userRoleID&&null!=o.state.dataX.userID.username){var e;Ct="users",e=null==o.state.dataX.userID.phone?"":o.state.dataX.userID.phone;var t=o.state.dataX.userID.username.split(" ");null==o.state.dataX.userID.birthdate?o.setState({userID:o.state.dataX.userID.userID,loginID:o.state.dataX.userID.loginID,username:o.state.dataX.userID.username,firstname:t[0],lastname:t[1],selectedOption_role:o.state.dataX.RoleID.RoleName,selectedOptionRole:o.state.dataX.RoleID.RoleName,phone:e,selectedOption:o.state.dataX.userID.gender.codeName,selectedOptionGender:o.state.dataX.userID.gender.codeName,date:"",dateString:"",emailID:o.state.dataX.userID.email,approval:o.state.dataX.userID.is_active.codeName,status:o.state.dataX.userID.is_active.codeName,userRoleID:o.state.dataX.userRoleID}):o.setState({userID:o.state.dataX.userID.userID,loginID:o.state.dataX.userID.loginID,username:o.state.dataX.userID.username,firstname:t[0],lastname:t[1],selectedOption_role:o.state.dataX.RoleID.RoleName,selectedOptionRole:o.state.dataX.RoleID.RoleName,selectedOptionGender:o.state.dataX.userID.gender.codeName,phone:e,selectedOption:o.state.dataX.userID.gender.codeName,date:new Date(o.state.dataX.userID.birthdate),dateString:o.state.dataX.userID.birthdate,emailID:o.state.dataX.userID.email,approval:o.state.dataX.userID.is_active.codeName,status:o.state.dataX.userID.is_active.codeName,userRoleID:o.state.dataX.userRoleID})}else{var a;Ct="contactInfo",a=null==o.state.dataX.phone?"":o.state.dataX.phone;t=o.state.dataX.username.split(" ");null==o.state.dataX.birthdate?o.setState({userID:o.state.dataX.userID,loginID:o.state.dataX.loginID,username:o.state.dataX.username,firstname:t[0],lastname:t[1],selectedOption_role:o.state.dataX.role,selectedOptionRole:o.state.dataX.role,selectedOptionGender:o.state.dataX.userID.gender,phone:a,selectedOption:o.state.dataX.gender,date:"",dateString:"",emailID:o.state.dataX.email,approval:o.state.dataX.is_active,status:o.state.dataX.is_active,userRoleID:o.state.dataX.userRoleID}):o.setState({userID:o.state.dataX.userID,loginID:o.state.dataX.loginID,username:o.state.dataX.username,firstname:t[0],lastname:t[1],selectedOption_role:o.state.dataX.role,selectedOptionRole:o.state.dataX.role,selectedOptionGender:o.state.dataX.userID.gender,phone:a,selectedOption:o.state.dataX.gender,date:new Date(o.state.dataX.birthdate),dateString:o.state.dataX.userID.birthdate,emailID:o.state.dataX.email,approval:o.state.dataX.is_active,status:o.state.dataX.is_active,userRoleID:o.state.dataX.userRoleID})}o.setState({readOnly:!0,clicked:!1,isHidden:!0})},o.state=(n={selectedOption:"",dataX:"",selectedOption_role:"",phone:"",value:"",userRoleID:"",userID:"",date:"",approval:"",username:"",Firstname:"",Lastname:"",loginID:"",emailID:"",error_firstname:!1,error_loginID:!1,error_role:!1,error_gender:!1,dateString:"",onClick:!1,openAlert:!1,openError:!1,userName:localStorage.getItem("username"),finalStatus:"",selectedOptionGender:"",GenderList:[],selectedOptionRole:"",RoleList:[]},Object(E.a)(n,"approval",""),Object(E.a)(n,"status",""),Object(E.a)(n,"readOnly",!0),Object(E.a)(n,"isHidden",!0),Object(E.a)(n,"clicked",!1),n),o}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.location),e.prev=1,t=this.props.location.data[0],this.setState({dataX:this.props.location.data[0]}),null!=t.userRoleID&&null!=t.userID.username?(Ct="users",a=null==t.userID.phone?"":t.userID.phone,n=t.userID.username.split(" "),null==t.userID.birthdate?this.setState({userID:t.userID.userID,loginID:t.userID.loginID,username:t.userID.username,firstname:n[0],lastname:n[1],selectedOption_role:t.RoleID.RoleName,phone:a,selectedOption:t.userID.gender.codeName,date:"",dateString:"",emailID:t.userID.email,approval:t.userID.is_active.codeName,status:t.userID.is_active.codeName,userRoleID:t.userRoleID}):this.setState({userID:t.userID.userID,loginID:t.userID.loginID,username:t.userID.username,firstname:n[0],lastname:n[1],selectedOption_role:t.RoleID.RoleName,phone:a,selectedOption:t.userID.gender.codeName,date:new Date(t.userID.birthdate),dateString:t.userID.birthdate,emailID:t.userID.email,approval:t.userID.is_active.codeName,status:t.userID.is_active.codeName,userRoleID:t.userRoleID})):(Ct="contactInfo",o=null==t.phone?"":t.phone,n=t.username.split(" "),null==t.birthdate?this.setState({userID:t.userID,loginID:t.loginID,username:t.username,firstname:n[0],lastname:n[1],selectedOption_role:t.role,phone:o,selectedOption:t.gender,date:"",dateString:"",emailID:t.email,approval:t.is_active,status:t.is_active,userRoleID:t.userRoleID}):this.setState({userID:t.userID,loginID:t.loginID,username:t.username,firstname:n[0],lastname:n[1],selectedOption_role:t.role,phone:o,selectedOption:t.gender,date:new Date(t.birthdate),dateString:t.userID.birthdate,emailID:t.email,approval:t.is_active,status:t.is_active,userRoleID:t.userRoleID})),e.next=7,Q.a.get(V+"api/usr/roleList/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 7:for(r=e.sent,this.setState({RoleList:r.data,selectedOptionRole:this.state.selectedOption_role}),St.length=0,l=0;l<this.state.RoleList.length;l++)s=this.state.RoleList[l].RoleName,St.push({value:s,label:s});return e.next=13,Q.a.get(V+"api/usr/getGender/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 13:for(i=e.sent,this.setState({GenderList:i.data,selectedOptionGender:this.state.selectedOption}),bt.length=0,c=0;c<this.state.GenderList.length;c++)d=this.state.GenderList[c].codeName,bt.push({value:d,label:d});e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,this.state.dateString==this.state.date?t=""==this.state.date?null:this.state.date.toString():""!=this.state.date&&null!=this.state.date?(this.state.date=this.state.date.getFullYear()+"-"+(this.state.date.getMonth()+1)+"-"+this.state.date.getDate(),t=this.state.date.toString()):t=null,this.state.approval==yt&&(this.state.finalStatus=yt),this.state.approval==Et&&(this.state.finalStatus=Et),this.state.status==yt&&this.state.approval==vt&&(this.state.finalStatus=Et),this.state.status==vt&&(this.state.finalStatus=vt),a=null==this.state.selectedOptionRole.value?this.state.selectedOptionRole:this.state.selectedOptionRole.value,"+"===this.state.phone||this.state.phone.length<5||""===this.state.phone?n=null:(n=this.state.phone).includes("+")||(n="+"+n),o=null,""!=this.state.emailID&&null!=this.state.emailID&&(o=this.state.emailID),console.log({userID:{username:this.state.username,email:o,phone:n,birthdate:t,gender:{codeName:this.state.selectedOption},modified_by:this.state.userName,is_active:{codeName:this.state.finalStatus}},RoleID:{RoleName:a}}),e.prev=11,e.next=14,Q.a.post(V+"api/usr/updateUser/"+this.state.userRoleID+"/",{userID:{username:this.state.username,email:o,phone:n,birthdate:t,gender:{codeName:this.state.selectedOption},modified_by:this.state.userName,is_active:{codeName:this.state.finalStatus}},RoleID:{RoleName:a}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}});case 14:e.sent,this.alertAndRedirect(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[11,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"alertAndRedirect",value:function(){var e=this;new Date(this.state.date);setTimeout((function(){e.setState({openAlert:!0,phone:"",date:null})}),1e3),setTimeout((function(){e.setState({openAlert:!1,onClick:!0})}),4e3)}},{key:"render",value:function(){var e=this,t=this.state.readOnly,a=this.state,n=(a.selectedOption,a.selectedOption_role,this.state),r=(n.value,n.error,n.successValidation,this.props.classes),l={control:function(e){return Object(c.a)(Object(c.a)({},e),{},{height:"56px",marginTop:"10px",fontSize:"16px",backgroundColor:"white"})},option:function(e){return Object(c.a)(Object(c.a)({},e),{},{width:"300px"})}};return o.a.createElement(mt,null,o.a.createElement(Je,{title:"Update User Details"}),o.a.createElement(ht.a,{variant:"extended",style:{marginLeft:"90%",marginTop:"-8%"},color:"primary",onClick:function(a){e.setState({readOnly:!t,isHidden:!1,clicked:!0})},disabled:this.state.clicked},o.a.createElement(ft.a,null),"EDIT"),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.openAlert,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"User Updated Successfully!"))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"10%",marginTop:"2%",paddingLeft:"3%"}},o.a.createElement("div",null,o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"First Name")),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:"outlined-textarea",disabled:t,label:this.state.error_firstname?"Enter First Name":"",helperText:this.state.error_firstname?"Required* ":"",error:this.state.error_firstname,onChange:function(t){return e.handleFirstnameChange(t.target.value)},value:this.state.firstname,style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter First Name",variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_firstname?o.a.createElement(lt.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Last Name")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{id:"outlined-textarea",disabled:t,onChange:function(t){return e.handleLastnameChange(t.target.value)},value:this.state.lastname,style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter Last Name",variant:"outlined"}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Gender")),o.a.createElement($e.a,{p:1,style:{marginLeft:"170px",width:"320px",display:"flex"}},o.a.createElement("div",{style:{width:"320px"}},o.a.createElement(dt.a,{id:"gender",value:this.state.selectedOptionGender,onChange:this.handleChangeGender,label:"Gender",options:bt,placeholder:this.state.selectedOption,variant:"outlined",styles:l,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_gender?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Phone")),o.a.createElement($e.a,{p:1},o.a.createElement(ut.a,{containerStyle:{marginTop:"10px",marginLeft:"180px",height:"56px"},inputStyle:{height:"56px",fontSize:"16px"},country:"in",disabled:t,value:this.state.phone,onChange:function(t){return e.setState({phone:t})}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Email")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{id:"outlined-textarea",disabled:t,style:{marginLeft:"190px",width:"300px",display:"flex"},placeholder:"Enter Email ID",variant:"outlined",value:this.state.emailID,onChange:function(t){e.handleEmailIDChange(t.target.value)}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Date Of Birth")),o.a.createElement($e.a,{p:1,style:{marginLeft:"114px",height:"73px",width:"315px",display:"flex"}},o.a.createElement(ct.a,{style:{height:"90px",fontSize:"16px",backgroundColor:"#ffffff"},onChange:this.onChange,value:this.state.date,format:"dd-MM-yyyy",disabled:t,className:r.datePicker}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Login ID")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{disabled:!0,id:"outlined-textarea",value:this.state.loginID,label:this.state.error_loginID?"Enter LoginID":"",helperText:this.state.error_loginID?"Required* ":"",error:this.state.error_loginID,style:{marginLeft:"163px",width:"300px",display:"flex"},placeholder:"Login ID",variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_loginID?o.a.createElement(lt.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Role")),o.a.createElement($e.a,{p:1,style:{marginLeft:"202px",width:"320px",display:"flex"}},o.a.createElement("div",{style:{width:"320px"}},o.a.createElement(dt.a,{id:"role",value:this.state.selectedOptionRole,onChange:this.handleChangeRole,label:"Role",options:St,placeholder:this.state.selectedOption_role,variant:"outlined",styles:l,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_role?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Status")),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(nt.a,{component:"fieldset",className:(r.formControl,r.margin)},o.a.createElement(st.RadioGroup,{value:this.state.status},o.a.createElement(ot.a,{style:{marginTop:"-10px",marginLeft:"155px"},value:Et,control:o.a.createElement(rt.a,{color:"primary",disabled:t,onChange:function(t){return e.handleStatusChange(t.target.value)}}),label:"Active"}),o.a.createElement(ot.a,{style:{marginTop:"-10px"},value:vt,control:o.a.createElement(rt.a,{color:"primary",disabled:t,onChange:function(t){return e.handleStatusChange(t.target.value)}}),label:"Inactive"}))))),this.state.status==vt?null:o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Approval")),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(nt.a,{component:"fieldset",className:(r.formControl,r.margin)},o.a.createElement(st.RadioGroup,{value:this.state.approval},o.a.createElement(ot.a,{style:{marginTop:"-10px",marginLeft:"128px"},value:Et,control:o.a.createElement(rt.a,{disabled:t,color:"primary",onChange:function(t){return e.handleApprovalChange(t.target.value)}}),label:"Approved"}),o.a.createElement(ot.a,{style:{marginTop:"-10px"},value:yt,control:o.a.createElement(rt.a,{color:"primary",disabled:t,onChange:function(t){return e.handleApprovalChange(t.target.value)}}),label:"Unapproved"}))))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},this.state.isHidden?"":o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"200px",width:"200px",display:"flex"}},"Update Details"),this.state.onClick&&"users"==Ct?o.a.createElement(y.a,{to:"/app/users"}):null,this.state.onClick&&"contactInfo"==Ct?o.a.createElement(y.a,{to:"/app/schools"}):null),o.a.createElement($e.a,{p:1,m:1},this.state.isHidden?"":o.a.createElement(Re.a,{onClick:this.onCancel,variant:"contained",color:"textSecondary",style:{width:"200px",display:"flex"}},"Cancel")))),o.a.createElement("div",null)))}}]),a}(o.a.PureComponent),Dt=Object(Qe.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200},formControl:{margin:e.spacing(3)},datePicker:{width:500}}}))(It),xt=a(330),kt=a(60),wt=a.n(kt),Ot=(a(506),a(331)),At=a.n(Ot),Tt=a(332),Lt=a(333);function Nt(){var e=Object(xt.a)(["\n  width: ",";\n  height:",";\n  "]);return Nt=function(){return e},e}var Bt=[],jt=Lt.a.div(Nt(),(function(e){return e.width}),(function(e){return e.height})),qt=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={schools:[]},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r,l,s,i,c,d,p;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getSchool/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:t=e.sent,this.setState({schools:t.data}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 10:return e.prev=10,e.next=13,Q.a.get(V+"api/com/getAddress/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 13:a=e.sent,n=new Tt.a,r="",l=0;case 17:if(!(l<a.data.length)){e.next=28;break}return r=a.data[l].line1+", "+a.data[l].line2+", "+a.data[l].city+", "+a.data[l].districtID.name+", "+a.data[l].stateID.name+", "+a.data[l].pincode,e.next=21,n.search({query:r});case 21:s=e.sent,i=s[0].y,c=s[0].x,Bt.push({value:[i,c],label:this.state.schools[l].schoolName,address:a.data[l].line1+" "+a.data[l].line2+" "+a.data[l].city});case 25:l++,e.next=17;break;case 28:e.next=33;break;case 30:return e.prev=30,e.t1=e.catch(10),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 33:for(e.prev=33,this.map=wt.a.map("map",{center:[22.9734,78.6569],zoom:5,zoomControl:!0}),wt.a.tileLayer(K,{maxZoom:20,maxNativeZoom:17}).addTo(this.map),d=wt.a.icon({iconUrl:At.a,iconSize:[61,70],shadowSize:[50,64],iconAnchor:[22,49],shadowAnchor:[4,62],popupAnchor:[-3,-50]}),p=0;p<Bt.length;p++)wt.a.marker(Bt[p].value,{icon:d}).addTo(this.map).bindPopup("<b>"+Bt[p].label+"</b><br></br>"+Bt[p].address);return e.finish(33);case 39:case"end":return e.stop()}}),e,this,[[0,7],[10,30,33,39]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(jt,{width:"1280px",height:"720px",id:"map"})}}]),a}(n.Component),Pt=a(18),Rt=a(1291),Gt=a(1282),zt=a(1299),_t=a(428),Mt=a.n(_t),Ft=a(426),Ut=a(1230),Qt=a(1279),Vt=a(1280),Wt="approved",Ht=[],Kt=[],Yt=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).onChange=function(e){null==e?n.setState({date:""}):n.setState({date:e})},n.handleClose=function(){n.setState({openAlert:!1,openError:!1})},n.handlePhoneChange=function(){var e=n.state.phone.replace(/\s/g,"");"+"===(e=e.replace(/-/g,""))||""===e?n.setState({phone:""}):n.setState({phone:e,error_phone:!1})},n.onSubmit=function(){n.handlePhoneChange(),""==n.state.password&&n.setState({error_pass:!0}),""==n.state.firstname&&n.setState({error_firstname:!0}),""==n.state.lastname&&n.setState({error_lastname:!0}),""==n.state.phone&&n.setState({error_phone:!0}),""==n.state.loginID&&n.setState({error_loginID:!0}),Mt.a.isEmail(n.state.emailID)||n.setState({error_email:!0}),""==n.state.selectedOption_role&&n.setState({error_role:!0}),""==n.state.selectedOption&&n.setState({error_gender:!0}),"+"!=n.state.phone&&""!=n.state.phone&&0==n.state.error_email&&0==n.state.error_gender&&0==n.state.error_loginID&&0==n.state.error_role&&0==n.state.error_firstname&&0==n.state.error_lastname&&0==n.state.error_pass&&(n.state.username=n.state.firstname+" "+n.state.lastname,n.fetchData())},n.handleChange=function(e){n.setState({selectedOption:e,error_gender:!1})},n.handleChange_role=function(e){n.setState({selectedOption_role:e,error_role:!1})},n.handleClickShowPassword=function(){n.state.showPassword?n.setState({showPassword:!1}):n.setState({showPassword:!0})},n.handleMouseDownPassword=function(e){e.preventDefault()},n.handleFirstnameChange=function(e){n.setState({firstname:e,error_firstname:!1})},n.handleLastnameChange=function(e){n.setState({lastname:e,error_lastname:!1})},n.handleLoginIDChange=function(e){n.setState({loginID:e,error_loginID:!1})},n.handlePasswordChange=function(e){n.setState({password:e,error_pass:!1})},n.handleEmailIDChange=function(e){n.setState({emailID:e,error_email:!1})},n.state={selectedOption:"",selectedOption_role:"",phone:"",userRoleID:"",userID:"",date:null,error:!1,error_input:!1,approval:"approved",username:"",firstname:"",lastname:"",loginID:"",password:"",emailID:"",status:"active",showPassword:!1,onClick:!1,openAlert:!1,openError:!1,error_pass:!1,error_firstname:!1,error_lastname:!1,error_loginID:!1,error_email:!1,error_role:!1,error_gender:!1,error_phone:!1,is_active:"",userName:localStorage.getItem("username"),rolelist:[],genderlist:[]},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/usr/roleListAdd/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.setState({rolelist:t.data}),Ht.length=0,a=0;a<this.state.rolelist.length;a++)n=this.state.rolelist[a].RoleName,Ht.push({value:n,label:n});e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 12:return e.prev=12,e.next=15,Q.a.get(V+"api/usr/getGender/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 15:for(o=e.sent,this.setState({genderlist:o.data}),Kt.length=0,r=0;r<this.state.genderlist.length;r++)l=this.state.genderlist[r].codeName,Kt.push({value:l,label:l});e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),this.props.history.push("/app/dashboard");case 24:case"end":return e.stop()}}),e,this,[[0,9],[12,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a="+"==this.state.phone?"":this.state.phone).includes("+")||""===a||(a="+"+a),t=""==this.state.date?[this.state.loginID,this.state.username,this.state.emailID,a,this.state.password,"",this.state.selectedOption_role.value]:[this.state.loginID,this.state.username,this.state.emailID,a,this.state.password,this.state.date.getFullYear()+"-"+(this.state.date.getMonth()+1)+"-"+this.state.date.getDate(),this.state.selectedOption_role.value],e.prev=3,e.next=6,Q.a.post(V+"api/usr/insertUser/",{userID:{loginID:t[0],username:t[1],email:t[2],phone:t[3],password:t[4],birthdate:t[5].toString(),gender:{codeName:this.state.selectedOption.value},created_by:this.state.userName,modified_by:this.state.userName,is_active:{codeName:Wt}},RoleID:{RoleName:t[6]}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.alertAndRedirect()})).catch((function(e){this.setState({openError:!0})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"alertAndRedirect",value:function(){var e=this;setTimeout((function(){e.setState({openAlert:!0})}),1e3),setTimeout((function(){e.setState({openAlert:!1,onClick:!0})}),4e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.selectedOption_role,r={control:function(e){return Object(c.a)(Object(c.a)({},e),{},{height:"56px",fontSize:"16px"})}},l=this.props.classes;return o.a.createElement(mt,null,o.a.createElement(Je,{title:"Add New User"}),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.openAlert,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"User Added Successfully!"))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"10%",marginTop:"2%",paddingLeft:"3%"}},o.a.createElement("div",null,o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"First Name")),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:"outlined-textarea",label:this.state.error_firstname?"Enter First Name":"",helperText:this.state.error_firstname?"Required* ":"",error:this.state.error_firstname,onChange:function(t){return e.handleFirstnameChange(t.target.value)},style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter First Name",variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_username?o.a.createElement(lt.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Last Name")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{id:"outlined-textarea",onChange:function(t){return e.handleLastnameChange(t.target.value)},style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter Last Name",variant:"outlined"}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Password")),o.a.createElement($e.a,{p:1,style:{marginLeft:"4px"}},o.a.createElement(nt.a,{className:(l.margin,l.textField),variant:"outlined",style:{marginLeft:"135px",width:"300px",display:"flex"}},this.state.error_pass?o.a.createElement(Ft.a,{style:{backgroundColor:"white",color:"red"}},"Enter Password"):"",o.a.createElement(Ut.a,{type:this.state.showPassword?"text":"password",value:this.state.password,placeholder:"Enter password",error:this.state.error_pass,onChange:function(t){return e.handlePasswordChange(t.target.value)},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,edge:"end"},this.state.showPassword?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))}),this.state.error_pass?o.a.createElement(at.a,{style:{color:"red"}},"Required*"):""))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Gender")),o.a.createElement($e.a,{p:1,style:{marginLeft:"164px",width:"320px",display:"flex"}},o.a.createElement("div",{style:{width:"320px"}},o.a.createElement(dt.a,{style:{color:"red"},styles:r,value:a,onChange:this.handleChange,options:Kt}),this.state.error_gender?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Phone")),o.a.createElement($e.a,{p:1},o.a.createElement(ut.a,{containerStyle:{marginTop:"10px",marginLeft:"170px",height:"56px"},inputStyle:{height:"56px",fontSize:"16px"},country:"in",value:this.state.phone,onChange:function(t){return e.setState({phone:t})},isValid:function(e,t){return e.match(/12345/)?"Invalid Value":!e.match(/1234/)}}),this.state.error_phone?o.a.createElement(at.a,{style:{color:"red",marginLeft:"40%"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Email")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{id:"outlined-textarea",style:{marginLeft:"180px",width:"300px",display:"flex"},placeholder:"Enter Email ID",variant:"outlined",error:this.state.error_email,label:this.state.error_email?"Enter valid Email ID":"",helperText:this.state.error_email?"Required*":"",onChange:function(t){e.handleEmailIDChange(t.target.value),e.handleLoginIDChange(t.target.value)},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_email?o.a.createElement(lt.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,marginTop:"20px"},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Date Of Birth")),o.a.createElement($e.a,{p:1,style:{marginLeft:"116px",width:"300px",display:"flex"}},o.a.createElement("div",{style:{marginTop:"10px",height:"56px",fontSize:"16px"}},o.a.createElement(ct.a,{onChange:this.onChange,value:this.state.date,format:"dd-MM-yyyy",className:l.datePicker})))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Login ID")),o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{disabled:!0,id:"outlined-textarea",style:{marginLeft:"156px",width:"300px",display:"flex"},placeholder:"Login ID",variant:"outlined",value:this.state.loginID,InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_loginID?o.a.createElement(lt.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",color:"textSecondary"},"Role")),o.a.createElement($e.a,{p:1,style:{marginLeft:"190px",width:"320px",display:"flex"}},o.a.createElement("div",{style:{width:"320px"}},o.a.createElement(dt.a,{styles:r,value:n,onChange:this.handleChange_role,options:Ht}),this.state.error_role?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"290px",width:"300px",display:"flex"}},"Add New User"),this.state.onClick?o.a.createElement(y.a,{to:"/app/users"}):null)))))}}]),a}(o.a.PureComponent),Xt=Object(Qe.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200},datePicker:{width:300,height:50,border:"1px solid white",borderRadius:"5px"}}}))(Yt),Jt=a(52),Zt=a.n(Jt),$t="unapproved",ea="approved",ta="inactive",aa={active:"#3CD4A0",inactive:"#FF5C93",approved:"#3CD4A0",pending:"#FFC260"},na=[{name:"Name",options:{download:!0}},{name:"LoginID",options:{download:!0}},{name:"Phone",options:{download:!0,display:!1,filter:!1,viewColumns:!1}},{name:"Role",options:{download:!0}},{name:"Created On",options:{download:!0}},{name:"Created By",options:{download:!0,display:!1,filter:!1,viewColumns:!1}},{name:"userRoleID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"userID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"RoleID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Email",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Birthdate",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Gender",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Modified By",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Modified On",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Is Active",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Status",options:{download:!0}},{name:"Approval",options:{download:!0}}],oa=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){"clickaway"!==t&&n.setState({norecords:!1})},n.finalApproval=function(e){return e==ea?"APPROVED":e==$t?"PENDING":""},n.finalStatus=function(e){return e==$t||e==ea?"ACTIVE":e==ta?"INACTIVE":void 0},n.handleChangeData=function(e){n.getSearchedData(e)},n.handleSearchChange=function(e){n.setState({searchValue:e})},n.enterPressAlert=function(e){13==(e.keyCode?e.keyCode:e.which)&&n.getSearchedData(e.target.value)},n.state={countRows:0,countRows2:0,pageSize:10,page:0,searchValue:"",nextLink:"",prevLink:"",getValue:[],getValue2:[],norecords:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/usr/viewUsers/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:0==(t=e.sent).data.results.length?(this.setState({norecords:!0}),document.getElementById("UserList").style.display="none"):document.getElementById("UserList").style.display="block",this.setState({getValue:t.data.results}),this.setState({nextLink:t.data.links.next,pageSize:t.data.page_size,prevLink:t.data.links.previous,countRows:t.data.count}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSearchedData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({getValue2:[],page:0}),e.next=3,Q.a.post(V+"api/usr/getUserSearch/",{feed:t},{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({open_error:!0})}));case 3:0==(a=e.sent).data.length?(this.setState({norecords:!0}),document.getElementById("UserSearch").style.display="none"):document.getElementById("UserSearch").style.display="block",this.setState({getValue2:a.data,page:0}),this.setState({page:0,pageSize:a.page_size,countRows2:a.count});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.state.nextLink){e.next=6;break}return e.next=3,Q.a.get(this.state.nextLink,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:t=e.sent,this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),Object(Pt.a)(t.data.results))}})),this.setState({nextLink:t.data.links.next,pageSize:t.data.page_size,prevLink:t.data.links.previous,countRows:t.data.count});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props;return o.a.createElement(mt,null,o.a.createElement(D.a,{open:this.state.norecords,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"warning"},"No Records found!")),o.a.createElement(Je,{title:"Users"}),o.a.createElement(Rt.a,{item:!0},o.a.createElement(et.a,{placeholder:"Search",onKeyPress:function(t){return e.enterPressAlert(t)},className:t.root,style:{width:"300px",height:"20px",marginLeft:"30%",marginTop:"-3%",marginBottom:"-10px"},value:this.state.searchValue,onChange:function(t){return e.handleSearchChange(t.target.value)},InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{onClick:function(){return e.handleChangeData(e.state.searchValue)}},o.a.createElement(zt.a,null)))}})),o.a.createElement(We,{color:"primary",variant:"contained",style:{marginBottom:"-10px",marginLeft:"90%",marginTop:"-10%"},onClick:function(){return e.props.history.push("/app/user/add")}},"ADD"),o.a.createElement(Rt.a,{container:!0,spacing:4},""===this.state.searchValue?o.a.createElement(Rt.a,{id:"UserList",item:!0,xs:12,style:{zIndex:"0"}},o.a.createElement(Zt.a,{title:"User List",data:this.state.getValue.map((function(t){return[t.userID.username,t.userID.loginID,t.userID.phone,t.RoleID.RoleName,t.userID.created_on.replace(/T|Z/g," ").substring(0,19),t.userID.created_by,t.userID.userID,t.userRoleID,t.RoleID.RoleID,t.userID.email,t.userID.birthdate,t.userID.gender.codeName,t.userID.modified_by,t.userID.modified_on,t.userID.is_active.codeName,o.a.createElement("h4",{style:{color:aa[e.finalStatus(t.userID.is_active.codeName).toLowerCase()]}},e.finalStatus(t.userID.is_active.codeName)),o.a.createElement("h4",{style:{color:aa[e.finalApproval(t.userID.is_active.codeName).toLowerCase()]}},e.finalApproval(t.userID.is_active.codeName))]})),columns:na,options:{selectableRows:!1,onRowClick:function(t){return la(t,e.props.history)},rowsPerPage:this.state.pageSize,download:!1,page:this.state.page,onDownload:!0,print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows,onChangePage:function(){return e.handlePageChange()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}})):o.a.createElement(Rt.a,{id:"UserSearch",item:!0,xs:12,style:{zIndex:"0",display:"none"}},o.a.createElement(Zt.a,{title:"User List",data:this.state.getValue2.map((function(t){return[t.userID.username,t.userID.loginID,t.userID.phone,t.RoleID.RoleName,t.userID.created_on.replace(/T|Z/g," "),t.userID.created_by,t.userID.userID,t.userRoleID,t.RoleID.RoleID,t.userID.email,t.userID.birthdate,t.userID.gender.codeName,t.userID.modified_by,t.userID.modified_on,t.userID.is_active.codeName,o.a.createElement("h4",{style:{color:aa[e.finalStatus(t.userID.is_active.codeName).toLowerCase()]}},e.finalStatus(t.userID.is_active.codeName)),o.a.createElement("h4",{style:{color:aa[e.finalApproval(t.userID.is_active.codeName).toLowerCase()]}},e.finalApproval(t.userID.is_active.codeName))]})),columns:na,options:{selectableRows:!1,onRowClick:function(t){return la(t,e.props.history)},rowsPerPage:this.state.pageSize,download:!1,page:this.state.page,onDownload:!0,print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows2,textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}}))))}}]),a}(o.a.PureComponent),ra=Object(Qe.a)((function(e){return{root:{background:"#fff"}}}))(oa);function la(e,t){var a=[{userRoleID:e[7],RoleID:{RoleID:e[8],RoleName:e[3]},userID:{birthdate:e[10],created_by:e[5],created_on:e[4],email:e[9],gender:{codeName:e[11]},is_active:{codeName:e[14]},loginID:e[1],modified_by:e[12],modified_on:e[13],phone:e[2],userID:e[6],username:e[0]}}];t.push({pathname:"/app/user/update",data:a})}var sa=a(1284),ia=a(1285),ca=a(1286),da=a(1287),pa=a(1288),ua=a(1300),ma=["Caption","Identifier","Domain","Type","Language","Country",{name:"CS Skills",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Background",options:{display:!1,filter:!1,viewColumns:!1}},{name:"questionTranslationID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"questionID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Explanation",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Option 1",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Option 2",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Option 3",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Option 4",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Correct Option",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Ans Text",options:{display:!1,filter:!1,viewColumns:!1}}],ha=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClick=function(e){Boolean(n.state.anchorEl)?n.setState({anchorEl:null}):n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null,openBulk:!1,isProcessing:!1,file:""})},n.handleChange=function(e){n.setState({file:e.target.files[0]}),document.getElementById("errBulk").style.display="none"},n.handleUpload=function(){if(""!=n.state.file){n.setState({isProcessing:!0});var e=new FormData;e.append("data",JSON.stringify({modified_by:localStorage.getItem("username")})),e.append("text",n.state.file);try{Q()({method:"post",url:V+"api/cmp/bulkUploadQuestions/",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"Redirect"==e.data?n.setState({redirect:!0}):(n.setState({open_success:!0,isProcessing:!1,file:""}),setTimeout((function(){n.setState({openBulk:!1}),window.location.reload()}),2e3))}))}catch(t){Q.a.get(V+"api/cmp/rollBackQuestion/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){})),n.setState({open_error:!0,isProcessing:!1})}}else document.getElementById("errBulk").style.display="block"},n.handleAlertClose=function(){n.setState({open_error:!1,open_success:!1,norecords:!1})},n.handleChangeData=function(e){n.setState({getValue2:[]}),n.getSearchedData(e)},n.enterPressAlert=function(e){13==(e.keyCode?e.keyCode:e.which)&&n.getSearchedData(e.target.value)},n.handleSearchChange=function(e){n.setState({searchValue:e,getValue2:[]})},n.handleAlertRedirect=function(){n.props.history.push("/app/competitions/addGroups")},n.state={getValue:[],page:0,nextLinkQ:"",prevLinkQ:"",nextLinkO:"",prevLinkO:"",countRows:0,countRows2:0,pageSize:10,anchorEl:null,searchValue:"",isProcessing:!1,file:"",open_error:!1,open_success:!1,years:[],getValue2:[],nextLink2:"",prevLink2:"",redirect:!1,norecords:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("countAQ",1),"Complete"==localStorage.getItem("insertStatus")&&(localStorage.setItem("insertStatus",""),window.location.reload()),0,0,e.prev=3,e.delegateYield(Me.a.mark((function e(){var o,r,l,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[[]],e.next=3,Q.a.get(V+"api/ques/viewQuestions/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({open_error:!0})}));case 3:o=e.sent,l=o.data.Questions.results,s=o.data.Options,i=Me.a.mark((function e(){var o,i,c,d,p;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l[t],o.questionTranslationID,i=o.optionTranslationID,c=o.ansText,void 0,void 0,void 0,void 0,0,e.next=5,Q.a.get(V+"api/ques/getQuesSkills/"+l[t].questionTranslationID.questionID.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({open_error:!0})}));case 5:r=e.sent,d=l[t].questionTranslationID.questionID.questionID,p=s.filter((function(e){return e.optionID.questionID==d&&e.languageCodeID.codeName==l[t].questionTranslationID.languageCodeID.codeName})),a=null!=i?i.translationO.option:c,0!=p.length?n.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{questionID:l[t].questionTranslationID.questionID.questionID,identifier:l[t].questionTranslationID.Identifier,quesTransID:l[t].questionTranslationID.questionTranslationID,csSkills:r.data,caption:l[t].questionTranslationID.translation.caption,background:l[t].questionTranslationID.translation.background,explanation:l[t].questionTranslationID.translation.explanation,countryName:l[t].questionTranslationID.questionID.countryID.nicename,domainName:l[t].questionTranslationID.questionID.domainCodeID.codeName,questionType:l[t].questionTranslationID.questionID.questionTypeCodeID.codeName,language:l[t].questionTranslationID.languageCodeID.codeName,option1:p[0].translationO.option,option2:p[1].translationO.option,option3:p[2].translationO.option,option4:p[3].translationO.option,correctOption:a,ansText:c}])}})):n.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{questionID:l[t].questionTranslationID.questionID.questionID,identifier:l[t].questionTranslationID.Identifier,quesTransID:l[t].questionTranslationID.questionTranslationID,csSkills:r.data,caption:l[t].questionTranslationID.translation.caption,background:l[t].questionTranslationID.translation.background,explanation:l[t].questionTranslationID.translation.explanation,countryName:l[t].questionTranslationID.questionID.countryID.nicename,domainName:l[t].questionTranslationID.questionID.domainCodeID.codeName,questionType:l[t].questionTranslationID.questionID.questionTypeCodeID.codeName,language:l[t].questionTranslationID.languageCodeID.codeName,option1:null,option2:null,option3:null,option4:null,correctOption:a,ansText:c}])}}));case 10:case"end":return e.stop()}}),e)})),t=0;case 8:if(!(t<l.length)){e.next=13;break}return e.delegateYield(i(),"t0",10);case 10:t++,e.next=8;break;case 13:n.setState({nextLinkQ:o.data.Questions.links.next,pageSize:o.data.Questions.page_size,prevLinkQ:o.data.Questions.links.previous,countRows:o.data.Questions.count});case 14:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(3),this.props.history.push("/app/dashboard");case 10:case"end":return e.stop()}}),e,this,[[3,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0,0,[[]],e.prev=2,null==this.state.nextLinkQ){e.next=5;break}return e.delegateYield(Me.a.mark((function e(){var l,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(r.state.nextLinkQ,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){r.setState({open_error:!0})}));case 2:t=e.sent,l=t.data.Questions.results,s=t.data.Options,i=Me.a.mark((function e(){var t,i,c,d,p;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l[n],t.questionTranslationID,i=t.optionTranslationID,c=t.ansText,void 0,void 0,void 0,void 0,0,e.next=5,Q.a.get(V+"api/ques/getQuesSkills/"+l[n].questionTranslationID.questionID.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){r.setState({open_error:!0})}));case 5:a=e.sent,d=l[n].questionTranslationID.questionID.questionID,p=s.filter((function(e){return e.optionID.questionID==d&&e.languageCodeID.codeName==l[n].questionTranslationID.languageCodeID.codeName})),o=null!=i?i.translationO.option:c,0!=p.length?r.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{questionID:l[n].questionTranslationID.questionID.questionID,identifier:l[n].questionTranslationID.Identifier,quesTransID:l[n].questionTranslationID.questionTranslationID,csSkills:a.data,caption:l[n].questionTranslationID.translation.caption,background:l[n].questionTranslationID.translation.background,explanation:l[n].questionTranslationID.translation.explanation,countryName:l[n].questionTranslationID.questionID.countryID.nicename,domainName:l[n].questionTranslationID.questionID.domainCodeID.codeName,questionType:l[n].questionTranslationID.questionID.questionTypeCodeID.codeName,language:l[n].questionTranslationID.languageCodeID.codeName,option1:p[0].translationO.option,option2:p[1].translationO.option,option3:p[2].translationO.option,option4:p[3].translationO.option,correctOption:o,ansText:c}])}})):r.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{questionID:l[n].questionTranslationID.questionID.questionID,identifier:l[n].questionTranslationID.Identifier,quesTransID:l[n].questionTranslationID.questionTranslationID,csSkills:a.data,caption:l[n].questionTranslationID.translation.caption,background:l[n].questionTranslationID.translation.background,explanation:l[n].questionTranslationID.translation.explanation,countryName:l[n].questionTranslationID.questionID.countryID.nicename,domainName:l[n].questionTranslationID.questionID.domainCodeID.codeName,questionType:l[n].questionTranslationID.questionID.questionTypeCodeID.codeName,language:l[n].questionTranslationID.languageCodeID.codeName,option1:null,option2:null,option3:null,option4:null,correctOption:o,ansText:c}])}}));case 10:case"end":return e.stop()}}),e)})),n=0;case 7:if(!(n<l.length)){e.next=12;break}return e.delegateYield(i(),"t0",9);case 9:n++,e.next=7;break;case 12:r.setState({nextLinkQ:t.data.Questions.links.next,pageSize:t.data.Questions.page_size,prevLinkQ:t.data.Questions.links.previous,countRows:t.data.Questions.count});case 13:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(2),this.props.history.push("/app/dashboard");case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSearchedData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n,o,r,l,s,i,c=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post(V+"api/ques/getQuesSearch/",{feed:t},{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){c.setState({open_error:!0})}));case 2:a=e.sent,console.log(a),o=a.data.Questions,r=a.data.Options,0==o.length?(this.setState({norecords:!0}),document.getElementById("QuestionSearch").style.display="none"):document.getElementById("QuestionSearch").style.display="block",l=Me.a.mark((function e(){var t,a,l,d,p;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o[s],t.questionTranslationID,a=t.optionTranslationID,l=t.ansText,d=o[s].questionTranslationID.questionID.questionID,e.next=4,Q.a.get(V+"api/ques/getQuesSkills/"+d+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){c.setState({open_error:!0})}));case 4:n=e.sent,p=r.filter((function(e){return e.optionID.questionID==d&&e.languageCodeID.codeName==o[s].questionTranslationID.languageCodeID.codeName})),i=null!=a?a.translationO.option:l,0!=p.length?c.setState((function(e){return{getValue2:[].concat(Object(Pt.a)(e.getValue2),[{questionID:o[s].questionTranslationID.questionID.questionID,identifier:o[s].questionTranslationID.Identifier,quesTransID:o[s].questionTranslationID.questionTranslationID,csSkills:n.data,caption:o[s].questionTranslationID.translation.caption,background:o[s].questionTranslationID.translation.background,explanation:o[s].questionTranslationID.translation.explanation,countryName:o[s].questionTranslationID.questionID.countryID.nicename,domainName:o[s].questionTranslationID.questionID.domainCodeID.codeName,questionType:o[s].questionTranslationID.questionID.questionTypeCodeID.codeName,language:o[s].questionTranslationID.languageCodeID.codeName,option1:p[0].translationO.option,option2:p[1].translationO.option,option3:p[2].translationO.option,option4:p[3].translationO.option,correctOption:i,ansText:l}])}})):c.setState((function(e){return{getValue2:[].concat(Object(Pt.a)(e.getValue2),[{questionID:o[s].questionTranslationID.questionID.questionID,identifier:o[s].questionTranslationID.Identifier,quesTransID:o[s].questionTranslationID.questionTranslationID,csSkills:n.data,caption:o[s].questionTranslationID.translation.caption,background:o[s].questionTranslationID.translation.background,explanation:o[s].questionTranslationID.translation.explanation,countryName:o[s].questionTranslationID.questionID.countryID.nicename,domainName:o[s].questionTranslationID.questionID.domainCodeID.codeName,questionType:o[s].questionTranslationID.questionID.questionTypeCodeID.codeName,language:o[s].questionTranslationID.languageCodeID.codeName,option1:null,option2:null,option3:null,option4:null,correctOption:i,ansText:l}])}}));case 8:case"end":return e.stop()}}),e)})),s=0;case 9:if(!(s<o.length)){e.next=14;break}return e.delegateYield(l(),"t0",11);case 11:s++,e.next=9;break;case 14:this.setState({page:0,pageSize:o.page_size,countRow2:o.count});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Je,{title:"Questions"}),o.a.createElement(Rt.a,{item:!0},o.a.createElement(et.a,{placeholder:"Search",onKeyPress:function(t){return e.enterPressAlert(t)},className:t.root,style:{width:"300px",height:"20px",marginLeft:"30%",marginTop:"-3%",marginBottom:"-10px"},value:this.state.searchValue,onChange:function(t){return e.handleSearchChange(t.target.value)},InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{onClick:function(){return e.handleChangeData(e.state.searchValue)}},o.a.createElement(zt.a,null)))}})),o.a.createElement(D.a,{open:this.state.open_error,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(D.a,{open:this.state.norecords,autoHideDuration:3e3,onClose:this.handleAlertClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"warning"},"No Records found!")),o.a.createElement(D.a,{open:this.state.open_success,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"Bulk Upload done successfully!"))),o.a.createElement(D.a,{open:this.state.redirect,autoHideDuration:3e3,anchorOrigin:{vertical:"center",horizontal:"center"},onClose:this.handleAlertRedirect},o.a.createElement(j.a,{onClose:this.handleAlertRedirect,variant:"filled",severity:"warning"},o.a.createElement("b",null,"No age groups! You'll be redirected to Age Groups' page.."))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"10px",marginLeft:"90%",marginTop:"-8%"},onClick:function(t){return e.handleClick(t)}},"ADD ",o.a.createElement(ua.a,null)),o.a.createElement(A.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,style:{marginTop:"50px"}},o.a.createElement(T.a,{onClick:function(){return e.props.history.push("/app/question/add")}},"Single Question"),o.a.createElement(T.a,{onClick:function(){return e.setState({openBulk:!0})}},"In Bulk")),o.a.createElement(Rt.a,{container:!0,spacing:4},""===this.state.searchValue?o.a.createElement(Rt.a,{item:!0,xs:12,id:"QuestionList",style:{zIndex:"0"}},o.a.createElement(Zt.a,{title:"Questions  List",data:this.state.getValue.map((function(e){return[e.caption,e.identifier,e.domainName,e.questionType.toUpperCase(),e.language.toUpperCase(),e.countryName.toUpperCase(),e.csSkills,e.background,e.quesTransID,e.questionID,e.explanation,e.option1,e.option2,e.option3,e.option4,e.correctOption,e.ansText]})),columns:ma,options:{selectableRows:!1,page:this.state.page,onRowClick:function(t){return fa(t,e.props.history)},rowsPerPage:this.state.pageSize,print:!1,download:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows,onChangePage:function(){return e.handlePageChange()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}})):o.a.createElement(Rt.a,{item:!0,xs:12,id:"QuestionSearch",style:{zIndex:"0",display:"none"}},o.a.createElement(Zt.a,{title:"Questions  List",data:this.state.getValue2.map((function(e){return[e.caption,e.identifier,e.domainName,e.questionType.toUpperCase(),e.language.toUpperCase(),e.countryName.toUpperCase(),e.csSkills,e.background,e.quesTransID,e.questionID,e.explanation,e.option1,e.option2,e.option3,e.option4,e.correctOption,e.ansText]})),columns:ma,options:{selectableRows:!1,page:this.state.page,onRowClick:function(t){return fa(t,e.props.history)},rowsPerPage:this.state.pageSize,print:!1,download:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRow2,textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:this.state.openBulk,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(pa.a,{id:"form-dialog-title"},"Bulk Upload"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,"To upload questions in bulk, upload an excel file and make sure the file is in the given format. To check format, visit the FAQs page."),o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:t.input,accept:".csv",id:"contained-button-file",type:"file",onChange:function(t){return e.handleChange(t)}}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose File"))," ",this.state.file.name,o.a.createElement(at.a,{id:"errBulk",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))),o.a.createElement(ia.a,null,this.state.isProcessing?o.a.createElement(Gt.a,{size:26}):o.a.createElement(Re.a,{onClick:this.handleUpload,color:"primary"},"Upload"),o.a.createElement(Re.a,{onClick:this.handleClose,color:"primary"},"Cancel")))))}}]),a}(o.a.PureComponent),ga=Object(Qe.a)((function(e){return{formControl:{minWidth:120},input:{display:"none"}}}))(ha);function fa(e,t){var a=[{questionID:e[9],identifier:e[1],quesTransID:e[8],csSkills:e[6],caption:e[0],background:e[7],explanation:e[10],countryName:e[5],domainName:e[2],questionType:e[3],language:e[4],option1:e[11],option2:e[12],option3:e[13],option4:e[14],correctOption:e[15],ansText:e[16]}];t.push({pathname:"/app/question/details",data:a[0]})}var ya=a(1295),Ea=a(1293),va=a(1294),ba=[{name:"Option 1",desc:"",price:"",imgURL:""},{name:"Option 2",desc:"",price:"",imgURL:""},{name:"Option 3",desc:"",price:"",imgURL:""},{name:"Option 4",desc:"",price:"",imgURL:""}],Sa=[{name:"Correct answer",desc:"",price:""},{name:"Answer Text",desc:""}],Ca=[{name:"Question",question:null},{name:"Answer Explanation",question:null}],Ia=[{name:"Country",detail:""},{name:"Identifier",detail:""},{name:"Caption",detail:""},{name:"Classification",detail:""},{name:"Domain",detail:""},{name:"Type",detail:""},{name:"Age Group",detail:""},{name:"Question Level",detail:""},{name:"Language",detail:""}],Da=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ca[0].question){var e=(new DOMParser).parseFromString(Ca[0].question,"text/html").documentElement.querySelectorAll("div");document.getElementById("boxToAppend").insertAdjacentHTML("beforeend",e[0].innerHTML)}}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Questions summary"),o.a.createElement(Rt.a,{container:!0,spacing:2},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(O.a,{gutterBottom:!0},Ia[2].detail),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,id:"boxToAppend"}))),""===Sa[1].desc?o.a.createElement(oe.a,{disablePadding:!0},ba.map((function(t){return o.a.createElement(ye.a,{className:e.listItem,key:t.name},o.a.createElement(ve.a,{primary:t.name,secondary:t.desc}),o.a.createElement("img",{id:"optionImageX",alt:"",src:t.imgURL,height:"95px",style:{display:""===t.imgURL?"none":"flex"}}))})),o.a.createElement(ye.a,{className:e.listItem},o.a.createElement(ve.a,{style:{whiteSpace:"pre"},primary:"Correct Answer",secondary:"Option:"+Sa[0].desc+"\n"+ba[parseInt(Sa[0].desc-1)].desc}),o.a.createElement("img",{id:"optionImage",alt:"",src:ba[parseInt(Sa[0].desc-1)].imgURL,height:"95px",style:{display:""===ba[parseInt(Sa[0].desc-1)].imgURL?"none":"flex"}}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},o.a.createElement("b",null,"Answer Text"))),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},Sa[1].desc))),o.a.createElement(Rt.a,{item:!0,container:!0,direction:"column",xs:12},o.a.createElement(O.a,{gutterBottom:!0,className:e.title},o.a.createElement("b",null,"Background details")),o.a.createElement(Rt.a,{container:!0},Ia.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.detail)))})))))}}]),a}(o.a.PureComponent),xa=Object(Qe.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}}))(Da),ka=a(432),wa=a(1314);function Oa(){Ia[1].detail=document.getElementById("identifier").value,Ia[2].detail=document.getElementById("caption").value,Ia[6].detail=La,Ia[7].detail=Na,Pa=[],Ba=[],qa=[]}var Aa=[],Ta=[],La="",Na="",Ba=[],ja=[],qa=[],Pa=[];function Ra(){var e=!1;""==document.getElementById("caption").value&&(document.getElementById("errCap").style.display="block",e=!0),""==document.getElementById("identifier").value&&(document.getElementById("errId").style.display="block",e=!0),""==Ia[0].detail&&(document.getElementById("errCountry").style.display="block",e=!0),""==Ia[4].detail&&(document.getElementById("errDomain").style.display="block",e=!0),""==Ia[5].detail&&(document.getElementById("errType").style.display="block",e=!0),""==Ia[8].detail&&(document.getElementById("errLang").style.display="block",e=!0),""==Ia[3].detail&&(document.getElementById("errClassi").style.display="block",e=!0),hn[0].desc=1==e?"error":""}var Ga=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangeCountry=function(e){n.setState({Country:e.target.value}),Ia[0].detail=e.target.value,null==e.target.value?document.getElementById("errCountry").style.display="block":document.getElementById("errCountry").style.display="none"},n.handleClose=function(){n.setState({open:!1})},n.handleOpen=function(){n.setState({open:!0})},n.handleCloseCountry=function(){n.setState({openC:!1})},n.handleOpenCountry=function(){n.setState({openC:!0})},n.handleChangeDomain=function(e){n.setState({DomainValue:e.target.value}),Ia[4].detail=e.target.value,null==e.target.value?document.getElementById("errDomain").style.display="block":document.getElementById("errDomain").style.display="none"},n.handleCloseDomain=function(){n.setState({openD:!1})},n.handleOpenDomain=function(){n.setState({openD:!0})},n.handleChangeType=function(e){n.setState({TypeValue:e.target.value}),Ia[5].detail=e.target.value,null==e.target.value?document.getElementById("errType").style.display="block":document.getElementById("errType").style.display="none"},n.handleCloseType=function(){n.setState({openT:!1})},n.handleOpenType=function(){n.setState({openT:!0})},n.handleChangeLang=function(e){n.setState({LangValue:e.target.value}),Ia[8].detail=e.target.value,null==e.target.value?document.getElementById("errLang").style.display="block":document.getElementById("errLang").style.display="none"},n.handleCloseLang=function(){n.setState({openL:!1})},n.handleOpenLang=function(){n.setState({openL:!0})},n.handleChangeAuto=function(e,t){Pa=t;for(var a=t[0],n=1;n<t.length;n++)a=a+","+t[n];Ia[3].detail=a,document.getElementById("errClassi").style.display=""==t?"block":"none"},n.handleChangeCaption=function(e){document.getElementById("errCap").style.display=""==e?"block":"none"},n.handleChangeIdentifier=function(e){document.getElementById("errId").style.display=""==e?"block":"none"},n.handleChangeAgeGroup=function(e,t){var a=e.currentTarget.id,n=0;if(n="m"==a.substring(0,1)?0:parseInt(a.substring(0,1)),null!=t){Ba[n]=t;for(var o=0;o<Cn.length;o++)if(t==Cn[o]){ja[n]=In[o];break}}else Ba[n]="",ja[n]="";La=Ba[0],Aa=ja[0];for(var r=1;r<Ba.length;r++)La+=","+Ba[r],Aa+=","+ja[r];Ia[6].detail=La},n.handleChangeQuesLevel=function(e,t){var a=e.currentTarget.id,n=0;n="m"==a.substring(0,1)?0:parseInt(a.substring(0,1)),qa[n]=null!=t?t:"",Na=qa[0];for(var o=1;o<qa.length;o++)Na+=","+qa[o];Ia[7].detail=Na},n.increment=function(){var e=parseInt(localStorage.getItem("countAQ"));e+=1,localStorage.setItem("countAQ",e),n.setState({countAQ:n.state.countAQ+1})},n.addComponent=function(){Ta.length=0;for(var e=0;e<n.state.countAQ;e++)Ta.push(o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement(wa.a,{id:e,options:n.state.ageGroups,getOptionLabel:function(e){return e},defaultValue:Ba[e],onChange:n.handleChangeAgeGroup,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"mul",label:"Age Group",placeholder:"",fullWidth:!0}))}})),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement(wa.a,{id:e,options:n.state.quesLevels,getOptionLabel:function(e){return e},defaultValue:qa[e],onChange:n.handleChangeQuesLevel,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"mul",label:"Question Level",placeholder:"",fullWidth:!0}))}}))));return Ta},n.state={Country:"",TypeValue:"",AgeGroupValue:La,QuesLevelValue:Na,LangValue:"",open:!1,openC:!1,openD:!1,openT:!1,openA:!1,openQ:!1,openL:!1,countAQ:parseInt(localStorage.getItem("countAQ")),countries:bn,domains:yn,skills:En,types:vn,quesLevels:Sn,ageGroups:Cn,languages:Dn,rerender:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){La=Ia[6].detail,Na=Ia[7].detail,Ba=Ia[6].detail.split(","),qa=Ia[7].detail.split(","),this.setState({rerender:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes;return void 0!=Ia[3].detail&&(Ia[3].detail.includes(",")?Pa=Ia[3].detail.split(","):Ia[3].detail.length>0&&(Pa[0]=Ia[3].detail)),Ba=Ia[6].detail.split(","),qa=Ia[7].detail.split(","),o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0}),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{id:"caption",name:"caption",label:"Caption",fullWidth:!0,autoComplete:"cap",onChange:function(t){return e.handleChangeCaption(t.target.value)},defaultValue:Ia[2].detail}),o.a.createElement(at.a,{id:"errCap",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:7},o.a.createElement(ae.a,{classes:{tooltip:t.noMaxWidth},title:"Please include year in yyyy format at the start and language code at the end",arrow:!0},o.a.createElement(et.a,{id:"identifier",name:"identifier",label:"Identifier",fullWidth:!0,autoComplete:"cap",onChange:function(t){return e.handleChangeIdentifier(t.target.value)},defaultValue:Ia[1].detail})),o.a.createElement(at.a,{id:"errId",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:5},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:320}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Country"),o.a.createElement(ka.a,{labelId:"countrySelect",id:"country",open:this.state.openC,onClose:this.handleCloseCountry,onOpen:this.handleOpenCountry,value:Ia[0].detail,onChange:this.handleChangeCountry},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),this.state.countries.map((function(e){return o.a.createElement(T.a,{value:e},e)})))),o.a.createElement(at.a,{id:"errCountry",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:5},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:300}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Domain"),o.a.createElement(ka.a,{labelId:"domSelect",id:"domValue",open:this.state.openD,onClose:this.handleCloseDomain,onOpen:this.handleOpenDomain,value:Ia[4].detail,onChange:this.handleChangeDomain},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),this.state.domains.map((function(e){return o.a.createElement(T.a,{value:e},e)})))),o.a.createElement(at.a,{id:"errDomain",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:3},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:200}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Type"),o.a.createElement(ka.a,{labelId:"typeSelect",id:"typeValue",open:this.state.openT,onClose:this.handleCloseType,onOpen:this.handleOpenType,value:Ia[5].detail,onChange:this.handleChangeType},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),this.state.types.map((function(e){return o.a.createElement(T.a,{value:e},e.toUpperCase())})))),o.a.createElement(at.a,{id:"errType",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:4},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:250}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Language"),o.a.createElement(ka.a,{labelId:"langSelect",id:"langValue",open:this.state.openL,onClose:this.handleCloseLang,onOpen:this.handleOpenLang,value:Ia[8].detail,onChange:this.handleChangeLang},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),this.state.languages.map((function(e){return o.a.createElement(T.a,{value:e},e.toUpperCase())})))),o.a.createElement(at.a,{id:"errLang",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(wa.a,{multiple:!0,id:"autoMul",options:this.state.skills,getOptionLabel:function(e){return e},defaultValue:Pa,onChange:this.handleChangeAuto,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"classiValue",label:"Classification",placeholder:"",fullWidth:!0}))}}),o.a.createElement(at.a,{id:"errClassi",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),this.addComponent().map((function(e){return e})),o.a.createElement(Re.a,{onClick:function(){return e.increment()}},"Add Age Groups")))}}]),a}(o.a.PureComponent),za=Object(Qe.a)((function(e){return{formControl:{minWidth:120},noMaxWidth:{maxWidth:"none"}}}))(Ga),_a=a(1),Ma=a(1309),Fa=a(439),Ua=a(1310),Qa=a(1316),Va=a(1301),Wa=a(1308),Ha=a(1302),Ka=a(1315),Ya=a(1303);a(120),a(160),a(161),a(185),a(526);function Xa(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Ca[0].question=e.substring(t,a);var n=Ca[0].question.substring(0,Ca[0].question.indexOf("contenteditable")-1),o=Ca[0].question.substring(Ca[0].question.indexOf("tabindex")-2);Ca[0].question=n+o}var Ja=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","CreateLink","Image","CreateTable","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ca[0].question){var e=(new DOMParser).parseFromString(Ca[0].question,"text/html").documentElement.querySelectorAll("div")[0].innerHTML;document.getElementById("questionContent").insertAdjacentHTML("beforeend",e)}}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings},n.createElement("div",{id:"questionContent"}),n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errQues",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent);function Za(){null==document.getElementById("ansText")?(ba[0].desc=document.getElementById("option1").value,ba[0].price=tn,ba[0].imgURL=en,ba[1].desc=document.getElementById("option2").value,ba[1].price=nn,ba[1].imgURL=an,ba[2].desc=document.getElementById("option3").value,ba[2].price=rn,ba[2].imgURL=on,ba[3].desc=document.getElementById("option4").value,ba[3].price=sn,ba[3].imgURL=ln,Sa[0].desc=$a,Sa[1].desc="",$a=""):(Sa[1].desc=document.getElementById("ansText").value,ba[0].desc=ba[0].price=ba[0].imgURL="",ba[1].desc=ba[1].price=ba[1].imgURL="",ba[2].desc=ba[2].price=ba[2].imgURL="",ba[3].desc=ba[3].price=ba[3].imgURL="",Sa[0].desc="",$a="")}var $a="",en="",tn="",an="",nn="",on="",rn="",ln="",sn="";function cn(){var e=!1;null==document.getElementById("ansText")?(""==document.getElementById("option1").value&&(document.getElementById("errOption1").style.display="block",e=!0),""==document.getElementById("option2").value&&(document.getElementById("errOption2").style.display="block",e=!0),""==document.getElementById("option3").value&&(document.getElementById("errOption3").style.display="block",e=!0),""==document.getElementById("option4").value&&(document.getElementById("errOption4").style.display="block",e=!0),""==$a&&(document.getElementById("errCorrectAns").style.display="block",e=!0)):""==document.getElementById("ansText").value&&(document.getElementById("errAnsText").style.display="block",e=!0),hn[2].desc=1==e?"error":""}var dn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={CorrectValue:$a,openC:!1,openA:!1,AnsText:null,AnsTextValue:"Answer Text",file1:ba[0].imgURL,file2:ba[1].imgURL,file3:ba[2].imgURL,file4:ba[3].imgURL,imgValue:!1,openError:!1},e.handleChangeCorrect=function(t){e.setState({CorrectValue:t.target.value}),$a=t.target.value,null==t.target.value?document.getElementById("errCorrectAns").style.display="block":document.getElementById("errCorrectAns").style.display="none"},e.handleCloseCorrect=function(){e.setState({openC:!1})},e.handleOpenCorrect=function(){e.setState({openC:!0})},e.handleChangeOption1=function(t){t.target.files[0].name.length<=45?(e.setState({file1:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage1").style.display="flex",en=URL.createObjectURL(t.target.files[0]),tn=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption2=function(t){t.target.files[0].name.length<=45?(e.setState({file2:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage2").style.display="flex",an=URL.createObjectURL(t.target.files[0]),nn=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption3=function(t){t.target.files[0].name.length<=45?(e.setState({file3:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage3").style.display="flex",on=URL.createObjectURL(t.target.files[0]),rn=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption4=function(t){t.target.files[0].name.length<=45?(e.setState({file4:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage4").style.display="flex",ln=URL.createObjectURL(t.target.files[0]),sn=t.target.files[0]):e.setState({openError:!0})},e.handleChangeAnsTxt=function(t){e.setState({AnsTextValue:t.target.value}),"Answer Text"==t.target.value?e.setState({AnsText:!1}):e.setState({AnsText:!0}),e.setState({openA:!1}),e.handleAnsOpt()},e.handleChangeAnsText=function(e){document.getElementById("errAnsText").style.display=""==e?"block":"none"},e.handleCloseAns=function(){e.setState({openA:!1})},e.handleOpenAns=function(t){e.setState({openA:!0})},e.handleChangeOpt1Text=function(e){document.getElementById("errOption1").style.display=""==e?"block":"none"},e.handleChangeOpt2Text=function(e){document.getElementById("errOption2").style.display=""==e?"block":"none"},e.handleChangeOpt3Text=function(e){document.getElementById("errOption3").style.display=""==e?"block":"none"},e.handleChangeOpt4Text=function(e){document.getElementById("errOption4").style.display=""==e?"block":"none"},e.handleAlertClose=function(){e.setState({openError:!1})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){"Mcqs"==Ia[5].detail&&this.setState({imgValue:!1}),"Mcqs_With_Images"==Ia[5].detail&&this.setState({imgValue:!0,AnsText:!0,AnsTextValue:"Options"}),""!=Sa[1].desc&&""==Sa[0].desc?this.setState({AnsText:!1,AnsTextValue:"Answer Text"}):""!=Sa[1].desc||""==Sa[0].desc&&""==Sa[0].price||this.setState({AnsText:!0,AnsTextValue:"Options"}),$a=Sa[0].desc,this.setState({CorrectValue:Sa[0].desc})}},{key:"handleAnsOpt",value:function(){0==this.state.AnsText?("Ans",Sa[0].desc=""):("Opt",Sa[1].desc="",$a="")}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"warning"},o.a.createElement("b",null,"Image Name should be Shorter!"))),o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Answer details"),"Mcqs"==Ia[5].detail?o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:320}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Select Type"),o.a.createElement(ka.a,{labelId:"ansSelect",id:"ansSelect",open:this.state.openA,onClose:this.handleCloseAns,onOpen:this.handleOpenAns,value:this.state.AnsTextValue,onChange:this.handleChangeAnsTxt},o.a.createElement(T.a,{value:"Answer Text"},"Answer Text"),o.a.createElement(T.a,{value:"Options"},"Options"))):null,o.a.createElement(Rt.a,{container:!0,spacing:3},this.state.AnsText?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeAnsText(t.target.value)},disabled:this.state.AnsText,id:"ansText",label:"Answer Text",defaultValue:Sa[1].desc,fullWidth:!0,style:{marginTop:"15px"},InputProps:{readOnly:this.state.AnsText}}),o.a.createElement(at.a,{id:"errAnsText",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6})," "),this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt1Text(t.target.value)},disabled:!this.state.AnsText,id:"option1",label:"Option 1",defaultValue:ba[0].desc,style:{marginTop:"15px"},fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption1",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file1",type:"file",onChange:this.handleChangeOption1}),o.a.createElement("label",{htmlFor:"contained-button-file1"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage1",src:this.state.file1,height:"95px",style:{display:""===this.state.file1?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt2Text(t.target.value)},disabled:!this.state.AnsText,id:"option2",label:"Option 2",defaultValue:ba[1].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption2",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file2",type:"file",onChange:this.handleChangeOption2}),o.a.createElement("label",{htmlFor:"contained-button-file2"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage2",src:this.state.file2,height:"95px",style:{display:""===this.state.file2?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt3Text(t.target.value)},disabled:!this.state.AnsText,id:"option3",label:"Option 3",defaultValue:ba[2].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption3",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file3",type:"file",onChange:this.handleChangeOption3}),o.a.createElement("label",{htmlFor:"contained-button-file3"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage3",src:this.state.file3,height:"95px",style:{display:""===this.state.file3?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt4Text(t.target.value)},disabled:!this.state.AnsText,id:"option4",label:"Option 4",defaultValue:ba[3].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption4",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file4",type:"file",onChange:this.handleChangeOption4}),o.a.createElement("label",{htmlFor:"contained-button-file4"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage4",src:this.state.file4,height:"100px",style:{display:""===this.state.file4?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:200}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Correct answer"),o.a.createElement(ka.a,{disabled:!this.state.AnsText,labelId:"correctSelect",id:"correctSelect",InputProps:{readOnly:!this.state.AnsText},open:this.state.openC,onClose:this.handleCloseCorrect,onOpen:this.handleOpenCorrect,value:this.state.CorrectValue,onChange:this.handleChangeCorrect},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),o.a.createElement(T.a,{value:"1"},"Option 1"),o.a.createElement(T.a,{value:"2"},"Option 2"),o.a.createElement(T.a,{value:"3"},"Option 3"),o.a.createElement(T.a,{value:"4"},"Option 4"))),o.a.createElement(at.a,{id:"errCorrectAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))," "):null))}}]),a}(o.a.PureComponent),pn=Object(Qe.a)((function(e){return{formControl:{minWidth:120},input:{display:"none"}}}))(dn);function un(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Ca[1].question=e.substring(t,a);var n=Ca[1].question.substring(0,Ca[1].question.indexOf("contenteditable")-1),o=Ca[1].question.substring(Ca[1].question.indexOf("tabindex")-2);Ca[1].question=n+o}var mn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","CreateLink","Image","CreateTable","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ca[1].question){var e=(new DOMParser).parseFromString(Ca[1].question,"text/html").documentElement.querySelectorAll("div")[0].innerHTML;document.getElementById("answerContent").insertAdjacentHTML("beforeend",e)}}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings},n.createElement("div",{id:"answerContent"}),n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent),hn=[{name:"Step1",desc:""},{name:"Step2",desc:""},{name:"Step3",desc:""},{name:"Step4",desc:""}],gn=["Question Details","Question Explanation","Answers Details","Answer Explanation","Review Question"];var fn,yn=[],En=[],vn=[],bn=[],Sn=[],Cn=[],In=[],Dn=[],xn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeStep:0,onClick:!1,emailID:"",errorEmailID:!1,open:!1,openAge:!1,isProcessing:!1,uploadSuccess:!1,rerender:!1,openError:!1},e.displayLoadingQues=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:!e.state.rerender,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},"Please Wait... ")))))},e.handleClose=function(t,a){"clickaway"!==a&&"backdropClick"!==a&&e.setState({open:!1,activeStep:4,isProcessing:!1})},e.displayAlertAgeGroups=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:e.state.openAge,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},'Age Groups have not been created for this year. You will be redirected to "Create Age Groups" page. '))),o.a.createElement(ia.a,null,o.a.createElement(Re.a,{onClick:e.redirectToAgeGroups,color:"primary"},"OK"))))},e.displayAlert=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:e.state.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},"Do you really want to add the question?"))),o.a.createElement(ia.a,null,e.state.isProcessing?o.a.createElement(Gt.a,{size:26}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{onClick:e.insertQues,color:"primary"},"Yes"),o.a.createElement(Re.a,{onClick:e.handleClose,color:"primary"},"No")))))},e.insertQues=function(){if(e.setState({isProcessing:!0}),"MCQS"==Ia[5].detail.toUpperCase()){var t="",a=Ca[0].question,n=a.match(/src/g),o="",r="",l=[],s=[],i=[],c=[],d="",p="",u="",m=[],h="",g="",f="",y=[],E=[],v=new Date,b=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate()+"_"+(v.getHours()+"-"+v.getMinutes()+"-"+v.getSeconds());if(null==n)o=a;else{for(var S=n.length,C=0;C<S;C++)if(0==C){s[0]=a.substring(0,a.search("src")+3),s[0]=s[0].substring(0,s[0].search("img")+3)+' style="max-height:100%;max-width:100%"'+s[0].substring(s[0].search("img")+3);var I=a.substring(a.search("alt")+5,a.substring("alt").indexOf(" ",a.indexOf("alt"))-1).split(".");c[C]=I[0]+"_"+b+"."+I[1],y[C]=a.substring(a.search("src")+5,a.substring("src").indexOf(" ",a.indexOf("src"))-1),d=c[C],u="imageQuestion",p=c[C],l[0]='="'+V+"media/images/"+c[C]+'" ',i[0]=a.substring(a.substring("src").indexOf(" ",a.indexOf("src"))),o=s[0]+l[0]}else{i[C]=i[C-1].substring(i[C-1].substring("src").indexOf(" ",i[C-1].indexOf("src"))),s[C]=i[C-1].substring(0,i[C-1].search("src")+5),s[C]=s[C].substring(0,s[C].search("img")+3)+' style="max-height:100%;max-width:100%"'+s[C].substring(s[C].search("img")+3),y[C]=i[C-1].substring(i[C-1].search("src")+5,i[C-1].substring("src").indexOf(" ",i[C-1].indexOf("src"))-1);I=i[C].substring(i[C].search("alt")+5,i[C].substring("alt").indexOf(" ",i[C].indexOf("alt"))-1).split(".");c[C]=I[0]+"_"+b+"."+I[1],d=d+","+c[C],u+=",imageQuestion",p+=",media/images/"+c[C],l[C]=V+"media/images/"+c[C]+'" ',o+=s[C]+l[C]}o+=i[S-1]}if(a=Ca[1].question,null==(n=Ca[1].question.match(/src/g)))r=a;else{for(var D=n.length,x=0;x<D;x++)if(0==x){s[0]=a.substring(0,a.search("src")+3),s[0]=s[x].substring(0,s[0].search("img")+3)+' style="max-height:100%;max-width:100%"'+s[0].substring(s[0].search("img")+3);I=a.substring(a.search("alt")+5,a.substring("alt").indexOf(" ",a.indexOf("alt"))-1).split(".");m[x]=I[0]+"_"+b+"."+I[1],E[x]=a.substring(a.search("src")+5,a.substring("src").indexOf(" ",a.indexOf("src"))-1),h=m[x],f="imageAnsExplanation",g=m[x],l[0]='="'+V+"media/images/"+m[x]+'" ',i[0]=a.substring(a.substring("src").indexOf(" ",a.indexOf("src"))),r=s[0]+l[0]}else{i[x]=i[x-1].substring(i[x-1].substring("src").indexOf(" ",i[x-1].indexOf("src"))),s[x]=i[x-1].substring(0,i[x-1].search("src")+5),s[x]=s[x].substring(0,s[x].search("img")+3)+' style="max-height:100%;max-width:100%"'+s[x].substring(s[x].search("img")+3),E[x]=i[x-1].substring(i[x-1].search("src")+5,i[x-1].substring("src").indexOf(" ",i[x-1].indexOf("src"))-1);I=i[x].substring(i[x].search("alt")+5,i[x].substring("alt").indexOf(" ",i[x].indexOf("alt"))-1).split(".");m[x]=I[0]+"_"+b+"."+I[1],h=h+","+m[x],g+=",media/images/"+m[x],f+=",imageAnsExplanation",l[x]=V+"media/images/"+m[x]+'" ',r+=s[x]+l[x]}r+=i[D-1]}var k=new FormData,w="";e.returnBLOB(y,c,k),e.returnBLOB(E,m,k),w=""==Sa[0].desc?"":ba[Sa[0].desc-1].desc,t={questionTranslationID:{questionID:{countryID:{nicename:Ia[0].detail},domainCodeID:{codeName:Ia[4].detail},questionTypeCodeID:{codeName:Ia[5].detail}},languageCodeID:{codeName:Ia[8].detail},modified_by:localStorage.getItem("username"),Identifier:Ia[1].detail,translation:{translation:{caption:Ia[2].detail,background:o,explanation:r},quesAgeID:{QuestionAgeID:{AgeGroupName:Ia[6].detail,AgeGroupID:Aa.toString()},questionLevelCodeID:{codeName:Ia[7].detail}},quescsskills:Ia[3].detail,imageID:{ImageName:d,ImageTypeCodeID:{codeName:u},uploadedFile:"media/images/"+p},imageAnsID:{ImageName:h,ImageTypeCodeID:{codeName:f},uploadedFile:"media/images/"+g}}},optionTranslationID:{languageCodeID:{codeName:Ia[8].detail.toLowerCase()},translationO:{translationO:{option1:{caption:{option:ba[0].desc}},option2:{caption:{option:ba[1].desc}},option3:{caption:{option:ba[2].desc}},option4:{caption:{option:ba[3].desc}},correctOption:w,ansText:Sa[1].desc}}}},k.append("data",JSON.stringify(t));try{setTimeout((function(){Q()({method:"post",url:V+"api/cmp/insertMcqQues/",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(t){e.clearData(),setTimeout((function(){e.setState({uploadSuccess:!0,isProcessing:!1,open:!1,activeStep:5})}),2e3),setTimeout((function(){e.redirect()}),2e3)}))}),1e4)}catch(ne){Q.a.get(V+"api/cmp/rollBackQuestion/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){})),e.setState({openError:!0,isProcessing:!1,open:!1,activeStep:4})}}else if("MCQS_WITH_IMAGES"==Ia[5].detail.toUpperCase()){var O,A=Ca[0].question,T=A.match(/src/g),L=[],N=[],B=[],j="",q=[],P="",R="",G="",z=[],_="",M="",F="",U=[],W=[],H=new Date,K=H.getFullYear()+"-"+(H.getMonth()+1)+"-"+H.getDate()+"_"+(H.getHours()+"-"+H.getMinutes()+"-"+H.getSeconds());if(null==T)O=A;else{for(var Y=T.length,X=0;X<Y;X++)if(0==X){N[0]=A.substring(0,A.search("src")+3);I=A.substring(A.search("alt")+5,A.substring("alt").indexOf(" ",A.indexOf("alt"))-1).split(".");q[X]=I[0]+"_"+K+"."+I[1],U[X]=A.substring(A.search("src")+5,A.substring("src").indexOf(" ",A.indexOf("src"))-1),P=q[X],G="imageQuestion",R=q[X],L[0]='="'+V+"media/images/"+q[X]+'" ',B[0]=A.substring(A.substring("src").indexOf(" ",A.indexOf("src"))),O=N[0]+L[0]}else{B[X]=B[X-1].substring(B[X-1].substring("src").indexOf(" ",B[X-1].indexOf("src"))),N[X]=B[X-1].substring(0,B[X-1].search("src")+5),U[X]=B[X-1].substring(B[X-1].search("src")+5,B[X-1].substring("src").indexOf(" ",B[X-1].indexOf("src"))-1);I=B[X].substring(B[X].search("alt")+5,B[X].substring("alt").indexOf(" ",B[X].indexOf("alt"))-1).split(".");q[X]=I[0]+"_"+K+"."+I[1],P=P+","+q[X],G+=",imageQuestion",R+=",media/images/"+q[X],L[X]=V+"media/images/"+q[X]+'" ',O+=N[X]+L[X]}O+=B[Y-1]}if(A=Ca[1].question,null==(T=Ca[1].question.match(/src/g)))j=A;else{for(var J=T.length,Z=0;Z<J;Z++)if(0==Z){N[0]=A.substring(0,A.search("src")+3);I=A.substring(A.search("alt")+5,A.substring("alt").indexOf(" ",A.indexOf("alt"))-1).split(".");z[Z]=I[0]+"_"+K+"."+I[1],W[Z]=A.substring(A.search("src")+5,A.substring("src").indexOf(" ",A.indexOf("src"))-1),_=z[Z],F="imageAnsExplanation",M=z[Z],L[0]='="'+V+"media/images/"+z[Z]+'" ',B[0]=A.substring(A.substring("src").indexOf(" ",A.indexOf("src"))),j=N[0]+L[0]}else{B[Z]=B[Z-1].substring(B[Z-1].substring("src").indexOf(" ",B[Z-1].indexOf("src"))),N[Z]=B[Z-1].substring(0,B[Z-1].search("src")+5),W[Z]=B[Z-1].substring(B[Z-1].search("src")+5,B[Z-1].substring("src").indexOf(" ",B[Z-1].indexOf("src"))-1);I=B[Z].substring(B[Z].search("alt")+5,B[Z].substring("alt").indexOf(" ",B[Z].indexOf("alt"))-1).split(".");z[Z]=I[0]+"_"+K+"."+I[1],_=_+","+z[Z],M+=",media/images/"+z[Z],F+=",imageAnsExplanation",L[Z]=V+"media/images/"+z[Z]+'" ',j+=N[Z]+L[Z]}j+=B[J-1]}for(var $=[],ee=[],te=0;te<ba.length;te++)if(""!=ba[te].price){I=ba[te].price.name.split(".");$[te]=I[0]+"_"+K+"."+I[1],ee[te]=te}else $[te]="";k=new FormData;e.returnBLOB(U,q,k),e.returnBLOB(W,z,k);t={questionTranslationID:{questionID:{countryID:{nicename:Ia[0].detail},domainCodeID:{codeName:Ia[4].detail},questionTypeCodeID:{codeName:Ia[5].detail}},languageCodeID:{codeName:Ia[8].detail},modified_by:localStorage.getItem("username"),Identifier:Ia[1].detail,translation:{translation:{caption:Ia[2].detail,background:O,explanation:j},quesAgeID:{QuestionAgeID:{AgeGroupName:Ia[6].detail,AgeGroupID:Aa.toString()},questionLevelCodeID:{codeName:Ia[7].detail}},quescsskills:Ia[3].detail,imageID:{ImageName:P,ImageTypeCodeID:{codeName:G},uploadedFile:"media/images/"+R},imageAnsID:{ImageName:_,ImageTypeCodeID:{codeName:F},uploadedFile:"media/images/"+M}}},optionTranslationID:{languageCodeID:{codeName:Ia[8].detail.toLowerCase()},translationO:{translationO:{option1:{caption:{option:ba[0].desc},imageID:{ImageName:$[0],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+$[0]}},option2:{caption:{option:ba[1].desc},imageID:{ImageName:$[1],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+$[1]}},option3:{caption:{option:ba[2].desc},imageID:{ImageName:$[2],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+$[2]}},option4:{caption:{option:ba[3].desc},imageID:{ImageName:$[3],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+$[3]}},correctOption:ba[Sa[0].desc-1].desc}}}};k.append("data",JSON.stringify(t));for(var ae=0;ae<ee.length;ae++)k.append("image",ba[ee[ae]].price,$[ee[ae]]);try{setTimeout((function(){Q()({method:"post",url:V+"api/cmp/insertMcqWithImgsQues/",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(t){e.clearData(),setTimeout((function(){e.setState({uploadSuccess:!0,isProcessing:!1,open:!1,activeStep:5}),localStorage.setItem("insertStatus","Complete")}),2e3),setTimeout((function(){e.redirect()}),2e3)}))}),1e4)}catch(ne){Q.a.get(V+"api/cmp/rollBackQuestion/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){})),e.setState({openError:!0,isProcessing:!1,open:!1,activeStep:4})}}},e.clearData=function(){ba[0].desc="",ba[0].price="",ba[0].imgURL="",ba[1].desc="",ba[1].price="",ba[1].imgURL="",ba[2].desc="",ba[2].price="",ba[2].imgURL="",ba[3].desc="",ba[3].price="",ba[3].imgURL="",Ca[1].question=null,Ca[0].question=null,Ia[0].detail="",Ia[1].detail="",Ia[2].detail="",Ia[3].detail="",Ia[4].detail="",Ia[5].detail="",Ia[6].detail="",Ia[7].detail="",Ia[8].detail="",Sa[1].desc="",Sa[0].desc="",Sa[0].price=""},e.handleNext=function(){switch(e.state.activeStep){case 0:if(Ra(),"error"===hn[0].desc)return;break;case 2:if(cn(),"error"===hn[2].desc)return}switch(e.setState({activeStep:e.state.activeStep+1}),e.state.activeStep){case 0:return Oa();case 1:return Xa();case 2:return Za();case 3:return un();case 4:return 0==e.state.openAge?e.setState({open:!0}):e.setState({openAge:!0});case 5:return}},e.handleBack=function(){e.setState({activeStep:e.state.activeStep-1})},e.redirect=function(){setTimeout((function(){e.setState({onClick:!0})}),2e3)},e.redirectToAgeGroups=function(){e.setState({onClickAge:!0})},e.handleAlertClose=function(){e.setState({openError:!1})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u,m,h,g=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bn=[],yn=[],En=[],vn=[],Sn=[],Cn=[],In=[],Dn=[],e.prev=8,e.next=11,Q.a.get(V+"api/com/getCountry/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 11:for(t=e.sent,a=0;a<t.data.length;a++)bn.push(t.data[a].nicename);return e.next=15,Q.a.get(V+"api/com/getDomain/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 15:for(n=e.sent,o=0;o<n.data.length;o++)yn.push(n.data[o].codeName);return e.next=19,Q.a.get(V+"api/com/getSkills/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 19:for(r=e.sent,l=0;l<r.data.length;l++)En.push(r.data[l].codeName);return e.next=23,Q.a.get(V+"api/com/getQuestionType/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 23:for(s=e.sent,i=0;i<s.data.length;i++)vn.push(s.data[i].codeName);return e.next=27,Q.a.get(V+"api/com/getQuestionLevel/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 27:for(c=e.sent,d=0;d<c.data.length;d++)Sn.push(c.data[d].codeName);return e.next=31,Q.a.get(V+"api/com/getLanguage/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 31:for(p=e.sent,u=0;u<p.data.length;u++)Dn.push(p.data[u].codeName);return e.next=35,Q.a.get(V+"api/cmp/viewAgeGroup/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 35:for(m=e.sent,h=0;h<m.data.length;h++)Cn.push(m.data[h].AgeGroupName),In.push(m.data[h].AgeGroupID);"Redirect"==m.data&&this.setState({openAge:!0}),this.clearData(),this.setState({rerender:!0}),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(8),this.props.history.push("/app/dashboard");case 45:case"end":return e.stop()}}),e,this,[[8,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"returnBLOB",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a,n){var o,r,l,s;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=11;break}return e.next=4,fetch(t[o]).then((function(e){return e.blob()}));case 4:r=e.sent,l="image/"+a[o].split(".")[1],s=new File([r],a[o],{type:l},{lastModified:Date.now()}),n.append("image",s,a[o]);case 8:o++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,this.displayAlertAgeGroups(),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),this.state.onClickAge?o.a.createElement(y.a,{to:"/app/competitions/addGroups"}):null,this.state.onClick?o.a.createElement(y.a,{to:"/app/questions"}):null,o.a.createElement("main",{className:e.layout},o.a.createElement(Ze.a,{className:e.paper},o.a.createElement(O.a,{component:"h1",variant:"h4",align:"center"},"Question"),o.a.createElement(ya.a,{activeStep:this.state.activeStep,className:e.stepper,alternativeLabel:!0},gn.map((function(e){return o.a.createElement(Ea.a,{key:e},o.a.createElement(va.a,null,e))}))),o.a.createElement(o.a.Fragment,null,this.state.activeStep===gn.length?o.a.createElement(o.a.Fragment,null,this.state.open?o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Processing..."):o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Your question has been added successfully.")):o.a.createElement(o.a.Fragment,null,this.state.rerender?function(e){switch(e){case 0:return o.a.createElement(za,null);case 1:return o.a.createElement(Ja,null);case 2:return o.a.createElement(pn,null);case 3:return o.a.createElement(mn,null);case 4:return o.a.createElement(xa,null)}}(this.state.activeStep):null,o.a.createElement("div",{className:e.buttons},0!==this.state.activeStep&&o.a.createElement(Re.a,{onClick:this.handleBack,className:e.button},"Back"),o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button},this.state.activeStep===gn.length-1?"Confirm question":"Next")))),this.displayAlert()),this.displayLoadingQues()))}}]),a}(o.a.PureComponent),kn=Object(Qe.a)((function(e){return{appBar:{position:"relative"},layout:Object(E.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{marginLeft:"160px",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{width:"900px",marginTop:e.spacing(6),marginLeft:"2%",marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}))(xn),wn=a(1311),On=a(1296),An=a(66),Tn=a.n(An),Ln=[],Nn=[],Bn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleBack=function(){"QuesTransPrev"==n.state.fromPage?n.props.history.push({pathname:"/app/question/details",data:n.state.allData}):n.props.history.push({pathname:"/app/competitions/addQues",language:n.state.language,fromPage:"previewQues",compName:n.state.compName,ageGrpsPrev:fn,compID:n.state.compID,data:Ln,marks:Nn,initPage:n.state.fromPage,selectedAgeGroup:n.state.selectedAgeGroup})},n.state={urlo1:"",urlo2:"",urlo3:"",urlo4:"",background:"",opt1:"",opt2:"",opt3:"",opt4:"",backButton:!1,fromPage:"",ageGroup:"",language:"",compID:"",compName:"",allData:"",selectedAgeGroup:""},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"QuestionDetails"==this.props.fromPage?(t=this.props.data,this.setState({background:t.background,opt1:t.option1,opt2:t.option2,opt3:t.option3,opt4:t.option4,ansText:t.ansText})):(this.setState({backButton:!0,selectedAgeGroup:this.props.location.selectedAgeGroup}),"QuesTransPrev"===this.props.location.fromPage?(t=this.props.location.previewData,this.setState({allData:this.props.location.allData,background:t.background,fromPage:"QuesTransPrev",opt1:t.opt1,opt2:t.opt2,opt3:t.opt3,opt4:t.opt4,ansText:t.ansText})):(Ln.length=0,Ln.push({name:"Type :",detail:this.props.location.data[0].detail}),Ln.push({name:"Start date :",detail:this.props.location.data[1].detail}),Ln.push({name:"End date  :",detail:this.props.location.data[2].detail}),Ln.push({name:"Time Limit (hh:mm)  : ",detail:this.props.location.data[3].detail}),Ln.push({name:"Bonus Marks  : ",detail:this.props.location.data[4].detail}),Ln.push({name:"Additional info  : ",detail:this.props.location.data[5].detail}),t=this.props.location.previewData,Nn=Object(Pt.a)(this.props.location.marks),fn=this.props.location.ageGrpsPrev,this.setState({fromPage:this.props.location.fromPage,language:this.props.location.language,compID:this.props.location.compID,compName:this.props.location.compName,background:t.background,selectedAgeGroup:this.props.location.selectedAgeGroup,opt1:t.opt1,opt2:t.opt2,opt3:t.opt3,opt4:t.opt4,ansText:t.ansText}))),"MCQS_WITH_IMAGES"!=t.questionType.toUpperCase()){e.next=8;break}return e.next=6,Q.a.get(V+"api/ques/getImages/"+t.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 6:"empty"!=(a=e.sent).data.oimg1&&a.data.oimg1.length>0&&a.data.oimg2.length>0&&a.data.oimg3.length>0&&a.data.oimg4.length>0&&this.setState({urlo1:V+a.data.oimg1[0].uploadedFile,urlo2:V+a.data.oimg2[0].uploadedFile,urlo3:V+a.data.oimg3[0].uploadedFile,urlo4:V+a.data.oimg4[0].uploadedFile,opt1:"",opt2:"",opt3:"",opt4:""});case 8:n=(new DOMParser).parseFromString(t.background,"text/html"),r=n.documentElement.querySelectorAll("div"),l=r[0].innerHTML.replace(/\n/g,"<br/>"),document.getElementById("addHere").insertAdjacentHTML("beforeend",l),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={margin:"2%",transform:"scale(0.8)"},t={textAlign:"center",fontFamily:"Arial",fontWeight:"bold"};return o.a.createElement(o.a.Fragment,null,this.state.backButton?o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "):null,o.a.createElement("div",{style:{backgroundColor:"#fff",padding:"2%"}},o.a.createElement("div",{id:"addHere",style:{marginLeft:"1%"}}),null==this.state.ansText||""==this.state.ansText?o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h5",style:{marginTop:"40px"}},"Options : "),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"column"}},o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(O.a,{variant:"h6",style:t},"A. ",this.state.opt1),o.a.createElement("img",{style:e,src:this.state.urlo1})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(O.a,{variant:"h6",style:t},"B. ",this.state.opt2),o.a.createElement("img",{style:e,src:this.state.urlo2})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(O.a,{variant:"h6",style:t},"C. ",this.state.opt3),o.a.createElement("img",{style:e,src:this.state.urlo3})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(O.a,{variant:"h6",style:t},"D. ",this.state.opt4),o.a.createElement("img",{style:e,src:this.state.urlo4})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(et.a,{id:"answer",name:"answer",label:"Answer",style:{width:"250px"},variant:"outlined",placeholder:"Enter Answer Here"}))))}}]),a}(o.a.PureComponent),jn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){try{if(this.props.data.explanation.includes("div")){var e=(new DOMParser).parseFromString(this.props.data.explanation,"text/html").documentElement.querySelectorAll("div")[0].innerHTML.replace(/\n/g,"<br/>");document.getElementById("addExplanationHere").insertAdjacentHTML("beforeend",e)}}catch(t){return o.a.createElement(r.Redirect,{to:"/app/dashboard"})}}},{key:"render",value:function(){return o.a.createElement("div",{id:"addExplanationHere",style:{marginLeft:"1%",padding:"10px"}})}}]),a}(o.a.PureComponent),qn=a(519),Pn=a(523),Rn=a(522),Gn=a(521),zn=a(520),_n=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleAlertClose=function(){n.setState({openError:!1})},n.state={ageLevel:[],openError:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var n,o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.data,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getAgeGroupsPerQues/"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({openError:!0});case 10:for(o=function(e){a.setState((function(t){return{ageLevel:[].concat(Object(Pt.a)(t.ageLevel),[{age:n.data[e].AgeGroupID.AgeGroupName,qlevel:n.data[e].questionLevelCodeID.codeName}])}}))},r=0;r<n.data.length;r++)o(r);case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.props.history.push("/app/dashboard");case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(qn.a,{className:e.table,"aria-label":"custom pagination table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:e.head},"Age Group"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:e.head},"Question Level"))),o.a.createElement(zn.a,null,this.state.ageLevel.map((function(e){return o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{align:"left"},e.age),o.a.createElement(Gn.a,{align:"left"},e.qlevel))})))))}}]),a}(o.a.PureComponent),Mn=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(_n),Fn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleAlertClose=function(){n.setState({openError:!1})},n.state={openError:!1,ageLevel:[]},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var a,n,o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.data,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getQuesUsage/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.setState({openError:!0});case 10:for(o=function(e){t.setState((function(t){return{ageLevel:[].concat(Object(Pt.a)(t.ageLevel),[{cmpname:n.data[e].competitionAgeID.competitionID.competitionName,age:n.data[e].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,qlevel:n.data[e].questionLevelCodeID.codeName}])}}))},r=0;r<n.data.length;r++)o(r);case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.props.history.push("/app/dashboard");case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(qn.a,{className:e.table,"aria-label":"custom pagination table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:e.head},"Competition"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:e.head},"Age Group"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:e.head},"Question Level"))),o.a.createElement(zn.a,null,this.state.ageLevel.map((function(e){return o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{align:"left"},e.cmpname),o.a.createElement(Gn.a,{align:"left"},e.age),o.a.createElement(Gn.a,{align:"left"},e.qlevel))})))))}}]),a}(o.a.PureComponent),Un=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(Fn),Qn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleAlertClose=function(){n.setState({openError:!1})},n.goToPreview=function(e,t){n.state.history.push({pathname:"/app/question/preview",allData:n.state.allData,fromPage:"QuesTransPrev",previewData:t})},n.state={ansText:"",background:"",quesID:"",openError:!1,quesDetail:[],allData:"",history:null},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var a,n,o,r,l,s,i,c,d,p,u,m,h,g,f,y,E,v,b,S;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.allData.questionID,t.setState({allData:t.props.allData,ansText:t.props.allData.ansText,background:t.props.allData.background,quesID:t.props.allData.questionID,history:t.props.history}),e.prev=2,e.next=5,Q.a.get(V+"api/ques/getTranslations/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.setState({openError:!0});case 11:o=n.data.Questions,r=n.data.Options,l=[],s=[],i=0,c="",d=null,p=o.map((function(e){return e.questionTranslationID.languageCodeID.codeName})),u=0;case 17:if(!(u<p.length)){e.next=47;break}if(m=o[u],h=void 0,g=void 0,null==m.ansText?h=m.optionTranslationID.translationO.option:null!=m.ansText&&(g=m.ansText),l.push({caption:m.questionTranslationID.translation.caption,language:m.questionTranslationID.languageCodeID.codeName,identifier:m.questionTranslationID.Identifier,questype:m.questionTranslationID.questionID.questionTypeCodeID.codeName,background:m.questionTranslationID.translation.background,correctOption:h,ansText:g}),c=h,d=g,null!=m.ansText&&(i=1),f=0,0,y=[],0!=i){e.next=43;break}y.length=0,E=0;case 29:if(!(E<r.length)){e.next=40;break}if(v=r[E],p[u]!=v.languageCodeID.codeName){e.next=37;break}if(y.push({optionID:v.optionID.optionID,option:v.translationO.option}),4!=++f){e.next=37;break}return y.push({correctOption:c}),e.abrupt("break",40);case 37:E++,e.next=29;break;case 40:s.push(y),e.next=44;break;case 43:s.push({ansText:d});case 44:u++,e.next=17;break;case 47:for(b=function(e){s[e].hasOwnProperty("ansText")?t.setState((function(t){return{quesDetail:[].concat(Object(Pt.a)(t.quesDetail),[{questionID:a,questionType:l[e].questype,caption:l[e].caption,language:l[e].language,identifier:l[e].identifier,background:l[e].background,opt1:"",opt2:"",opt3:"",opt4:"",corrOpt:"",ansText:s[e].ansText}])}})):t.setState((function(t){return{quesDetail:[].concat(Object(Pt.a)(t.quesDetail),[{questionID:a,questionType:l[e].questype,caption:l[e].caption,language:l[e].language,identifier:l[e].identifier,background:l[e].background,opt1:s[e][0].option,opt2:s[e][1].option,opt3:s[e][2].option,opt4:s[e][3].option,corrOpt:s[e][4].correctOption,ansText:null}])}}))},S=0;S<l.length;S++)b(S);case 49:case"end":return e.stop()}}),e,null,[[2,8]])}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.state.history.push("/app/dasboard");case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"50px",marginLeft:"90%"},onClick:function(){return e.props.history.push({pathname:"/app/question/detail/add",state:{questionID:e.state.quesID,ansText:e.state.ansText,background:e.state.background}})}},"Add"),o.a.createElement(qn.a,{className:t.table,"aria-label":"custom pagination table",style:{marginTop:"-10px"}},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"50%",className:t.head},"Caption"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"25%",className:t.head},"Identifier"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"25%",className:t.head},"Languages"))),o.a.createElement(zn.a,null,this.state.quesDetail.map((function(t){return o.a.createElement(Rn.a,{onClick:function(a){return e.goToPreview(a,t)}},o.a.createElement(Gn.a,{align:"left"},t.caption),o.a.createElement(Gn.a,{align:"left"},t.identifier),o.a.createElement(Gn.a,{align:"left"},t.language.toUpperCase()))})))))}}]),a}(o.a.PureComponent),Vn=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(Qn),Wn=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState({tabValue:t})},n.handleEdit=function(e){n.props.history.push({pathname:"/app/question/edit",data:n.state.dataX})},n.handleAlertClose=function(){n.setState({openError:!1})},n.state={tabValue:0,dataX:"",csSkills:[],qimglist:[],url:"",explanation:"",openError:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props.location.data,n.setState({dataX:n.props.location.data,explanation:t.explanation}),o=0;o<t.csSkills.length;o++)n.state.csSkills.push(t.csSkills[o]);return e.next=5,Q.a.get(V+"api/ques/getImages/"+t.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({openError:!0})}));case 5:if((r=e.sent).data.qimg.length>0)for(a=0;a<r.data.qimg.length;a++)n.setState({url:V+r.data.qimg[a].uploadedFile}),n.setState((function(e){return{qimglist:[].concat(Object(Pt.a)(e.qimglist),[V+r.data.qimg[a].uploadedFile])}}));case 7:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.props.history.push("/app/dashboard");case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(mt,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(Je,{title:"Question Details"}),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginLeft:"90%",marginTop:"-60px"},onClick:function(t){return e.handleEdit(t)}},"Edit ",o.a.createElement(ft.a,null)),o.a.createElement(Ze.a,{elevation:3,style:{marginRight:"10px",marginTop:"30px",marginLeft:"10px"}},""==this.state.dataX?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{position:"static"},o.a.createElement(O.a,{variant:"h4",style:{marginLeft:"2%",marginTop:"1%",marginBottom:"1%"}},this.state.dataX.caption)),o.a.createElement(O.a,{style:{marginLeft:"2%",marginBottom:"1%",marginTop:"2%"}},o.a.createElement("b",null,"Identifier: "),this.state.dataX.identifier),o.a.createElement(O.a,{style:{marginLeft:"2%",marginBottom:"1%"}},o.a.createElement("b",null,"Domain: "),this.state.dataX.domainName),o.a.createElement(O.a,{style:{marginLeft:"2%",marginBottom:"1%"}},o.a.createElement("b",null,"Question Type: "),this.state.dataX.questionType.toUpperCase()),o.a.createElement(O.a,{style:{marginLeft:"2%",marginBottom:"2%"}},o.a.createElement("b",null,"Country: "),this.state.dataX.countryName),o.a.createElement(fe.a,null),o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{position:"static",marginTop:"1%"},o.a.createElement(wn.a,{value:this.state.tabValue,onChange:this.handleChange,"aria-label":"simple tabs"},o.a.createElement(On.a,Object.assign({label:"Preview",indicatorColor:"#fff",variant:"fullWidth"},Kn(0))),o.a.createElement(On.a,Object.assign({label:"Explanation",indicatorColor:"#fff",variant:"fullWidth"},Kn(1))),o.a.createElement(On.a,Object.assign({label:"Classification",indicatorColor:"#fff",variant:"fullWidth"},Kn(2))),o.a.createElement(On.a,Object.assign({label:"Translations",indicatorColor:"#fff",variant:"fullWidth"},Kn(3))),o.a.createElement(On.a,Object.assign({label:"Age Group",indicatorColor:"#fff",variant:"fullWidth"},Kn(4))),o.a.createElement(On.a,Object.assign({label:"Usage",indicatorColor:"#fff",variant:"fullWidth"},Kn(5))))),o.a.createElement(Hn,{value:this.state.tabValue,index:0},o.a.createElement(Bn,{data:this.state.dataX,fromPage:"QuestionDetails"})),o.a.createElement(Hn,{value:this.state.tabValue,index:1},o.a.createElement(jn,{data:this.state.dataX})),o.a.createElement(Hn,{value:this.state.tabValue,index:2},"The following are the ",this.state.csSkills.length," skills :",o.a.createElement("br",null),o.a.createElement(o.a.Fragment,{style:{marginLeft:"2%"}},this.state.csSkills.map((function(e){return o.a.createElement(O.a,null,e)})))),o.a.createElement(Hn,{value:this.state.tabValue,index:3},o.a.createElement(Vn,{history:this.props.history,allData:this.state.dataX})),o.a.createElement(Hn,{value:this.state.tabValue,index:4},o.a.createElement(Mn,{data:this.state.dataX.questionID})),o.a.createElement(Hn,{value:this.state.tabValue,index:5},o.a.createElement(Un,{data:this.state.dataX.questionID}))))))}}]),a}(o.a.PureComponent);function Hn(e){var t=e.children,a=e.value,n=e.index,r=Object(g.a)(e,["children","value","index"]);return o.a.createElement(O.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&o.a.createElement($e.a,{p:3},t))}function Kn(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e),width:" 25%"}}var Yn=a(518),Xn=a(1304),Jn=a(1305),Zn=(a(860),a(669)),$n=a.n(Zn),eo=a(524),to=a(662),ao=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t,emptyRows:3-Math.min(3,n.state.getValue.length-3*t)})},n.state={userName:"",loginID:"",type:"",created_on:"",created_by:"",modified_on:"",modified_by:"",date:"",getValue:[],userID:"",count:1,pageSize:3,page:0,rowsPerPage:3,dense:!1,emptyRows:0,loggedIn:localStorage.getItem("username")},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r,l,s=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/usr/userProfileUsers/"+localStorage.getItem("username")+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.setState({count:t.data.length}),r=function(e){t.data[e].created_on==t.data[e].modified_on?(a="Created",n=t.data[e].created_on):(a="Modified",n=t.data[e].modified_on),s.setState((function(o){return{getValue:[].concat(Object(Pt.a)(o.getValue),[{userID:t.data[e].userID,date:n,userName:t.data[e].username,loginID:t.data[e].loginID,type:a,created_on:t.data[e].created_on,modified_on:t.data[e].modified_on,created_by:t.data[e].created_by,modified_by:t.data[e].modified_by,emptyRows:3-Math.min(3,t.data.length-3*s.state.page)}])}}))},l=0;l<t.data.length;l++)r(l);e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(qn.a,{className:t.table,"aria-label":"custom pagination table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Date"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Type"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"70%",className:t.head},"Description"))),o.a.createElement(zn.a,null,this.state.getValue.slice(this.state.page*this.state.pageSize,this.state.page*this.state.pageSize+this.state.pageSize).map((function(t){return o.a.createElement(Rn.a,{key:t.userID},o.a.createElement(Gn.a,{align:"left"},t.date.replace(/T|Z/g," ").substring(0,19)),o.a.createElement(Gn.a,{align:"left"},t.type),o.a.createElement(Gn.a,{align:"left"},"The user ",t.userName," with ",t.loginID," email ID was",t.created_by==e.state.loggedIn?o.a.createElement(o.a.Fragment,null," created on ",t.created_on.replace(/T|Z/g," ").substring(0,19)," "):null,t.modified_by==e.state.loggedIn?o.a.createElement(o.a.Fragment,null," ",t.modified_by==e.state.loggedIn&&t.created_by==e.state.loggedIn?o.a.createElement(o.a.Fragment,null,"and "):null,"modified on ",t.modified_on.replace(/T|Z/g," ").substring(0,19)," "):null))})),this.state.emptyRows>0&&o.a.createElement(Rn.a,{style:{height:(this.state.dense?33:53)*this.state.emptyRows}},o.a.createElement(Gn.a,{colSpan:6}))),o.a.createElement(eo.a,null,o.a.createElement(Rn.a,null,o.a.createElement(to.a,{rowsPerPageOptions:[3],count:this.state.count,rowsPerPage:3,onChangePage:this.handleChangePage,page:this.state.page})))))}}]),a}(o.a.PureComponent);var no=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(ao),oo=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t,emptyRows:3-Math.min(3,n.state.getValue.length-3*t)})},n.state={caption:"",type:"Modified",date:"",getValue:[],quesID:"",count:1,pageSize:3,page:0,rowsPerPage:3,dense:!1,emptyRows:0},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/ques/userProfileQues/"+localStorage.getItem("username")+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.setState({count:t.data.length}),a=function(e){r.setState((function(a){return{getValue:[].concat(Object(Pt.a)(a.getValue),[{quesID:t.data[e].questionTranslationID,date:t.data[e].modified_on,caption:t.data[e].translation.caption,emptyRows:3-Math.min(3,t.data.length-3*r.state.page)}])}}))},n=0;n<t.data.length;n++)a(n);e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(qn.a,{className:t.table,"aria-label":"custom pagination table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Date"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Type"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"70%",className:t.head},"Description"))),o.a.createElement(zn.a,null,this.state.getValue.slice(this.state.page*this.state.pageSize,this.state.page*this.state.pageSize+this.state.pageSize).map((function(t){return o.a.createElement(Rn.a,{key:t.quesID},o.a.createElement(Gn.a,{align:"left"},t.date.replace(/T|Z/g," ").substring(0,19)),o.a.createElement(Gn.a,{align:"left"},e.state.type),o.a.createElement(Gn.a,{align:"left"},"The question ",t.caption," was modified on ",t.date.replace(/T|Z/g," ").substring(0,19),"."))})),this.state.emptyRows>0&&o.a.createElement(Rn.a,{style:{height:(this.state.dense?33:53)*this.state.emptyRows}},o.a.createElement(Gn.a,{colSpan:6}))),o.a.createElement(eo.a,null,o.a.createElement(Rn.a,null,o.a.createElement(to.a,{rowsPerPageOptions:[3],count:this.state.count,rowsPerPage:3,onChangePage:this.handleChangePage,page:this.state.page})))))}}]),a}(o.a.PureComponent);var ro=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(oo),lo=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e,t){n.setState({page:t,emptyRows:3-Math.min(3,n.state.getValue.length-3*t)})},n.state={SchoolName:"",type:"Modified",date:"",getValue:[],SchoolID:"",count:1,pageSize:3,page:0,rowsPerPage:3,dense:!1,emptyRows:0},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/userProfileSchool/"+localStorage.getItem("username")+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.setState({count:t.data.length}),a=function(e){r.setState((function(a){return{getValue:[].concat(Object(Pt.a)(a.getValue),[{SchoolID:t.data[e].schoolID,date:t.data[e].modified_on,SchoolName:t.data[e].schoolName,emptyRows:3-Math.min(3,t.data.length-3*r.state.page)}])}}))},n=0;n<t.data.length;n++)a(n);e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",o.a.createElement(y.a,{to:"/app/dashboard"}));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(qn.a,{className:t.table,"aria-label":"custom pagination table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Date"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"15%",className:t.head},"Type"),o.a.createElement(Gn.a,{component:"th",scope:"row",width:"70%",className:t.head},"Description"))),o.a.createElement(zn.a,null,this.state.getValue.slice(this.state.page*this.state.pageSize,this.state.page*this.state.pageSize+this.state.pageSize).map((function(t){return o.a.createElement(Rn.a,{key:t.quesID},o.a.createElement(Gn.a,{align:"left"},t.date.replace(/T|Z/g," ").substring(0,19)),o.a.createElement(Gn.a,{align:"left"},e.state.type),o.a.createElement(Gn.a,{align:"left"},"The ",t.SchoolName," was modified on ",t.date.replace(/T|Z/g," ").substring(0,19),"."))})),this.state.emptyRows>0&&o.a.createElement(Rn.a,{style:{height:(this.state.dense?33:53)*this.state.emptyRows}},o.a.createElement(Gn.a,{colSpan:6}))),o.a.createElement(eo.a,null,o.a.createElement(Rn.a,null,o.a.createElement(to.a,{rowsPerPageOptions:[3],count:this.state.count,rowsPerPage:3,onChangePage:this.handleChangePage,page:this.state.page})))))}}]),a}(o.a.PureComponent);var so=Object(Qe.a)((function(e){return{table:{minWidth:500,height:100},head:{text:"bold"}}}))(lo),io=[],co=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangeGender=function(e){n.setState({selectedOptionGender:e}),n.setState({selectedOption:e.value})},n.emailChange=function(e){n.setState({emailID:e,errorEmailID:!1})},n.dobChange=function(e){n.setState({dob:e,errordob:!1})},n.editDetails=function(){n.setState({open:!0})},n.changePassword=function(){n.setState({openPass:!0})},n.oldPasswordChange=function(e){n.setState({OldPasswordID:e})},n.PasswordChange=function(e){n.setState({PasswordID:e})},n.ConfirmPasswordChange=function(e){n.setState({ConfirmPasswordID:e})},n.handlePhoneChange=function(){if(null===n.state.phone||""===n.state.phone)n.setState({phone:""});else{var e=n.state.phone.replace(/\s/g,"");e=e.replace(/-/g,""),n.setState({phone:e})}},n.handleNext=function(){if(""==n.state.emailID&&n.setState({errorEmailID:!0}),""==n.state.dob&&n.setState({errordob:!0}),0==n.state.errorEmailID&&0==n.state.errordob){var e;n.handlePhoneChange(),"+"===n.state.phone||n.state.phone.length<5||""===n.state.phone?e=null:(e=n.state.phone).includes("+")||(e="+"+e);try{Q.a.post(V+"api/usr/updateProfile/"+n.state.userID+"/",{username:n.state.username,birthdate:n.state.dob,email:n.state.emailID,phone:e,gender:{codeName:n.state.selectedOption},modified_by:n.state.username},{headers:{"content-type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(t){200==t.status&&n.setState({open:!1,openDetailsSuccess:!0,phone:e})})).catch((function(e){n.setState({openError:!0,open:!0})}))}catch(t){n.setState({openError:!0})}}},n.onSubmit=function(){n.state.PasswordID.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/)?""==n.state.PasswordID||n.state.openPassError?n.setState({errorPasswordID:!0}):""!=n.state.OldPasswordID?""!=n.state.ConfirmPasswordID?n.state.PasswordID!=n.state.ConfirmPasswordID?n.setState({errorPasswordID:!0,errorConfirmPasswordID:!0,PasswordID:"",ConfirmPasswordID:""}):Q.a.post(V+"api/usr/changePassword/",{loginID:n.state.username,old_password:n.state.OldPasswordID,new_password:n.state.PasswordID},{headers:{"content-type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.status?n.setState({openPass:!1,openPassSuccess:!0,ConfirmPasswordID:"",PasswordID:"",OldPasswordID:""}):n.setState({openError:!0})})).catch((function(e){n.setState({openError:!0,openPass:!0})})):n.setState({errorConfirmPasswordID:!0}):n.setState({errorOldPasswordID:!0}):n.setState({openPassError:!0})},n.handleChange=function(e,t){n.setState({tabValue:t})},n.handleClose=function(){n.setState({openError:!1,openPassSuccess:!1,openDetailsSuccess:!1,openPassError:!1,errorConfirmPasswordID:!1,errorPasswordID:!1,errorOldPasswordID:!1,errordob:!1,errorEmailID:!1,OldPasswordID:"",PasswordID:"",ConfirmPasswordID:""})},n.handleCloseDialog=function(){n.setState({open:!1,openPass:!1,showPasswordC:!1,showPasswordO:!1,showPasswordP:!1,PasswordID:"",OldPasswordID:"",ConfirmPasswordID:""})},n.state={dob:"",emailID:"",errorEmailID:!1,errordob:!1,openPassError:!1,open:!1,phone:"",openPass:!1,OldPasswordID:"",PasswordID:"",ConfirmPasswordID:"",errorOldPasswordID:!1,errorPasswordID:!1,errorConfirmPasswordID:!1,username:localStorage.getItem("username"),userID:"",selectedOption:"",createdon:"",userName:"",acronym:"",codeID:"",codeName:"",selectedOptionGender:"",GenderList:[],tabValue:0,openDetailsSuccess:!1,openError:!1,openPassSuccess:!1,showPasswordO:!1,showPasswordP:!1,showPasswordC:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/usr/getProfile/"+this.state.username,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:t=e.sent,a=null==t.data[0].phone?"":t.data[0].phone,this.setState({userID:t.data[0].userID,userName:t.data[0].username,phone:a,selectedOption:t.data[0].gender.codeName,dob:t.data[0].birthdate,emailID:t.data[0].loginID,createdon:t.data[0].created_on}),n=this.state.userName.match(/\b(\w)/g).join(""),this.setState({acronym:n}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,e.next=15,Q.a.get(V+"api/usr/getGender/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 15:for(o=e.sent,this.setState({GenderList:o.data,selectedOptionGender:this.state.selectedOption}),io.length=0,r=0;r<this.state.GenderList.length;r++)l=this.state.GenderList[r].codeName,io.push({value:l,label:l});e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),this.props.history.push("/app/dashboard");case 24:case"end":return e.stop()}}),e,this,[[0,10],[12,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes,n={control:function(e){return Object(c.a)(Object(c.a)({},e),{},{height:"20px",marginTop:"10px"})},option:function(e){return Object(c.a)(Object(c.a)({},e),{},{width:"300px"})}};return o.a.createElement(mt,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.openPassError,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"info"},o.a.createElement("b",null,"Please check if your password length is abover 8 characters and contains atleast one lowercase letter, one uppercase letter, one numeric digit, and one special character!"))),o.a.createElement(D.a,{open:this.state.openPassSuccess,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"Password Changed Successfully!"))),o.a.createElement(D.a,{open:this.state.openDetailsSuccess,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"Details Updated Successully!"))),o.a.createElement(Je,{title:"User Profile"}),o.a.createElement(Ze.a,{elevation:3,style:{marginRight:"10px",marginTop:"10px",marginLeft:"10px",height:"30%",padding:"20px"}},o.a.createElement("div",null,o.a.createElement($e.a,{display:"flex",flexDirection:"row"},o.a.createElement($e.a,{display:"flex",flexDirection:"column",style:{width:"180px"}},o.a.createElement(qe.a,{style:{height:"120px",width:"120px",marginLeft:"20px",position:"relative",marginTop:"10px"}},o.a.createElement(je.a,{component:"img",image:$n.a,title:"User Profile",style:{height:"120px",width:"120px"}}),o.a.createElement("div",{className:a.overlay},o.a.createElement(O.a,{style:{fontSize:"30px",fontWeight:"bold"}},this.state.acronym))),o.a.createElement(O.a,{variant:"h6",fontWeight:"fontWeightBold",fontFamily:"sans-serif",style:{marginTop:"10px",marginLeft:"20px"}},this.state.userName)),o.a.createElement($e.a,{display:"flex",flexDirection:"column",style:{marginTop:"30px",padding:"10px",width:"450px",marginLeft:"30px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row"},o.a.createElement(O.a,null,o.a.createElement("b",null,"Email ID:"),"  ",this.state.emailID)),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"50px"}},o.a.createElement(O.a,null,o.a.createElement("b",null,"Gender:"),"  ",this.state.selectedOption))),o.a.createElement($e.a,{display:"flex",flexDirection:"column",style:{marginTop:"30px",padding:"10px",width:"450px",marginLeft:"20px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row"},o.a.createElement(O.a,null,o.a.createElement("b",null,"Contact:"),"  ",this.state.phone)),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"50px"}},o.a.createElement(O.a,null,o.a.createElement("b",null,"Date Of Birth:"),"  ",this.state.dob))),o.a.createElement($e.a,{display:"flex",flexDirection:"column",style:{padding:"10px",width:"450px",marginLeft:"20px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-10px"}},o.a.createElement(Re.a,{style:{marginRight:"5px",height:"50px"},onClick:this.editDetails},o.a.createElement(Xn.a,null),"Edit"),o.a.createElement(Re.a,{style:{marginRight:"5px",height:"50px"},onClick:this.changePassword},o.a.createElement(Jn.a,{style:{transform:"rotate(135deg)"}}),"Change Password")),o.a.createElement(O.a,{style:{marginTop:"60px",textAlign:"center"}},o.a.createElement("b",null,"Joined on:")," ",this.state.createdon))))),o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:this.state.open,onClose:this.handleCloseDialog,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Edit Details"),o.a.createElement(ca.a,null,o.a.createElement(et.a,{autoFocus:!0,margin:"dense",id:"email",label:this.state.errorEmailID?"Enter email id":"",type:"email",placeholder:"Enter Email ID",variant:"outlined",value:this.state.emailID,helperText:this.state.errorEmailID?"Required":"",error:this.state.errorEmailID,onChange:function(e){return t.emailChange(e.target.value)},fullWidth:!0}),o.a.createElement(dt.a,{id:"gender",value:this.state.selectedOptionGender,onChange:this.handleChangeGender,label:"Gender",options:io,placeholder:this.state.selectedOption,variant:"outlined",styles:n,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:"#1A1A1A"})})}}),o.a.createElement(et.a,(e={placeholder:"YYYY/MM/DD",autoFocus:!0,margin:"dense",id:"dob",label:this.state.errordob?"Enter birthdate YYYY-MM-DD":"",type:"text",variant:"outlined"},Object(E.a)(e,"placeholder","Enter birthdate YYYY-MM-DD"),Object(E.a)(e,"value",this.state.dob),Object(E.a)(e,"helperText",this.state.errordob?"Required":""),Object(E.a)(e,"error",this.state.errordob),Object(E.a)(e,"onChange",(function(e){return t.dobChange(e.target.value)})),Object(E.a)(e,"fullWidth",!0),e)),o.a.createElement(ut.a,{containerStyle:{marginTop:"10px",width:"450px",height:"40px"},inputStyle:{width:"450px",height:"40px"},country:"in",value:this.state.phone,onChange:function(e){return t.setState({phone:e})}})),o.a.createElement(ia.a,null,o.a.createElement(Re.a,{onClick:this.handleNext,color:"primary"},"Save"),o.a.createElement(Re.a,{onClick:this.handleCloseDialog,color:"primary"},"Cancel")))),o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:this.state.openPass,onClose:this.handleCloseDialog,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Change Password"),o.a.createElement(ca.a,null,o.a.createElement(et.a,{autoFocus:!0,margin:"dense",id:"oldPass",label:this.state.errorOldPasswordID?"Enter Current Password id":"",type:this.state.showPasswordO?"text":"password",variant:"outlined",placeholder:"Enter Current Password",value:this.state.OldPasswordID,helperText:this.state.errorOldPasswordID?"Required":"",error:this.state.errorOldPasswordID,onChange:function(e){return t.oldPasswordChange(e.target.value)},fullWidth:!0,InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){t.setState({showPasswordO:!t.state.showPasswordO})},onMouseDown:function(e){e.preventDefault()},edge:"end"},this.state.showPasswordO?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))}}),o.a.createElement(et.a,{autoFocus:!0,margin:"dense",id:"pass",label:this.state.errorPasswordID?"Enter New Password":"",type:this.state.showPasswordP?"text":"password",variant:"outlined",placeholder:"Enter Password",value:this.state.PasswordID,helperText:this.state.errorPasswordID?"Required":"",error:this.state.errorPasswordID,onChange:function(e){return t.PasswordChange(e.target.value)},fullWidth:!0,InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){t.setState({showPasswordP:!t.state.showPasswordP})},onMouseDown:function(e){e.preventDefault()},edge:"end"},this.state.showPasswordP?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))}}),o.a.createElement(et.a,{autoFocus:!0,margin:"dense",id:"confirmPassword",label:this.state.errorConfirmPasswordID?"Enter Password Again":"",type:this.state.showPasswordC?"text":"password",variant:"outlined",placeholder:"Enter Password Again",value:this.state.ConfirmPasswordID,helperText:this.state.errorConfirmPasswordID?"Required":"",error:this.state.errorConfirmPasswordID,onChange:function(e){return t.ConfirmPasswordChange(e.target.value)},fullWidth:!0,InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){t.setState({showPasswordC:!t.state.showPasswordC})},onMouseDown:function(e){e.preventDefault()},edge:"end"},this.state.showPasswordC?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))}})),o.a.createElement(ia.a,null,o.a.createElement(Re.a,{color:"primary",onClick:this.onSubmit},"Save"),o.a.createElement(Re.a,{onClick:this.handleCloseDialog,color:"primary"},"Cancel")))),o.a.createElement(Ze.a,{elevation:3,style:{marginRight:"10px",marginTop:"30px",marginLeft:"10px",height:"45%"}},o.a.createElement(x.a,{position:"static"},o.a.createElement(wn.a,{value:this.state.tabValue,onChange:this.handleChange,"aria-label":"simple tabs"},o.a.createElement(On.a,Object.assign({label:"Users",indicatorColor:"#fff",variant:"fullWidth"},mo(0))),o.a.createElement(On.a,Object.assign({label:"Questions",indicatorColor:"#fff",variant:"fullWidth"},mo(1))),o.a.createElement(On.a,Object.assign({label:"Schools",indicatorColor:"#fff",variant:"fullWidth"},mo(2))))),o.a.createElement(uo,{value:this.state.tabValue,index:0},o.a.createElement(no,null)),o.a.createElement(uo,{value:this.state.tabValue,index:1},o.a.createElement(ro,null)),o.a.createElement(uo,{value:this.state.tabValue,index:2},o.a.createElement(so,null))))}}]),a}(o.a.Component),po=Object(Qe.a)((function(e){return{margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200},root:{maxWidth:345},media:{height:140},overlay:{position:"absolute",top:"40px",left:"40px",color:"white",backgroundColor:"black"},paper:{display:"flex",flexDirection:"column",float:"right"}}}))(co);function uo(e){var t=e.children,a=e.value,n=e.index,r=Object(g.a)(e,["children","value","index"]);return o.a.createElement(O.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&o.a.createElement($e.a,{p:3},t))}function mo(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e),width:" 25%"}}Object(Yn.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var ho,go,fo=a(1297),yo=a(1318),Eo=a(1290),vo=a(1289),bo=a(86),So=a.n(bo),Co=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({openError:!1})},n.handleClick=function(e,t){n.props.history.push({pathname:"/app/competitions/info",data:t})},n.getCompDetails=function(e,t){return function(a,o){n.setState({expanded:!!o&&t}),n.getData(e)}},n.state={compData:[],years:[],expanded:!1,openError:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("created"),localStorage.removeItem("getMarks"),localStorage.removeItem("quesAdded"),localStorage.removeItem("addedNewGrp"),e.prev=4,e.delegateYield(Me.a.mark((function e(){var a,n,o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getYears/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}});case 2:for(a=e.sent,n=a.data.data,o=function(e){t.setState((function(t){return{years:[].concat(Object(Pt.a)(t.years),[n[n.length-1-e].substring(0,4)])}}))},r=0;r<n.length;r++)o(r);case 6:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(4),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[4,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getCompetitionYearWise/"+t+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({openError:!0})}));case 3:a=e.sent,this.setState({compData:a.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(Je,{title:"Competitions"}),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"10px",marginLeft:"90%",marginTop:"-60px"},onClick:function(){return e.props.history.push("/app/competitions/create/1/")}},"Create"),0!=this.state.years.length?this.state.years.map((function(t,a){return o.a.createElement(yo.a,{expanded:e.state.expanded===a,onChange:e.getCompDetails(t,a)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},t," Competitions")),o.a.createElement(vo.a,null,o.a.createElement(fo.a,{component:Ze.a},o.a.createElement(qn.a,{style:{minWidth:650},"aria-label":"simple table"},o.a.createElement(Pn.a,null,o.a.createElement(Rn.a,null,o.a.createElement(Gn.a,null),o.a.createElement(Gn.a,null,"Competition\xa0Name"),o.a.createElement(Gn.a,null,"Competition\xa0Type"),o.a.createElement(Gn.a,{align:"center"},"Start\xa0date"),o.a.createElement(Gn.a,{align:"center"},"End\xa0date"))),o.a.createElement(zn.a,null,e.state.compData.map((function(t,a){return o.a.createElement(Rn.a,{hover:!0,onClick:function(a){return e.handleClick(a,t)},key:t.competitionID},o.a.createElement(Gn.a,{component:"th",scope:"row"},a+1),o.a.createElement(Gn.a,{component:"th",scope:"row"},t.competitionName),o.a.createElement(Gn.a,{component:"th",scope:"row"},t.competitionType.codeName),o.a.createElement(Gn.a,{align:"right"},t.startDate.replace(/T|Z/g," ")),o.a.createElement(Gn.a,{align:"right"},t.endDate.replace(/T|Z/g," ")))})))))))})):o.a.createElement(O.a,{align:"center",style:{color:"red"},variant:"h6"},"No Competitions Created Yet!"))}}]),a}(o.a.PureComponent),Io=Object(Qe.a)((function(e){return{table:{minWidth:650},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}))(Co),Do=a(689),xo=a(139),ko=a.n(xo),wo=[{name:"caption",label:"Caption",options:{filter:!0,sort:!0}},{name:"domain",label:"Domain",options:{filter:!0,sort:!1}},{name:"type",label:"Type",options:{filter:!0,sort:!1}},{name:"quesLevel",label:"Question Level",options:{filter:!0,sort:!1}},{name:"country",label:"Country",options:{filter:!0,sort:!0}}],Oo=[],Ao="",To="",Lo=[],No=[],Bo=[],jo=[],qo=[],Po=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).setChallengeData=function(e,t,a,o,r){for(var l=[],s=0;s<qo.length;s++)if(qo[s].name==e&&qo[s].lang==t){var i=parseInt(Ao)+parseInt(a)*parseInt(Oo[0])+parseInt(o)*parseInt(Oo[1])+parseInt(r)*parseInt(Oo[2]);l.push({name:"Name :",detail:e}),l.push({name:"Language  :",detail:t}),l.push({name:"Classes  :",detail:To}),l.push({name:"Marks  :",detail:i}),l.push({name:"Level A  :",detail:a+" questions"}),l.push({name:"Level B  :",detail:o+" questions"}),l.push({name:"Level C  :",detail:r+" questions"}),l.push({name:"Total questions  :",detail:a+o+r+"  questions"}),qo[s].info=l,n.setState({compData:l});break}},n.sortIdInAsc=function(e){for(var t=0;t<e.data.length;t++)for(var a=0;a<e.data.length-t-1;a++)if(e.data[a].dataIndex>e.data[a+1].dataIndex){var n=e.data[a];e.data[a]=e.data[a+1],e.data[a+1]=n}return e},n.deleteQues=function(e){var t=Object(Pt.a)(n.state.quesData);e=n.sortIdInAsc(e);for(var a=0,o=0,r=0,l=0;l<t.length;l++)"A"==t[l].quesLevel&&(a=parseInt(a)+1),"B"==t[l].quesLevel&&(o=parseInt(o)+1),"C"==t[l].quesLevel&&(r=parseInt(r)+1);Lo.length=0;for(var s=e.data.length-1;s>=0;s--){var i=t[e.data[s].dataIndex].quesLevel;Lo.push({questionID:t[e.data[s].dataIndex].questionID,questionLevelCodeID:i}),"A"==i&&(a=parseInt(a)-1),"B"==i&&(o=parseInt(o)-1),"C"==i&&(r=parseInt(r)-1),t.splice(e.data[s].dataIndex,1)}n.setChallengeData(n.state.name,n.state.language,a,o,r),n.setState({quesData:t}),Q.a.post(V+"api/cmp/deleteCmpQues/",{CompetitionID:n.state.compID,agedata:{ageid:ho.AgeGroupID,agename:ho.AgeGroupName},DeletedData:Lo},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){}))},n.onSubmit=function(e){localStorage.setItem("quesAdded","true");for(var t=[],a=0;a<e.length;a++)t.push({questionID:e[a].questionID,questionLevelCodeID:e[a].quesLevel});Q.a.post(V+"api/cmp/addCmpQues/",{CompetitionID:n.state.compID,agedata:{ageid:ho.AgeGroupID,agename:ho.AgeGroupName},CmpQuesData:t},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){}))},n.handleClose=function(){n.setState({openError:!1})},n.handleBack=function(){var e=[{ageGroup:ho.AgeGroupName,type:Bo[0].detail,time:Bo[3].detail,start:Bo[1].detail,end:Bo[2].detail,bonus:Bo[4].detail,info:Bo[5].detail,name:n.state.compName}];"createComp"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/create/2/",selectedAgeGroup:ho,ageGrpsPrev:go,fromPage:n.state.fromPage,compID:n.state.compID,data:e}),"editDetails"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/edit/2/",selectedAgeGroup:ho,ageGrpsPrev:go,fromPage:n.state.fromPage,compID:n.state.compID,data:e}),"addNewGroup"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/update/2/",selectedAgeGroup:ho,ageGrpsPrev:go,fromPage:n.state.fromPage,compID:n.state.compID,data:e})},n.onDone=function(){n.props.history.push("/app/competition"),localStorage.removeItem("created"),localStorage.removeItem("getMarks"),localStorage.removeItem("quesAdded"),localStorage.removeItem("goBackToAdd")},n.calculateLevels=function(){for(var e=n.state.quesData,t=0,a=0,o=0,r=0;r<e.length;r++)"A"==e[r].quesLevel&&(t=parseInt(t)+1),"B"==e[r].quesLevel&&(a=parseInt(a)+1),"C"==e[r].quesLevel&&(o=parseInt(o)+1);n.setChallengeData(n.state.name,n.state.language,t,a,o)},n.state={value:0,fromPage:"",language:"",compName:"",quesData:[],compData:[],compID:"",openError:!1,openprogress:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u,m,h,g=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),e.prev=1,this.setState({compID:this.props.location.compID}),ho=this.props.location.selectedAgeGroup,go=this.props.location.ageGrpsPrev,e.next=7,Q.a.get(V+"api/cmp/getClassAgeWise/"+ho.AgeGroupID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 7:for(t=e.sent,To=t.data[0].ClassID.classNo,a=1;a<t.data.length;a++)To+=","+t.data[a].ClassID.classNo;if(jo.length=0,qo.length=0,Bo.length=0,Bo.push({name:"Type :",detail:this.props.location.data[0].detail}),Bo.push({name:"Start date :",detail:this.props.location.data[1].detail}),Bo.push({name:"End date  :",detail:this.props.location.data[2].detail}),Bo.push({name:"Time Limit (hh:mm)  : ",detail:this.props.location.data[3].detail}),Bo.push({name:"Bonus Marks  : ",detail:this.props.location.data[4].detail}),Bo.push({name:"Additional info  : ",detail:this.props.location.data[5].detail}),Ao=this.props.location.data[4].detail,Oo=this.props.location.marks,n=ho.AgeGroupName.split("-"),jo.push({name:n[0],lang:n[1],ques:[]}),qo.push({name:n[0],lang:n[1],info:[]}),o=0,r=0,l=0,this.setState({name:n[0],language:n[1],fromPage:this.props.location.fromPage,compName:this.props.location.compName,compID:this.props.location.compID}),this.setChallengeData(n[0],n[1],o,r,l),"editDetails"!=this.props.location.fromPage&&"true"!==localStorage.getItem("quesAdded")||this.getPrevQues(n[0],n[1],o,r,l).then((function(e){o=e[0],r=e[1],l=e[2],g.calculateLevels(g.state.quesData)})),"quesPage"==this.props.location.fromPage){for(s=ho.AgeGroupName.split("-"),this.setState({name:s[0],language:this.props.location.language,fromPage:this.props.location.initPage,compName:this.props.location.compName,compID:this.props.location.compID}),i=this.props.location.ques,c=0,d=0,p=0,u=0;u<jo[0].ques.length;u++)"A"==jo[0].ques[u].quesLevel&&(c=parseInt(c)+1),"B"==jo[0].ques[u].quesLevel&&(d=parseInt(d)+1),"C"==jo[0].ques[u].quesLevel&&(p=parseInt(p)+1);for(m=jo[0].ques,h=0;h<i.length;h++)m[m.length]=i[h],"A"==i[h].quesLevel&&(c=parseInt(c)+1),"B"==i[h].quesLevel&&(d=parseInt(d)+1),"C"==i[h].quesLevel&&(p=parseInt(p)+1);this.setChallengeData(s[0],this.props.location.data.language,c,d,p),this.onSubmit(i)}void 0===this.props.location.data&&this.props.history.push("/app/dashboard"),this.setState({openprogress:!1}),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(1),this.setState({openprogress:!1}),this.props.history.push("/app/dashboard");case 37:case"end":return e.stop()}}),e,this,[[1,33]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPrevQues",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a,n,o,r){var l,s,i,c,d,p,u,m,h,g=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=jo[0].ques,e.next=3,Q.a.get(V+"api/cmp/getCmpQues/"+ho.AgeGroupID+"&"+this.state.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 3:for(s=e.sent,i=s.data,c=i.cmpQuesList,d=i.QuesTrans,p=[],u=0;u<c.length;u++)p.push({id:c[u].questionID,level:c[u].questionLevelCodeID.codeName});for(m=0;m<d.length;m++)for(h=0;h<p.length;h++)d[m].questionID.questionID==p[h].id&&d[m].languageCodeID.codeName==a&&(l.push({questionID:d[m].questionID.questionID,questionTransID:d[m].questionTranslationID,country:d[m].questionID.countryID.nicename,caption:d[m].translation.caption,domain:d[m].questionID.domainCodeID.codeName,type:d[m].questionID.questionTypeCodeID.codeName,quesLevel:p[h].level}),No.push({questionID:d[m].questionID.questionID,questionTransID:d[m].questionTranslationID,country:d[m].questionID.countryID.nicename,caption:d[m].translation.caption,domain:d[m].questionID.domainCodeID.codeName,type:d[m].questionID.questionTypeCodeID.codeName,quesLevel:p[h].level}),"A"==p[h].level&&(n=parseInt(n)+1),"B"==p[h].level&&(o=parseInt(o)+1),"C"==p[h].level&&(r=parseInt(r)+1));return jo[0].ques=l,this.setState({quesData:l}),e.abrupt("return",[n,o,r]);case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,n,o,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,bgcolor:"background.paper"},o.a.createElement($e.a,{display:"flex",flexGrow:1,flexDirection:"column",bgcolor:"background.paper"},o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"#2196f3"},o.a.createElement(O.a,{variant:"h6",style:{color:"white"},gutterBottom:!0,align:"center"},this.state.name," - ",this.state.language," group")),o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"background.paper"},o.a.createElement(Rt.a,{container:!0},this.state.compData.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:3},o.a.createElement(O.a,{paddingRight:"10px",align:"center",gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:3},o.a.createElement(O.a,{gutterBottom:!0},e.detail)))}))),o.a.createElement("br",null)),o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"background.paper"},o.a.createElement(x.a,{position:"static",color:"white"},o.a.createElement(wn.a,{value:0,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},o.a.createElement(On.a,Object.assign({label:"Questions"},{id:"full-width-tab-".concat(e=0),"aria-controls":"full-width-tabpanel-".concat(e)})))),o.a.createElement(Go,{value:0,index:0},o.a.createElement(Zt.a,{data:this.state.quesData,columns:wo,options:{filterType:"checkbox",rowsPerPage:10,rowsPerPageOptions:10,print:!1,download:!1,viewColumns:!1,textLabels:{selectedRows:{text:"question(s) selected",delete:"Delete here",deleteAria:"Delete Selected Rows"}},onRowsDelete:function(e){return t.deleteQues(e)},customToolbar:function(e){return o.a.createElement(ae.a,{title:"Add questions"},o.a.createElement(w.a,{onClick:function(){t.props.history.push({pathname:"/app/competitions/addQues",language:t.state.language,fromPage:t.state.fromPage,compName:t.state.compName,compID:t.state.compID,data:Bo,marks:Oo,selectedAgeGroup:ho,ageGrpsPrev:go})}},o.a.createElement(ko.a,null)))}}}))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"10px",marginLeft:"90%",marginTop:"-2%",marginRight:"1%"},onClick:this.onDone},"Done"))),o.a.createElement(Do.a,{className:a.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(o.a.PureComponent),Ro=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(Po);function Go(e){var t=e.children,a=e.value,n=e.index,r=Object(g.a)(e,["children","value","index"]);return o.a.createElement(O.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&o.a.createElement($e.a,{p:3},t))}var zo,_o,Mo,Fo=[{name:"caption",label:"Caption",options:{filter:!0,sort:!0}},{name:"domain",label:"Domain",options:{filter:!0,sort:!1}},{name:"type",label:"Type",options:{filter:!0,sort:!1}},{name:"quesLevel",label:"Question Level",options:{filter:!0,sort:!0}},{name:"country",label:"Country",options:{filter:!0,sort:!0}},{name:"background",options:{filter:!1,display:!1,sort:!1}},{name:"questionID",options:{filter:!1,display:!1,sort:!1}},{name:"Option 1",options:{filter:!1,display:!1,sort:!1}},{name:"Option 2",options:{filter:!1,display:!1,sort:!1}},{name:"Option 3",options:{filter:!1,display:!1,sort:!1}},{name:"Option 4",options:{filter:!1,display:!1,sort:!1}},{name:"Answer Text",options:{filter:!1,display:!1,sort:!1}}],Uo=[],Qo=[],Vo="",Wo=[],Ho=[],Ko=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({openError:!1,noDataAlert:!1,openEmpty:!1})},n.handleBack=function(){var e="";"createComp"==n.state.fromPage&&(e="/app/competitions/create/3/"),"editDetails"==n.state.fromPage&&(e="/app/competitions/edit/3/"),"addNewGroup"==n.state.fromPage&&(e="/app/competitions/update/3/"),n.props.history.push({pathname:e,language:n.state.language,ques:[],initPage:n.state.fromPage,data:Wo,compName:n.state.compName,marks:Ho,selectedAgeGroup:Vo,ageGrpsPrev:zo,compID:n.state.compID,fromPage:"quesPage"})},n.rowClick=function(e){var t=[{questionType:e[2],background:e[5],questionID:e[6],opt1:e[7],opt2:e[8],opt3:e[9],opt4:e[10],ansText:e[11]}];n.props.history.push({pathname:"/app/question/preview",language:n.state.language,previewData:t[0],data:Wo,marks:Ho,compName:n.state.compName,selectedAgeGroup:Vo,compID:n.state.compID,fromPage:n.state.fromPage,ageGrpsPrev:zo})},n.onSelectRows=function(e){try{if(e.length>1){Qo.length=0;for(var t=0;t<e.length;t++)Qo.push(e[t].dataIndex)}else{for(var a=!1,n=0;n<Qo.length;n++)if(Qo[n]==e[0].dataIndex){a=!0,Qo.splice(n,1);break}0==a&&Qo.push(e[0].dataIndex)}}catch(o){Qo.length=0}},n.addToComp=function(){if(0!=Qo.length){Uo.length=0;for(var e=0;e<Qo.length;e++)Uo.push(n.state.data[Qo[e]]);"createComp"===n.state.fromPage?n.props.history.push({pathname:"/app/competitions/create/3/",language:n.state.language,ques:Uo,initPage:n.state.fromPage,data:Wo,compName:n.state.compName,selectedAgeGroup:Vo,compID:n.state.compID,marks:Ho,fromPage:"quesPage",ageGrpsPrev:zo}):"addNewGroup"===n.state.fromPage?n.props.history.push({pathname:"/app/competitions/update/3/",language:n.state.language,ques:Uo,initPage:n.state.fromPage,data:Wo,compName:n.state.compName,marks:Ho,compID:n.state.compID,selectedAgeGroup:Vo,fromPage:"quesPage",ageGrpsPrev:zo}):n.props.history.push({pathname:"/app/competitions/edit/3/",language:n.state.language,ques:Uo,initPage:n.state.fromPage,data:Wo,compName:n.state.compName,compID:n.state.compID,marks:Ho,selectedAgeGroup:Vo,fromPage:"quesPage",ageGrpsPrev:zo})}},n.state={data:[],ageGroup:"",noDataAlert:!1,language:"",fromPage:"",compName:"",compID:"",openError:!1,openprogress:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),Qo.length=0,localStorage.setItem("quesAdded","true"),e.prev=3,e.delegateYield(Me.a.mark((function e(){var t,n,o,r,l,s,i,c,d,p,u,m,h,g,f,y,E,v,b,S,C,I;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vo=a.props.location.selectedAgeGroup,zo=a.props.location.ageGrpsPrev,Ho=Object(Pt.a)(a.props.location.marks),Wo.length=0,Wo.push({name:"Type :",detail:a.props.location.data[0].detail}),Wo.push({name:"Start date :",detail:a.props.location.data[1].detail}),Wo.push({name:"End date  :",detail:a.props.location.data[2].detail}),Wo.push({name:"Time Limit (hh:mm)  : ",detail:a.props.location.data[3].detail}),Wo.push({name:"Bonus Marks  : ",detail:a.props.location.data[4].detail}),Wo.push({name:"Additional info  : ",detail:a.props.location.data[5].detail}),a.setState({ageGroup:a.props.location.ageGroup,language:a.props.location.language,fromPage:a.props.location.fromPage,compName:a.props.location.compName,compID:a.props.location.compID}),t="","createComp"!==a.props.location.fromPage&&"addNewGroup"!==a.props.location.fromPage){e.next=17;break}return e.next=15,Q.a.get(V+"api/cmp/getQuesAgeAll/"+Vo.AgeGroupID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openError:!0})}));case 15:t=e.sent,a.setState({selectedAgeGroup:Vo});case 17:if("editDetails"!==a.props.location.fromPage){e.next=22;break}return e.next=20,Q.a.get(V+"api/cmp/getQuesAge/"+Vo.AgeGroupID+"&"+a.props.location.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openError:!0})}));case 20:t=e.sent,a.setState({selectedAgeGroup:Vo});case 22:if("previewQues"!==a.props.location.fromPage){e.next=27;break}return e.next=25,Q.a.get(V+"api/cmp/getQuesAge/"+a.props.location.selectedAgeGroup.AgeGroupID+"&"+a.props.location.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openError:!0})}));case 25:t=e.sent,a.setState({selectedAgeGroup:Vo,fromPage:a.props.location.initPage});case 27:if(0!==t.data.QuesAge.length){e.next=31;break}return a.setState({openEmpty:!0}),a.setState({openprogress:!0}),e.abrupt("return",{v:void 0});case 31:for(n=t.data.QuesAge,o=t.data.Questions,r=t.data.Options,l=[],s=[],i=[],c=0;c<n.length;c++)l.push({quesID:n[c].questionID,quesLevel:n[c].questionLevelCodeID.codeName});d=0;case 37:if(!(d<l.length)){e.next=75;break}p=0,u="",m=null,h=0;case 40:if(!(h<o.length)){e.next=53;break}if(g=o[h],f=void 0,y=void 0,null==g.ansText?f=g.optionTranslationID.translationO.option:null!=g.ansText&&(y=g.ansText),l[d].quesID!=g.questionTranslationID.questionID.questionID){e.next=50;break}return s.push({quesType:g.questionTranslationID.questionID.questionTypeCodeID.codeName,questionID:g.questionTranslationID.questionID.questionID,quesLevel:l[d].quesLevel,caption:g.questionTranslationID.translation.caption,domain:g.questionTranslationID.questionID.domainCodeID.codeName,background:g.questionTranslationID.translation.background,explanation:g.questionTranslationID.translation.explanation,countryN:g.questionTranslationID.questionID.countryID.nicename,correctOption:f,ansText:y}),u=f,m=y,null!=g.ansText&&(p=1),e.abrupt("break",53);case 50:h++,e.next=40;break;case 53:if(E=0,0,v=[],0!=p){e.next=71;break}v.length=0,b=0;case 57:if(!(b<r.length)){e.next=68;break}if(S=r[b],l[d].quesID!=S.optionID.questionID){e.next=65;break}if(v.push({optionID:S.optionID.optionID,option:S.translationO.option}),4!=++E){e.next=65;break}return v.push({correctOption:u}),e.abrupt("break",68);case 65:b++,e.next=57;break;case 68:i.push(v),e.next=72;break;case 71:i.push({ansText:m});case 72:d++,e.next=37;break;case 75:for(C=function(e){i[e].hasOwnProperty("ansText")?a.setState((function(t){return{data:[].concat(Object(Pt.a)(t.data),[{type:s[e].quesType,questionID:s[e].questionID,quesLevel:s[e].quesLevel,caption:s[e].caption,background:s[e].background,domain:s[e].domain,country:s[e].countryN,opt1:"",opt2:"",opt3:"",opt4:"",corrOpt:"",ansText:i[e].ansText}])}})):a.setState((function(t){return{data:[].concat(Object(Pt.a)(t.data),[{type:s[e].quesType,questionID:s[e].questionID,caption:s[e].caption,quesLevel:s[e].quesLevel,background:s[e].background,domain:s[e].domain,country:s[e].countryN,opt1:i[e][0].option,opt2:i[e][1].option,opt3:i[e][2].option,opt4:i[e][3].option,corrOpt:i[e][4].correctOption,ansText:null}])}}))},I=0;I<s.length;I++)C(I);case 77:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(t=e.t0)){e.next=8;break}return e.abrupt("return",t.v);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(3),this.props.history.push("/app/dashboard");case 13:this.setState({openprogress:!0});case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.openEmpty,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"info"},o.a.createElement("b",null,"No Questions Present in this Category!"))),o.a.createElement(D.a,{open:this.state.noDataAlert,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"No Question Selected!"))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px",marginLeft:"80%"},onClick:this.addToComp},"Add Question "),o.a.createElement(Zt.a,{title:"Select questions",data:this.state.data.map((function(e){return[e.caption,e.domain,e.type,e.quesLevel,e.country,e.background,e.questionID,e.opt1,e.opt2,e.opt3,e.opt4,e.ansText]})),columns:Fo,options:{filterType:"checkbox",print:!1,download:!1,viewColumns:!1,onRowsSelect:function(t){return e.onSelectRows(t)},onRowClick:function(t){return e.rowClick(t)},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}},customToolbarSelect:function(e){return null}}}))}}]),a}(o.a.PureComponent),Yo=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({selectedValue:t}),t==n.state.corrOpt?n.setState({openSuccess:!0}):n.setState({openError:!0})},n.handleClose=function(){n.setState({openError:!1,openSuccess:!1})},n.handleCheck=function(){document.getElementById("answer").value==n.state.ansText?n.setState({openSuccess:!0}):n.setState({openError:!0})},n.state={dataX:n.props.data,urlo1:"",urlo2:"",urlo3:"",urlo4:"",caption:"",background:"",opt1:"",opt2:"",opt3:"",opt4:"",corrOpt:"",ansText:"",selectedValue:-1,openError:!1,openSuccess:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({caption:this.state.dataX.caption,background:this.state.dataX.background,opt1:this.state.dataX.opt1,opt2:this.state.dataX.opt2,opt3:this.state.dataX.opt3,opt4:this.state.dataX.opt4,urlo1:this.state.dataX.urlo1,urlo2:this.state.dataX.urlo2,urlo3:this.state.dataX.urlo3,urlo4:this.state.dataX.urlo4,corrOpt:this.state.dataX.corrOpt,ansText:this.state.dataX.ansText}),this.state.dataX.background.includes("div")?(t=(new DOMParser).parseFromString(this.state.dataX.background,"text/html"),a=t.documentElement.querySelectorAll("div"),n=a[0].innerHTML.replace(/\n/g,"<br/>"),document.getElementById("addHere").insertAdjacentHTML("beforeend",n)):(o=this.state.dataX.background.match(new RegExp("Question:")),r=this.state.dataX.background.substring(0,o.index),l=this.state.dataX.background.substring(o.index+9),this.setState({task:r,ques:l}))}catch(s){this.props.history.push("/app/dashboard")}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={transfrm:"scale(0.8)",margin:"2%"},a={textAlign:"center",fontFamily:"Arial",fontWeight:"bold"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:1e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Incorrect Answer!"))),o.a.createElement(D.a,{open:this.state.openSuccess,autoHideDuration:1e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"Correct Answer!"))),o.a.createElement(O.a,{variant:"h6",style:{margin:"10px 0px 10px 0px"}},this.state.caption),this.state.dataX.background.includes("div")?o.a.createElement("div",{id:"addHere",style:{marginLeft:"1%",fontSize:"16px"}}):o.a.createElement("p",{style:{marginLeft:"1%"}},this.state.task,o.a.createElement("br",null),o.a.createElement("h4",null,"Question:"),this.state.ques),null==this.state.ansText?o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"10px"}},o.a.createElement("b",null,"Options : ")),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"column"}},o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(rt.a,{checked:this.state.selectedValue===this.state.opt1,onChange:this.handleChange,value:this.state.opt1,color:"primary",inputProps:{"aria-label":"A"}}),o.a.createElement(O.a,{style:a},this.state.opt1),o.a.createElement("img",{style:t,src:this.state.urlo1})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(rt.a,{checked:this.state.selectedValue===this.state.opt2,onChange:this.handleChange,value:this.state.opt2,color:"primary",inputProps:{"aria-label":"B"}}),o.a.createElement(O.a,{style:a},this.state.opt2),o.a.createElement("img",{style:t,src:this.state.urlo2})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(rt.a,{checked:this.state.selectedValue===this.state.opt3,onChange:this.handleChange,value:this.state.opt3,color:"primary",inputProps:{"aria-label":"C"}}),o.a.createElement(O.a,{style:a},this.state.opt3),o.a.createElement("img",{style:t,src:this.state.urlo3})),o.a.createElement($e.a,{style:{display:"flex",flexDirection:"row",margin:"2%"}},o.a.createElement(rt.a,{checked:this.state.selectedValue===this.state.opt4,onChange:this.handleChange,value:this.state.opt4,color:"primary",inputProps:{"aria-label":"D"}}),o.a.createElement(O.a,{style:a},this.state.opt4),o.a.createElement("img",{style:t,src:this.state.urlo4})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(et.a,{id:"answer",name:"answer",label:"Answer",style:{width:"250px"},variant:"outlined",placeholder:"Enter Answer Here"}),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{margin:"10px"},onClick:function(){return e.handleCheck()}},"Check Answer")))}}]),a}(o.a.PureComponent),Xo=Object(Qe.a)({root:{"&$selected":{color:"#3F51B5"}},selected:{}})(ye.a),Jo=[],Zo=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).nextQues=function(){n.state.curr+1<n.state.count?n.setState({curr:n.state.curr+1,selectedIndex:n.state.curr+1}):n.props.history.push("/app/competition")},n.prevQues=function(){n.state.curr-1>=0&&n.setState({curr:n.state.curr-1,selectedIndex:n.state.curr-1})},n.handleListItemClick=function(e,t){n.setState({selectedIndex:t,curr:t})},n.handleBack=function(){var e=[];e.push({name:"Type :",detail:Jo[0].detail}),e.push({name:"Start date :",detail:Jo[1].detail}),e.push({name:"End date  :",detail:Jo[2].detail}),e.push({name:"Time Limit (hh:mm)  :",detail:Jo[3].detail}),e.push({name:"Additional info  : ",detail:Jo[4].detail}),n.props.history.push({pathname:"/app/competitions/preview",data:e,compID:n.state.compID,compName:n.state.compName,prevAgeGroups:_o})},n.state={quesDetail:[],count:0,curr:0,rerender:!1,quesCaptionList:[],selectedIndex:0,compName:"",ageName:"",language:"",alertMsg:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_o=this.props.location.prevAgeGroups,Jo.push({name:"Type :",detail:this.props.location.data[0].detail}),Jo.push({name:"Start date :",detail:this.props.location.data[1].detail}),Jo.push({name:"End date  :",detail:this.props.location.data[2].detail}),Jo.push({name:"Time Limit (hh:mm)  : ",detail:this.props.location.data[3].detail}),Jo.push({name:"Additional info  : ",detail:this.props.location.data[4].detail}),t=this.props.location.ageGroupID,a=this.props.location.compID,n=this.props.location.compName,o=this.props.location.ageGroupName.split("-"),this.setState({ageName:o[0],language:o[1],compName:n,compID:a}),e.prev=12,e.delegateYield(Me.a.mark((function e(){var n,o,l,s,i,c,d,p,u,m,h,g,f,y,E,v,b,S,C,I,D,x,k;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getCmpPreview/"+t+"&"+a+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}});case 2:n=e.sent,o=n.data.cmpQuesList.map((function(e){return{quesID:e.questionID,quesLevel:e.questionLevelCodeID.codeName}})),l=[],s=[],i=0;case 6:if(!(i<o.length)){e.next=63;break}c="",d=0;case 9:if(!(d<n.data.skills.length)){e.next=17;break}if(o[i].quesID!=n.data.skills[d].questionID){e.next=14;break}for(c=n.data.skills[d].skills[0],p=1;p<n.data.skills[d].skills.length;p++)c+=","+n.data.skills[d].skills[p];return e.abrupt("break",17);case 14:d++,e.next=9;break;case 17:u=0,m="",h=null,g=0;case 19:if(!(g<n.data.QuesTrans.length)){e.next=32;break}if(f=n.data.QuesTrans[g],y=void 0,E=void 0,null==f.ansText?y=f.optionTranslationID.translationO.option:null!=f.ansText&&(E=f.ansText),o[i].quesID!=f.questionTranslationID.questionID.questionID){e.next=29;break}return l.push({questype:f.questionTranslationID.questionID.questionTypeCodeID.codeName,questionID:f.questionTranslationID.questionID.questionID,quesLevel:o[i].quesLevel,caption:f.questionTranslationID.translation.caption,domain:f.questionTranslationID.questionID.domainCodeID.codeName,background:f.questionTranslationID.translation.background,explanation:f.questionTranslationID.translation.explanation,countryN:f.questionTranslationID.questionID.countryID.name,csSkills:c,correctOption:y,ansText:E}),m=y,h=E,null!=f.ansText&&(u=1),e.abrupt("break",32);case 29:g++,e.next=19;break;case 32:if(v=0,b=0,S=[],0!=u){e.next=59;break}S.length=0,C=0;case 36:if(!(C<n.data.OptTrans.length)){e.next=56;break}if(I=n.data.OptTrans[C],o[i].quesID!=I.optionID.questionID){e.next=53;break}D=0;case 40:if(!(D<n.data.OptImages.length)){e.next=48;break}if(n.data.OptImages[D].ObjectID!=I.optionID.optionID){e.next=45;break}return S.push({optionID:I.optionID.optionID,option:I.translationO.option,imgURL:V+n.data.OptImages[D].uploadedFile}),b=1,e.abrupt("break",48);case 45:D++,e.next=40;break;case 48:if(0==b&&S.push({optionID:I.optionID.optionID,option:I.translationO.option,imgURL:""}),4!=++v){e.next=53;break}return S.push({correctOption:m}),e.abrupt("break",56);case 53:C++,e.next=36;break;case 56:s.push(S),e.next=60;break;case 59:s.push({ansText:h});case 60:i++,e.next=6;break;case 63:for(x=function(e){s[e].hasOwnProperty("ansText")?r.setState((function(t){return{quesDetail:[].concat(Object(Pt.a)(t.quesDetail),[{questype:l[e].quesType,questionID:l[e].questionID,quesLevel:l[e].quesLevel,caption:l[e].caption,background:l[e].background,csSkills:l[e].csSkills,domain:l[e].domain,opt1:"",urlo1:"",opt2:"",urlo2:"",opt3:"",urlo3:"",opt4:"",urlo4:"",corrOpt:"",ansText:s[e].ansText}])}})):r.setState((function(t){return{quesDetail:[].concat(Object(Pt.a)(t.quesDetail),[{questype:l[e].quesType,questionID:l[e].questionID,caption:l[e].caption,quesLevel:l[e].quesLevel,background:l[e].background,csSkills:l[e].csSkills,domain:l[e].domain,opt1:s[e][0].option,urlo1:s[e][0].imgURL,opt2:s[e][1].option,urlo2:s[e][1].imgURL,opt3:s[e][2].option,urlo3:s[e][2].imgURL,opt4:s[e][3].option,urlo4:s[e][3].imgURL,corrOpt:s[e][4].correctOption,ansText:null}])}})),r.setState((function(t){return{quesCaptionList:[].concat(Object(Pt.a)(t.quesCaptionList),[l[e].caption])}}))},k=0;k<l.length;k++)x(k);r.setState({count:l.length});case 66:case"end":return e.stop()}}),e)}))(),"t0",14);case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(12),this.setState({alertMsg:!0}),setTimeout((function(){r.handleBack()}),2e3);case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),this.props.history.push("/app/dashboard");case 25:case"end":return e.stop()}}),e,this,[[0,22],[12,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(mt,null,o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),this.state.alertMsg?o.a.createElement(O.a,{align:"center",style:{color:"red"},variant:"h5"},"No Questions Added Yet!"):null,o.a.createElement(Ze.a,{p:3,m:3},0!=this.state.count?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#3F51B5",textAlign:"center",paddingTop:"20px"}},o.a.createElement(O.a,{variant:"h5"},this.state.compName," - ",this.state.ageName," ",this.state.language)),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(oe.a,{component:"nav",style:{width:"14%"}},this.state.quesCaptionList.map((function(t,a){return o.a.createElement(Xo,{button:!0,selected:e.state.selectedIndex===a,onClick:function(t){return e.handleListItemClick(t,a)}},o.a.createElement(ve.a,{primary:t}))}))),o.a.createElement($e.a,{display:"flex",flexDirection:"column",p:1,m:1,style:{width:"86%"}},o.a.createElement("div",{style:{backgroundColor:"#3F51B5",fontSize:"18px",color:"#fff",paddingLeft:"14px",paddingRight:"14px",marginTop:"-10px"}},o.a.createElement("p",null,"Domain : ",this.state.quesDetail[this.state.curr].domain,o.a.createElement("span",{style:{float:"right"}},"Question Level : ",this.state.quesDetail[this.state.curr].quesLevel)),o.a.createElement("p",null,"CS Skills : ",this.state.quesDetail[this.state.curr].csSkills)),o.a.createElement("div",{style:{marginLeft:"2%",padding:"1%"}},o.a.createElement(Yo,{data:this.state.quesDetail[this.state.curr],key:this.state.quesDetail[this.state.curr].questionID})),o.a.createElement($e.a,{flex:"display",flexDirection:"row"},0==this.state.curr?o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{margin:"1% 2% 1% 92%"},onClick:function(){e.nextQues()}},this.state.curr==this.state.count-1?o.a.createElement(o.a.Fragment,null,"Done"):o.a.createElement(o.a.Fragment,null,"Next")):o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{margin:"1% 2% 1% 80%"},onClick:function(){e.prevQues()}},"Back"),o.a.createElement(Re.a,{color:"primary",variant:"contained",onClick:function(){e.nextQues()}},this.state.curr==this.state.count-1?o.a.createElement(o.a.Fragment,null,"Done"):o.a.createElement(o.a.Fragment,null,"Next"))))))):null))}}]),a}(o.a.PureComponent),$o=a(670),er=a.n($o),tr=[],ar=[],nr=[],or=[],rr=[],lr=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleListItemClick=function(e,t,a){var o=new Date(tr[2].detail);"Practice Challenge"!==tr[0].detail&&o<=Date.now()&&n.props.history.push({pathname:"/app/competitions/results",ageGroupName:or[t].name,language:or[t].lang[a],ageGroupList:or,compID:n.state.compID,data:tr,compName:n.state.compName})},n.handleClick=function(e){Boolean(n.state.anchorEl)?n.setState({anchorEl:null}):n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null,openError:!1})},n.compPrev=function(){n.props.history.push({pathname:"/app/competitions/preview",data:tr,compName:n.state.compName,compID:n.state.compID,ageGrps:n.state.ages,prevAgeGroups:rr})},n.addNewGroup=function(){n.props.history.push({pathname:"/app/competitions/update/1/",data:tr,compName:n.state.compName,compID:n.state.compID,fromPage:"addNewGroup",prevAges:rr})},n.editDetails=function(){n.props.history.push({pathname:"/app/competitions/edit/1/",data:tr,compName:n.state.compName,compID:n.state.compID,fromPage:"editDetails",prevAges:rr})},n.state={compName:"",compID:"",ages:[],anchorEl:null,openError:!1,compStarted:!1,compEnded:!1,openprogress:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u,m,h,g,f=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),e.prev=1,tr.length=0,ar.length=0,nr.length=0,or.length=0,t=this.props.location.data.testDuration.substring(0,this.props.location.data.testDuration.length-3),tr.push({name:"Type :",detail:this.props.location.data.competitionType.codeName}),tr.push({name:"Start date :",detail:this.props.location.data.startDate.replace(/T|Z/g," ")}),tr.push({name:"End date  :",detail:this.props.location.data.endDate.replace(/T|Z/g," ")}),tr.push({name:"Time Limit (hh:mm)  : ",detail:t}),tr.push({name:"Additional info  : ",detail:this.props.location.data.competitionInfo}),a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),o=new Date(tr[1].detail),r=new Date(tr[2].detail),(l=new Date(n))>=o&&"Main Challenge"==tr[0].detail&&this.setState({compStarted:!0}),l>=r&&"Main Challenge"==tr[0].detail&&this.setState({compEnded:!0}),e.next=21,Q.a.get(V+"api/cmp/getAgeCmpWise/"+this.props.location.data.competitionID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){f.setState({openError:!0})}));case 21:for(s=e.sent,i=s.data.AgeGrp,c=s.data.BonusList,rr.length=0,d=0;d<i.length;d++)rr.push({AgeGroupID:i[d].AgeGroupID,AgeGroupName:i[d].AgeGroupName,created_on:i[d].created_on,bonus:c[d]});for(p=0;p<rr.length;p++){for(u=rr[p].AgeGroupName.split("-"),m=0,h=0;h<or.length;h++)u[0]===or[h].name&&((g=or[h].lang).push(u[1]),or[h].lang=g,m=1);0===m&&or.push({name:u[0],lang:[u[1]]}),ar.push({name:u[0],lang:u[1],ques:[]}),nr.push({name:u[0],lang:u[1],info:[]})}this.setState({compID:this.props.location.data.competitionID,compName:this.props.location.data.competitionName}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(1),this.props.history.push("/app/dashboard");case 33:this.setState({openprogress:!1});case 34:case"end":return e.stop()}}),e,this,[[1,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(mt,null,o.a.createElement(Ze.a,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement("div",{className:"App"},o.a.createElement($e.a,{p:1,m:1,display:"flex",flexDirection:"row"},o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"#2196f3",style:{marginRight:"2%"}},o.a.createElement(O.a,{variant:"h6",style:{color:"white"},gutterBottom:!0,align:"center"},this.state.compName)),o.a.createElement(w.a,{style:{height:"60px"},onClick:function(t){return e.handleClick(t)}},o.a.createElement(er.a,{style:{fontSize:"40px"}})),o.a.createElement(A.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,style:{marginTop:"50px"}},o.a.createElement(T.a,{disabled:this.state.compEnded,onClick:this.editDetails},"Edit Details"),o.a.createElement(T.a,{disabled:this.state.compStarted,onClick:this.addNewGroup},"Add Group"),o.a.createElement(T.a,{onClick:this.compPrev},"Preview Competition"))),o.a.createElement(Rt.a,{container:!0,spacing:1},tr.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{align:"right",gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0,align:"left"},e.detail)))}))),o.a.createElement(Rt.a,{container:!0,spacing:1,alignItems:"stretch"},or.map((function(t,a){var n=t.name,r=t.lang;return o.a.createElement(Rt.a,{item:!0,xs:4},o.a.createElement($e.a,{flexGrow:1,m:1,height:"30px",bgcolor:"#2196f3"},o.a.createElement(O.a,{style:{color:"white"},variant:"h6",gutterBottom:!0,align:"center"},n)),o.a.createElement($e.a,{display:"flex",flexDirection:"column",p:1,m:1,css:{minWidth:"20%"}},o.a.createElement(oe.a,{component:"nav","aria-label":"main mailbox folders",align:"center"},r.map((function(t,n){return o.a.createElement(ye.a,{align:"center",key:n,button:!0,onClick:function(t){return e.handleListItemClick(t,a,n)}},o.a.createElement(ve.a,{align:"center",primary:t}))})))))}))))),o.a.createElement(Do.a,{className:t.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(o.a.PureComponent),sr=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(lr),ir=Object(Qe.a)({root:{"&$selected":{color:"#3F51B5"}},selected:{}})(ye.a),cr=[],dr=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleListItemClick=function(e,t,a){var o;n.setState({selectedIndex:t});for(var r=0;r<Mo.length;r++)if(a==Mo[r].AgeGroupName){o=Mo[r].AgeGroupID;break}n.props.history.push({pathname:"/app/competitions/test",ageGroupID:o,compID:n.state.compID,compName:n.state.compName,ageGroupName:a,data:cr,prevAgeGroups:Mo})},n.handleBack=function(){var e=[{competitionID:n.state.compID,competitionInfo:cr[4].detail,competitionName:n.state.compName,competitionType:{codeName:cr[0].detail},endDate:cr[2].detail,startDate:cr[1].detail,testDuration:cr[3].detail+":00"}];n.props.history.push({pathname:"/app/competitions/info",data:e[0]})},n.state={compName:"",compID:"",ageList:[],selectedIndex:-1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{cr.length=0,Mo=this.props.location.prevAgeGroups,cr.push({name:"Type :",detail:this.props.location.data[0].detail}),cr.push({name:"Start date :",detail:this.props.location.data[1].detail}),cr.push({name:"End date  :",detail:this.props.location.data[2].detail}),cr.push({name:"Time Limit (hh:mm)  : ",detail:this.props.location.data[3].detail}),cr.push({name:"Additional info  : ",detail:this.props.location.data[4].detail});for(var t=function(t){e.setState((function(e){return{ageList:[].concat(Object(Pt.a)(e.ageList),[Mo[t].AgeGroupName])}}))},a=0;a<Mo.length;a++)t(a);this.setState({compID:this.props.location.compID,compName:this.props.location.compName})}catch(n){this.props.history.push("/app/dashboard")}}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(mt,null,o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),o.a.createElement(Ze.a,{p:3,m:3,align:"center",className:t.paper},o.a.createElement("div",{style:{backgroundColor:"#3F51B5",color:"#fff",height:"50px",padding:"10px"}},o.a.createElement(O.a,{variant:"h6",align:"center"}," ",this.state.compName," ")),o.a.createElement("div",{style:{margin:"10px"}},o.a.createElement(O.a,null,o.a.createElement("b",null,"Age Group List")),o.a.createElement(oe.a,{component:"nav"},this.state.ageList.map((function(t,a){return o.a.createElement(ir,{button:!0,selected:e.state.selectedIndex===a,onClick:function(n){return e.handleListItemClick(n,a,t)}},o.a.createElement(ve.a,{align:"center",primary:t}))}))))))}}]),a}(o.a.PureComponent),pr=Object(Qe.a)((function(e){return{paper:{width:"70%",marginLeft:"15%"}}}))(dr),ur=a(216),mr=a.n(ur),hr=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],gr=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],fr=[{name:"",start:"",end:"",info:"",type:"",time:"",ageGroup:"",bonus:"",hh:"00",mm:"00"}],yr=[],Er="",vr=[],br=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangeDuration=function(e){n.setState({duration:e.target.value}),fr[0].hh=e.target.value},n.handleChangeDurationMins=function(e){n.setState({durationMins:e.target.value}),fr[0].mm=e.target.value},n.displayAlertAgeGroups=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:n.state.redirect,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},'Age Groups have not been created for this year. You will be redirected to "Create Age Groups" page. '))),o.a.createElement(ia.a,null,o.a.createElement(Re.a,{onClick:function(){return n.setState({onClickAge:!0})},color:"primary"},"OK"))))},n.handleChange=function(e){n.setState({compType:e.target.value}),fr[0].type=e.target.value,document.getElementById("errType").style.display="none"},n.handleCreate=function(){fr[0].time=fr[0].hh+":"+fr[0].mm,n.setState({time:fr[0].time});var e=n.state.startDate.getFullYear()+"-"+(n.state.startDate.getMonth()+1)+"-"+n.state.startDate.getDate()+" "+n.state.startDate.getHours()+":"+n.state.startDate.getMinutes()+":"+n.state.startDate.getSeconds();fr[0].start=e;var t=n.state.endDate.getFullYear()+"-"+(n.state.endDate.getMonth()+1)+"-"+n.state.endDate.getDate()+" "+n.state.endDate.getHours()+":"+n.state.endDate.getMinutes()+":"+n.state.endDate.getSeconds();fr[0].end=t;var a="";"error"==n.validateRange()?(document.getElementById("err2").style.display="block",a="yes"):document.getElementById("err2").style.display="none",""==fr[0].name?(document.getElementById("err").style.display="block",a="yes"):document.getElementById("err").style.display="none",""==fr[0].type?(document.getElementById("errType").style.display="block",a="yes"):document.getElementById("errType").style.display="none",""==fr[0].ageGroup?(document.getElementById("errAgeGroups").style.display="block",a="yes"):document.getElementById("errAgeGroups").style.display="none",""==fr[0].bonus?(document.getElementById("errMarks").style.display="block",a="yes"):document.getElementById("errMarks").style.display="none";try{""==a&&(""===fr[0].info&&(fr[0].info="-"),"done"===localStorage.getItem("created")?Q.a.post(V+"api/cmp/updateCmp/",{CompetitionData:{competitionName:n.state.compName,competitionInfo:fr[0].info,startDate:fr[0].start,endDate:fr[0].end,testDuration:fr[0].time,competitionType:{codeName:fr[0].type}},CompetitionID:n.state.compID,bonus:fr[0].bonus,agedata:{ageid:Er.AgeGroupID,agename:Er.AgeGroupName}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"-"===fr[0].info&&(fr[0].info=""),n.props.history.push({pathname:"/app/competitions/create/2/",data:fr,selectedAgeGroup:Er,compID:n.state.compID,fromPage:"createComp"})})):Q.a.post(V+"api/cmp/insertCmp/",{AgeGroupClassID:{AgeGroupID:{AgeGroupName:Er.AgeGroupName,created_on:Er.created_on}},competitionID:{competitionName:fr[0].name,competitionInfo:fr[0].info,startDate:fr[0].start,endDate:fr[0].end,testDuration:fr[0].time,competitionType:{codeName:fr[0].type}},defaultBonusMarks:fr[0].bonus},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"-"===fr[0].info&&(fr[0].info=""),localStorage.setItem("created","done"),n.props.history.push({pathname:"/app/competitions/create/2/",data:fr,compID:e.data.data,fromPage:"createComp",selectedAgeGroup:Er})})))}catch(o){n.setState({openError:!0})}},n.validateRange=function(){if(n.state.startDate.getFullYear()>n.state.endDate.getFullYear())return"error";if(n.state.startDate.getFullYear()==n.state.endDate.getFullYear()){if(n.state.startDate.getMonth()>n.state.endDate.getMonth())return"error";if(n.state.startDate.getMonth()==n.state.endDate.getMonth()&&n.state.startDate.getDate()>n.state.endDate.getDate())return"error"}},n.handleChangeName=function(e){""==e?document.getElementById("err").style.display="block":(document.getElementById("err").style.display="none",fr[0].name=e)},n.handleChangeBonus=function(e){""==e?document.getElementById("errMarks").style.display="block":(document.getElementById("errMarks").style.display="none",fr[0].bonus=e)},n.handleChangeInfo=function(e){fr[0].info=""==e||null==e?"":e},n.handleChangeAges=function(e,t){fr[0].ageGroup=t,""==fr[0].ageGroup?document.getElementById("errAgeGroups").style.display="block":document.getElementById("errAgeGroups").style.display="none";for(var a=0;a<yr.length;a++)t==yr[a].AgeGroupName&&(Er=yr[a])},n.handleClose=function(){n.setState({openError:!1})},n.state={startDate:new Date,endDate:new Date,compType:"",redirect:!1,onClickAge:!1,time:"",ages:[],cmpTypes:[],openError:!1,duration:"00",durationMins:"00",openprogress:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),e.prev=1,e.next=4,Q.a.get(V+"api/cmp/viewAgeGroup/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openError:!0})}));case 4:for(t=e.sent,a=[],n=0;n<t.data.length;n++)a.push(t.data[n].AgeGroupName);return yr=t.data,"Redirect"!=t.data?this.setState({ages:a}):this.setState({redirect:!0}),e.next=11,Q.a.get(V+"api/com/getCmpTypes/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openError:!0})}));case 11:for(o=e.sent,r=[],l=0;l<o.data.length;l++)r.push(o.data[l].codeName);this.setState({cmpTypes:r}),void 0!=this.props.location.data?(fr[0].name=this.props.location.compName,fr[0].info=this.props.location.data[4].detail,fr[0].type=this.props.location.data[0].detail,fr[0].time=this.props.location.data[3].detail,fr[0].hh=fr[0].time.substring(0,2),fr[0].mm=fr[0].time.substring(3),fr[0].start=this.props.location.data[1].detail,fr[0].end=this.props.location.data[2].detail,fr[0].bonus=this.props.location.data[5].detail,fr[0].ageGroup=this.props.location.data[6].detail,this.setState({compID:this.props.location.compID,compType:fr[0].type,time:fr[0].time,startDate:new Date(fr[0].start),endDate:new Date(fr[0].end),duration:fr[0].hh,durationMins:fr[0].mm})):localStorage.removeItem("created"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),localStorage.removeItem("created"),this.props.history.push("/app/dashboard");case 22:this.setState({openprogress:!1});case 23:case"end":return e.stop()}}),e,this,[[1,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return vr=fr[0].ageGroup,o.a.createElement(o.a.Fragment,null,this.state.onClickAge?o.a.createElement(y.a,{to:"/app/competitions/addGroups"}):null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement("main",{className:t.layout},o.a.createElement(Ze.a,{className:t.paper},o.a.createElement(O.a,{variant:"h5",align:"center"},"Enter Competition Details"),o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{multiline:!0,required:!0,id:"compName",defaultValue:fr[0].name,label:"Competition Name",onChange:function(t){return e.handleChangeName(t.target.value)},fullWidth:!0}),o.a.createElement(at.a,{id:"err",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")))),o.a.createElement("div",{style:{padding:20}},o.a.createElement(Rt.a,{container:!0,justify:"space-around"},o.a.createElement(Rt.a,{item:!0,xs:6},"Start date:"," ",o.a.createElement(mr.a,{onChange:function(t){return e.setState({startDate:t})},value:this.state.startDate})),o.a.createElement(Rt.a,{item:!0,xs:6},"End date:"," ",o.a.createElement(mr.a,{value:this.state.endDate,onChange:function(t){return e.setState({endDate:t})}}))),o.a.createElement(at.a,{id:"err2",style:{color:"red",alignItems:"center",display:"none"}},"Enter valid date range*")),o.a.createElement("div",{style:{padding:20}},o.a.createElement(Rt.a,{container:!0,spacing:3,justify:"space-around"},o.a.createElement(Rt.a,{item:!0,align:"right",xs:6},o.a.createElement(Ft.a,{id:"demo-simple-select-label"},"Competition type"),o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"180px"},value:this.state.compType,onChange:this.handleChange},this.state.cmpTypes.map((function(e){return o.a.createElement(T.a,{value:e},e)}))),o.a.createElement(at.a,{id:"errType",style:{color:"red",display:"none"}},"Select Type")),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(Ft.a,{id:"demo-simple-select-label"},"Duration (hh:mm)"),o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.duration,onChange:this.handleChangeDuration},o.a.createElement(T.a,{value:"00"},"00"),hr.map((function(e){return o.a.createElement(T.a,{value:e},e)}))),o.a.createElement("b",null,":"),"\xa0\xa0",o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.durationMins,onChange:this.handleChangeDurationMins},o.a.createElement(T.a,{value:"00"},"00"),gr.map((function(e){return o.a.createElement(T.a,{value:e},e)})))))),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:8},o.a.createElement(wa.a,{id:"autoMul",options:this.state.ages,defaultValue:vr,getOptionLabel:function(e){return e},onChange:this.handleChangeAges,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"ageGroups",label:"Age Groups",placeholder:"Select Age Group",fullWidth:!0}))}}),o.a.createElement(at.a,{id:"errAgeGroups",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:4},o.a.createElement(ae.a,{title:"Default Marks that'll be added for all Students",arrow:!0},o.a.createElement(et.a,{id:"bonusMarks",label:"Bonus Marks",defaultValue:fr[0].bonus,onChange:function(t){return e.handleChangeBonus(t.target.value)},fullWidth:!0})),o.a.createElement(at.a,{id:"errMarks",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))),o.a.createElement("br",null),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{id:"compInfo",defaultValue:fr[0].info,label:"Additional Information (if any)",onChange:function(t){return e.handleChangeInfo(t.target.value)},fullWidth:!0}))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.buttons},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleCreate,className:t.button},"Create")))))),this.displayAlertAgeGroups(),o.a.createElement(Do.a,{className:t.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(o.a.PureComponent),Sr=Object(Qe.a)((function(e){return{appBar:{position:"relative"},layout:Object(E.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{marginLeft:"160px",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{width:"800px",marginTop:e.spacing(6),marginLeft:"10%",marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(br),Cr=a(72),Ir=a.n(Cr),Dr="",xr=[],kr=[],wr="Add",Or=[!1,!1,!1],Ar=[!1,!1,!1],Tr=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleCorrectMarks=function(e,t){n.setState({rerenderer:!n.state.rerenderer}),Or[t]=!1;var a=n.state.correctMarks;a[t]=e,n.setState({correctMarks:a})},n.handleIncorrectmarks=function(e,t){e.includes("-")?Ar[t]=!1:Ar[t]=!0,n.setState({rerenderer:!n.state.rerenderer});var a=n.state.incorrectMarks;a[t]=e,n.setState({incorrectMarks:a})},n.onSubmit=function(){localStorage.setItem("getMarks","true");for(var e=0,t=0;t<kr.length;t++)null!=n.state.correctMarks[t]&&""!=n.state.incorrectMarks[t]||(Or[t]=!0,e=1),null!=n.state.incorrectMarks[t]&&""!=n.state.incorrectMarks[t]&&1!=Ar[t]||(Ar[t]=!0,e=1);if(1!=e){if("createComp"==n.state.fromPage)for(var a=0;a<kr.length;a++)Q.a.post(V+"api/cmp/insertMarkScheme/",{competitionAgeID:{created_on:Dr.created_on,AgeGroupName:Dr.AgeGroupName},CmpData:{competitionName:n.state.compName,startDate:xr[1].detail,cmptype:xr[0].detail},questionLevelCodeID:{codeName:kr[a]},correctMarks:n.state.correctMarks[a],incorrectMarks:n.state.incorrectMarks[a]},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.props.history.push({pathname:"/app/competitions/create/3/",data:xr,compName:n.state.compName,compID:n.state.compID,selectedAgeGroup:Dr,ageGrpsPrev:n.state.ageGrpsPrev,marks:n.state.correctMarks,fromPage:"createComp"})})).catch((function(e){n.setState({openError:!0})}));if("addNewGroup"==n.state.fromPage)for(a=0;a<kr.length;a++)Q.a.post(V+"api/cmp/insertMarkScheme/",{competitionAgeID:{created_on:Dr.created_on,AgeGroupName:Dr.AgeGroupName},CmpData:{competitionName:n.state.compName,startDate:xr[1].detail,cmptype:xr[0].detail},questionLevelCodeID:{codeName:kr[a]},correctMarks:n.state.correctMarks[a],incorrectMarks:n.state.incorrectMarks[a]},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.props.history.push({pathname:"/app/competitions/update/3/",data:xr,compName:n.state.compName,compID:n.state.compID,selectedAgeGroup:Dr,ageGrpsPrev:n.state.ageGrpsPrev,marks:n.state.correctMarks,fromPage:"addNewGroup"})})).catch((function(e){n.setState({openError:!0})}));if("editDetails"==n.state.fromPage)for(a=0;a<kr.length;a++)Q.a.post(V+"api/cmp/updateMarks/",{AgeID:Dr.AgeGroupID,competitionID:n.state.compID,queslevelcode:kr[a].name,corrMarks:n.state.correctMarks[a],incorrMarks:n.state.incorrectMarks[a]},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.props.history.push({pathname:"/app/competitions/edit/3/",data:xr,compName:n.state.compName,selectedAgeGroup:Dr,compID:n.state.compID,ageGrpsPrev:n.state.ageGrpsPrev,marks:n.state.correctMarks,fromPage:"editDetails"})})).catch((function(e){n.setState({openError:!0})}))}else n.setState({rerenderer:!n.state.rerenderer})},n.handleClose=function(){n.setState({openError:!1})},n.handleBack=function(){var e=[];e.push({name:"Type :",detail:xr[0].detail}),e.push({name:"Start date :",detail:xr[1].detail}),e.push({name:"End date  :",detail:xr[2].detail}),e.push({name:"Time Limit (hh:mm)  :",detail:xr[3].detail}),e.push({name:"Additional info  : ",detail:xr[5].detail}),e.push({name:"Bonus  : ",detail:xr[4].detail}),e.push({name:"Age Group : ",detail:Dr.AgeGroupName}),"createComp"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/create/1/",data:e,compID:n.state.compID,prevAges:n.state.ageGrpsPrev,compName:n.state.compName}),"editDetails"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/edit/1/",data:e,compID:n.state.compID,fromPage:"editDetails",prevAges:n.state.ageGrpsPrev,compName:n.state.compName}),"addNewGroup"===n.state.fromPage&&n.props.history.push({pathname:"/app/competitions/update/1/",data:e,fromPage:"addNewGroup",prevAges:n.state.ageGrpsPrev,compID:n.state.compID,compName:n.state.compName})},n.state={ageGroups:[],compName:"",fromPage:"",compID:"",correctMarks:[],incorrectMarks:[],rerenderer:!1,openError:!1,ageGrpsPrev:null,openprogress:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),localStorage.setItem("addedNewGrp","true"),e.prev=2,Dr=this.props.location.selectedAgeGroup,this.setState({ageGrpsPrev:this.props.location.ageGrpsPrev,compID:this.props.location.compID}),e.next=7,Q.a.get(V+"api/com/getQuestionLevel/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){o.setState({openError:!0})}));case 7:for(t=e.sent,kr.length=0,a=0;a<t.data.length;a++)n=t.data[a].codeName,kr.push({id:(a+1).toString(),name:n});if(xr.length=0,void 0==this.props.location.data){e.next=22;break}if("true"!==localStorage.getItem("getMarks")&&"editDetails"!==this.props.location.fromPage){e.next=15;break}return e.next=15,Q.a.get(V+"api/cmp/getMarksAgeCmpWise/"+Dr.AgeGroupID+"&"+this.props.location.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){for(var t=[],a=0;a<e.data.length;a++)t.push(e.data[a]),wr="Update";for(var n=0;n<t.length;n++)for(var r=n;r<t.length;r++)if(t[r].questionLevelCodeID.codeName<t[n].questionLevelCodeID.codeName){var l=t[r];t[r]=t[n],t[n]=l}for(var s=[],i=[],c=0;c<t.length;c++)s.push(t[c].correctMarks),i.push(t[c].incorrectMarks),o.setState({correctMarks:s,incorrectMarks:i})}));case 15:xr.push({name:"Type :",detail:this.props.location.data[0].type}),xr.push({name:"Start date :",detail:this.props.location.data[0].start}),xr.push({name:"End date  :",detail:this.props.location.data[0].end}),xr.push({name:"Time Limit (hh:mm)  : ",detail:this.props.location.data[0].time}),xr.push({name:"Bonus Marks  : ",detail:this.props.location.data[0].bonus}),xr.push({name:"Additional info  : ",detail:this.props.location.data[0].info}),this.setState({compName:this.props.location.data[0].name,fromPage:this.props.location.fromPage,compID:this.props.location.compID});case 22:void 0===this.props.location.data&&this.props.history.push("/app/dashboard"),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),this.props.history.push("/app/dashboard");case 28:this.setState({openprogress:!1});case 29:case"end":return e.stop()}}),e,this,[[2,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),o.a.createElement(Ze.a,{style:{padding:"10px"}},o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement("div",{className:"App"},o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"#2196f3"},o.a.createElement(O.a,{variant:"h5",style:{color:"white"},gutterBottom:!0,align:"center"},this.state.compName)),o.a.createElement(Rt.a,{container:!0,spacing:1},xr.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{align:"right",style:{fontSize:"18px"},gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0,style:{fontSize:"18px"},align:"left"},e.detail)))}))),o.a.createElement(fe.a,{style:{marginTop:"2%"}}),o.a.createElement(O.a,{style:{marginTop:"1%",marginLeft:"36%"},variant:"h6"}," Selected Age Group : ",Dr.AgeGroupName," "),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px",marginLeft:"8%"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary",style:{marginLeft:"2%"}},"Levels:")),o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary",style:{marginLeft:"30%",width:"300px"}},"Correct Marks:")),o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary",style:{marginLeft:"40%",width:"300px"}},"Incorrect Marks:"))),kr.map((function(t,a){return o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px",marginLeft:"10%"}},o.a.createElement(O.a,{variant:"h5",color:"textSecondary",style:{marginLeft:"2%"}},t.name)),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:t.id,label:Or[t.id-1]?"Enter Correct Marks":"",helperText:Or[t.id-1]?"Required* ":"",error:Or[t.id-1],onChange:function(a){return e.handleCorrectMarks(a.target.value,t.id-1)},style:{marginLeft:"30%",width:"300px",display:"flex"},placeholder:"Enter Correct Marks",value:e.state.correctMarks[a],variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},e.state.error_correct?o.a.createElement(Ir.a,{style:{color:"red"}}):"")}})),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:t.id+t.name,label:Ar[t.id-1]?"Enter Incorrect Marks":"",helperText:Ar[t.id-1]?"Required* ":"",error:Ar[t.id-1],onChange:function(a){return e.handleIncorrectmarks(a.target.value,t.id-1)},style:{marginLeft:"50%",width:"300px",display:"flex"},placeholder:"Enter Incorrect Marks",value:e.state.incorrectMarks[a],variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},e.state.error_incorrect?o.a.createElement(Ir.a,{style:{color:"red"}}):"")}})))})),o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"84%",width:"150px"}},wr," Marks"))),o.a.createElement(Do.a,{className:t.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(o.a.PureComponent),Lr=Object(Qe.a)((function(e){return{formControl:{minWidth:120},input:{display:"none"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(Tr),Nr=[{name:"",start:"",end:"",info:"",type:"",time:"",ageGroup:"",bonus:"",hh:"00",mm:"00"}],Br=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],jr=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],qr=[],Pr="",Rr=[],Gr=[],zr=[],_r=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleChangeDuration=function(e){n.setState({duration:e.target.value}),Nr[0].hh=e.target.value},n.handleChangeDurationMins=function(e){n.setState({durationMins:e.target.value}),Nr[0].mm=e.target.value},n.handleChangeBonus=function(e){""==e?document.getElementById("errMarks").style.display="block":(document.getElementById("errMarks").style.display="none",Nr[0].bonus=e),n.setState({bonus:e})},n.handleChange=function(e){n.setState({compType:e.target.value}),Nr[0].type=e.target.value,document.getElementById("errType").style.display="none"},n.handleUpdate=function(){Nr[0].time=Nr[0].hh+":"+Nr[0].mm,n.setState({time:Nr[0].time});var e=n.state.startDate.getFullYear()+"-"+(n.state.startDate.getMonth()+1)+"-"+n.state.startDate.getDate()+" "+n.state.startDate.getHours()+":"+n.state.startDate.getMinutes()+":"+n.state.startDate.getSeconds();Nr[0].start=e;var t=n.state.endDate.getFullYear()+"-"+(n.state.endDate.getMonth()+1)+"-"+n.state.endDate.getDate()+" "+n.state.endDate.getHours()+":"+n.state.endDate.getMinutes()+":"+n.state.endDate.getSeconds();Nr[0].end=t;var a="";if("error"==n.validateRange()?(document.getElementById("err2").style.display="block",a="yes"):document.getElementById("err2").style.display="none",""==Nr[0].name?(document.getElementById("err").style.display="block",a="yes"):document.getElementById("err").style.display="none",""==Nr[0].type?(document.getElementById("errType").style.display="block",a="yes"):document.getElementById("errType").style.display="none",""==Nr[0].ageGroup?(document.getElementById("errAgeGroups").style.display="block",a="yes"):document.getElementById("errAgeGroups").style.display="none",""==Nr[0].bonus?(document.getElementById("errMarks").style.display="block",a="yes"):document.getElementById("errMarks").style.display="none",""==a){""===Nr[0].info&&(Nr[0].info="-");try{"addNewGroup"==n.state.fromPage&&Q.a.post(V+"api/cmp/insertCmpAge/",{AgeGroupClassID:{AgeGroupID:{AgeGroupName:Pr.AgeGroupName,created_on:Pr.created_on}},competitionID:{competitionName:Nr[0].name,startDate:Nr[0].start,competitionType:{codeName:Nr[0].type}},defaultBonusMarks:Nr[0].bonus},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"-"===Nr[0].info&&(Nr[0].info=""),n.props.history.push({pathname:"/app/competitions/update/2/",data:Nr,compID:n.state.compID,fromPage:"addNewGroup",ageGrpsPrev:Gr,selectedAgeGroup:Pr})})),"editDetails"==n.state.fromPage&&Q.a.post(V+"api/cmp/updateCmp/",{CompetitionData:{competitionName:n.state.compName,competitionInfo:Nr[0].info,startDate:Nr[0].start,endDate:Nr[0].end,testDuration:Nr[0].time,competitionType:{codeName:Nr[0].type}},CompetitionID:n.state.compID,bonus:Nr[0].bonus,agedata:{ageid:Pr.AgeGroupID,agename:Pr.AgeGroupName}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"-"===Nr[0].info&&(Nr[0].info=""),1==n.state.compStarted?n.props.history.push("/app/competition"):n.props.history.push({pathname:"/app/competitions/edit/2/",data:Nr,ageGrpsPrev:Gr,selectedAgeGroup:Pr,compID:n.state.compID,fromPage:"editDetails"})}))}catch(o){n.setState({openError:!0})}}},n.validateRange=function(){if(n.state.startDate.getFullYear()>n.state.endDate.getFullYear())return"error";if(n.state.startDate.getFullYear()==n.state.endDate.getFullYear()){if(n.state.startDate.getMonth()>n.state.endDate.getMonth())return"error";if(n.state.startDate.getMonth()==n.state.endDate.getMonth()&&n.state.startDate.getDate()>n.state.endDate.getDate())return"error"}},n.handleChangeName=function(e){""==e?document.getElementById("err").style.display="block":(document.getElementById("err").style.display="none",Nr[0].name=e)},n.handleChangeInfo=function(e){Nr[0].info=e},n.handleChangeAges=function(e,t){Nr[0].ageGroup=t,""==Nr[0].ageGroup?document.getElementById("errAgeGroups").style.display="block":document.getElementById("errAgeGroups").style.display="none";for(var a=0;a<qr.length;a++){if("addNewGroup"==n.state.fromPage)for(var o=0;o<zr.length;o++)t==zr[o].AgeGroupName&&(Pr=zr[o]);if("editDetails"==n.state.fromPage)for(var r=0;r<Gr.length;r++)if(t==Gr[r].AgeGroupName){Pr=Gr[r],n.setState({bonus:Gr[r].bonus}),Nr[0].bonus=Gr[r].bonus,document.getElementById("errMarks").style.display="none";break}}},n.handleBack=function(){var e=[{competitionID:n.state.compID,competitionInfo:Nr[0].info,competitionName:Nr[0].name,competitionType:{codeName:Nr[0].type},endDate:Nr[0].end,startDate:Nr[0].start,testDuration:Nr[0].time+":00"}];n.props.history.push({pathname:"/app/competitions/info",data:e[0]})},n.state={startDate:new Date,endDate:new Date,compID:"",time:"",ages:[],compType:"",edit:!1,fromPage:"",bonus:"",cmpTypes:[],duration:"00",durationMins:"00",openprogress:!1,compStarted:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u,m,h,g=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openprogress:!0}),e.prev=1,e.next=4,Q.a.get(V+"api/com/getCmpTypes/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 4:for(t=e.sent,a=[],n=0;n<t.data.length;n++)a.push(t.data[n].codeName);if(this.setState({cmpTypes:a}),"addNewGroup"!=this.props.location.fromPage){e.next=32;break}return this.setState({fromPage:this.props.location.fromPage,edit:!0}),o=this.props.location.prevAges,e.next=13,Q.a.get(V+"api/cmp/viewAgeGroup/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 13:r=e.sent,zr=r.data,l=0;case 16:if(!(l<o.length)){e.next=28;break}s=0;case 18:if(!(s<zr.length)){e.next=25;break}if(zr[s].AgeGroupID!=o[l].AgeGroupID){e.next=22;break}return zr.splice(s,1),e.abrupt("break",25);case 22:s++,e.next=18;break;case 25:l++,e.next=16;break;case 28:for(i=[],c=0;c<zr.length;c++)i.push(zr[c].AgeGroupName);qr=i,this.setState({ages:i});case 32:if("editDetails"==this.props.location.fromPage){for(this.setState({fromPage:this.props.location.fromPage,edit:!1}),Gr=this.props.location.prevAges,d=[],p=0;p<Gr.length;p++)d.push(Gr[p].AgeGroupName);qr=d,this.setState({ages:d})}void 0!=this.props.location.data&&(Nr[0].name=this.props.location.compName,Nr[0].info=this.props.location.data[4].detail,Nr[0].type=this.props.location.data[0].detail,Nr[0].time=this.props.location.data[3].detail,Nr[0].hh=Nr[0].time.substring(0,2),Nr[0].mm=Nr[0].time.substring(3),Nr[0].start=this.props.location.data[1].detail,Nr[0].end=this.props.location.data[2].detail,u=new Date,m=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate()+" "+u.getHours()+":"+u.getMinutes()+":"+u.getSeconds(),h=new Date(Nr[0].start),new Date(m)>=h&&"Main Challenge"==Nr[0].type&&this.setState({compStarted:!0}),"true"===localStorage.getItem("addedNewGrp")&&(Nr[0].ageGroup=this.props.location.data[0].detail,Nr[0].bonus=this.props.location.data[5].detail,localStorage.removeItem("addedNewGrp")),this.setState({compID:this.props.location.compID,compType:Nr[0].type,time:Nr[0].time,startDate:new Date(Nr[0].start),endDate:new Date(Nr[0].end),duration:Nr[0].hh,durationMins:Nr[0].mm,bonus:Nr[0].bonus})),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(1),this.props.history.push("/app/dashboard");case 39:this.setState({openprogress:!1});case 40:case"end":return e.stop()}}),e,this,[[1,36]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return Rr=Nr[0].ageGroup,void 0!=this.props.location.data&&(Nr[0].time=this.props.location.data[3].detail),o.a.createElement(mt,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),this.state.onClickAge?o.a.createElement(y.a,{to:"/app/competitions/addGroups"}):null,o.a.createElement("main",{className:t.layout},o.a.createElement(Ze.a,{className:t.paper},o.a.createElement(O.a,{variant:"h5",align:"center"},"Competition Details"),o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{multiline:!0,disabled:this.state.edit,required:!0,id:"compName",label:"Competition Name",onChange:function(t){return e.handleChangeName(t.target.value)},fullWidth:!0,defaultValue:Nr[0].name,InputLabelProps:{shrink:!0}}),o.a.createElement(at.a,{id:"err",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")))),o.a.createElement("div",{style:{padding:20}},o.a.createElement(Rt.a,{container:!0,justify:"space-around"},o.a.createElement(Rt.a,{item:!0,xs:6},"Start date:"," ",o.a.createElement(mr.a,{onChange:function(t){return e.setState({startDate:t})},value:this.state.startDate,disabled:this.state.edit})),o.a.createElement(Rt.a,{item:!0,xs:6},"End date:"," ",o.a.createElement(mr.a,{value:this.state.endDate,disabled:this.state.edit,onChange:function(t){return e.setState({endDate:t})}}))),o.a.createElement(at.a,{id:"err2",style:{color:"red",alignItems:"center",display:"none"}},"Enter valid date range*")),o.a.createElement("div",{style:{padding:20}},o.a.createElement(Rt.a,{container:!0,spacing:3,justify:"space-around"},o.a.createElement(Rt.a,{item:!0,align:"right",xs:6},o.a.createElement(Ft.a,{id:"demo-simple-select-label"},"Competition type"),o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"180px"},value:this.state.compType,disabled:this.state.edit,onChange:this.handleChange},this.state.cmpTypes.map((function(e){return o.a.createElement(T.a,{value:e},e)}))),o.a.createElement(at.a,{id:"errType",align:"right",xs:6,style:{color:"red",display:"none"}},"Select Type")),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(Ft.a,{id:"demo-simple-select-label"},"Duration (hh:mm)"),o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.duration,onChange:this.handleChangeDuration},o.a.createElement(T.a,{value:"00"},"00"),Br.map((function(e){return o.a.createElement(T.a,{value:e},e)}))),o.a.createElement("b",null,":"),"\xa0\xa0",o.a.createElement(ka.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.durationMins,onChange:this.handleChangeDurationMins},o.a.createElement(T.a,{value:"00"},"00"),jr.map((function(e){return o.a.createElement(T.a,{value:e},e)})))))),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:8},o.a.createElement(wa.a,{id:"autoMul",options:this.state.ages,getOptionLabel:function(e){return e},onChange:this.handleChangeAges,defaultValue:Rr,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"ageGroups",label:"Age Groups",placeholder:"Select Age Group To Edit",fullWidth:!0}))}}),o.a.createElement(at.a,{id:"errAgeGroups",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:4},o.a.createElement(ae.a,{title:"Default Marks that'll be added for all Students",arrow:!0},o.a.createElement(et.a,{id:"bonusMarks",label:"Bonus Marks",onChange:function(t){return e.handleChangeBonus(t.target.value)},value:this.state.bonus,fullWidth:!0})),o.a.createElement(at.a,{id:"errMarks",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))),o.a.createElement("br",null),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{multiline:!0,disabled:this.state.edit,id:"compDesc",label:"Additional Information (if any)",onChange:function(t){return e.handleChangeInfo(t.target.value)},fullWidth:!0,InputLabelProps:{shrink:!0},defaultValue:Nr[0].info}))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.buttons},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleUpdate,className:t.button},"editDetails"==this.state.fromPage?this.state.compStarted?o.a.createElement(o.a.Fragment,null,"Save"):o.a.createElement(o.a.Fragment,null,"Next"):o.a.createElement(o.a.Fragment,null,"Add "))))))),o.a.createElement(Do.a,{className:t.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(o.a.PureComponent),Mr=Object(Qe.a)((function(e){return{appBar:{position:"relative"},layout:Object(E.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{marginLeft:"160px",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{width:"800px",marginTop:e.spacing(6),marginLeft:"10%",marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(_r),Fr=a(681),Ur=a.n(Fr),Qr=a(1306),Vr=a(1317),Wr=a(679),Hr=a.n(Wr),Kr=a(680),Yr=a.n(Kr),Xr=a(142),Jr=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={ageGrpID:0,compID:0},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.props.ageID,a=this.props.compID,this.state.ageGrpID==t){e.next=9;break}return e.next=6,Q.a.get(V+"api/cmp/getStateWiseMean/"+this.props.ageID+"&"+this.props.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}});case 6:n=e.sent,o=n.data,this.setState({ageGrpID:t,compID:a,data:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(mt,null,o.a.createElement(Xr.e,{width:"95%",height:400},o.a.createElement(Xr.b,{width:600,height:300,data:this.state.data,barCategoryGap:10,margin:{top:5,right:30,left:20,bottom:5}},o.a.createElement(Xr.c,{strokeDasharray:"3 3"}),o.a.createElement(Xr.g,{dataKey:"state"}),o.a.createElement(Xr.h,null),o.a.createElement(Xr.f,null),o.a.createElement(Xr.d,null),o.a.createElement(Xr.a,{dataKey:"MeanMarks",fill:"#8884d8"}))))}}]),a}(n.PureComponent),Zr="",$r=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={ageGrpID:0,compID:0,stateMarks:[]},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.props.ageID,a=this.props.compID,t==this.state.ageGrpID){e.next=5;break}return e.delegateYield(Me.a.mark((function e(){var o,r,l,s;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getStateWiseMean/"+n.props.ageID+"&"+n.props.compID+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}});case 2:for(o=e.sent,r=o.data,n.setState({ageGrpID:t,compID:a}),l=function(e){0==e?Zr=r[0].state:Zr+=", "+r[e].state,n.setState((function(t){return{stateMarks:[].concat(Object(Pt.a)(t.stateMarks),[{state:r[e].state,meanMarks:Math.round(100*(r[e].MeanMarks+Number.EPSILON))/100}])}}))},s=0;s<r.length;s++)l(s);case 7:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(0),this.props.history.push("/app/dashboard");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(mt,null,o.a.createElement("p",{style:{fontSize:"20px"}},"The states that participated in this competition are ",Zr,".",o.a.createElement("br",null),"According to the results of students from the above states, the mean score obtained of the students per state are as follows:",o.a.createElement("br",null),o.a.createElement("ul",null,this.state.stateMarks.map((function(e){return o.a.createElement("li",null,e.state," has a mean score of ",e.meanMarks,o.a.createElement("br",null))})))))}}]),a}(n.PureComponent),el=[{name:"studentName",label:"Student Name",options:{filter:!0,sort:!0}},{name:"className",label:"Class",options:{filter:!0,sort:!1}},{name:"schoolName",label:"School",options:{filter:!0,sort:!1}},{name:"state",label:"State",options:{filter:!0,sort:!0}},{name:"bonus",label:"Bonus",options:{filter:!0,sort:!0}},{name:"total",label:"Total",options:{filter:!0,sort:!0}}],tl=Object(Qe.a)({root:{"&$selected":{color:"#3F51B5"}},selected:{}})(ye.a),al=[],nl=[{name:"",start:"",end:"",info:"",type:"",time:""}],ol=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleListItemClick=function(e,t,a,o){n.setState({selectedIndex:t,value:0});for(var r="",l=0;l<rr.length;l++)rr[l].AgeGroupName.includes(a)&&rr[l].AgeGroupName.includes(o)&&(r=rr[l].AgeGroupID);n.setState({name:a,language:o,ageGrpID:r}),n.getClasses(a,o,n.state.compID,r)},n.setChallengeData=function(e,t){for(var a=[],o=0,r=0;r<al.length;r++){for(var l=0;l<al[r].lang.length;l++)if(al[r].name==e&&al[r].lang[l]==t){a.push({name:"Name :",detail:e}),a.push({name:"Language  :",detail:t}),o=1,al[r].info=a,n.setState({challengeInfo:a});break}if(1==o)break}},n.handleChange=function(e,t){n.setState({value:t})},n.handleAlignmentR=function(e,t){n.setState({alignmentR:t})},n.handleBack=function(){var e=[{competitionID:n.state.compID,competitionInfo:nl[0].info,competitionName:nl[0].name,competitionType:{codeName:nl[0].type},endDate:nl[0].end,startDate:nl[0].start,testDuration:nl[0].time+":00"}];n.props.history.push({pathname:"/app/competitions/info",data:e[0]})},n.state={value:0,ageGroups:[],name:"",language:"",time:"",studentResult:[],challengeInfo:[],classes:"",totalCount:0,alignmentR:"text",compID:"",ageGrpID:""},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{if(void 0!=this.props.location){for(t=this.props.location.ageGroupName,a=this.props.location.language,n=this.props.location.ageGroupList,o="",r=this.props.location.compID,nl[0].name=this.props.location.compName,nl[0].info=this.props.location.data[4].detail,nl[0].type=this.props.location.data[0].detail,nl[0].time=this.props.location.data[3].detail,nl[0].start=this.props.location.data[1].detail,nl[0].end=this.props.location.data[2].detail,l=0,s=0;s<n.length;s++)l+=n[s].lang.length,al.push({name:n[s].name,lang:n[s].lang,info:[]});for(i=0;i<rr.length;i++)rr[i].AgeGroupName.includes(t)&&rr[i].AgeGroupName.includes(a)&&(o=rr[i].AgeGroupID);this.getClasses(t,a,r,o),this.setState({ageGroups:n,totalCount:l,compID:r,ageGrpID:o})}}catch(c){this.props.history.push("/app/dashboard")}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getClasses",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a,n,o){var r,l,s,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getStudentsAgeGrpWise/"+o+"&"+n+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){}));case 2:for(r=e.sent,l=r.data,s=[],i=0;i<l.length;i++)s.push({studentName:l[i].userID.username,className:l[i].schoolClassID.classNumber,schoolName:l[i].schoolClassID.schoolID.schoolName,state:l[i].schoolClassID.schoolID.addressID.stateID.name,bonus:l[i].bonusMarks,total:l[i].score+l[i].bonusMarks});this.setState({name:t,language:a,studentResult:s}),this.setChallengeData(t,a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,o){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{color:"primary",variant:"contained",style:{marginBottom:"15px"},onClick:this.handleBack},o.a.createElement(Tn.a,null)," Back "),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,bgcolor:"background.paper"},o.a.createElement($e.a,{display:"flex",flexGrow:1,flexDirection:"column",bgcolor:"background.paper"},o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"#2196f3"},o.a.createElement(O.a,{variant:"h6",style:{color:"white"},gutterBottom:!0,align:"center"},this.state.name," - ",this.state.language," group")),o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"background.paper"},o.a.createElement(Rt.a,{container:!0},this.state.challengeInfo.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:3},o.a.createElement(O.a,{paddingRight:"10px",align:"center",gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:3},o.a.createElement(O.a,{gutterBottom:!0},e.detail)))}))),o.a.createElement("br",null)),o.a.createElement($e.a,{p:1,flexGrow:1,m:1,bgcolor:"background.paper"},o.a.createElement(x.a,{position:"static",color:"white"},o.a.createElement(wn.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},o.a.createElement(On.a,Object.assign({label:"Results"},ll(0))),o.a.createElement(On.a,Object.assign({label:"Analytics"},ll(1))))),o.a.createElement(rl,{value:this.state.value,index:0},o.a.createElement(Zt.a,{data:this.state.studentResult,columns:el,options:{filterType:"checkbox",selectableRows:!1,viewColumns:!1,print:!1,download:!1}})),o.a.createElement(rl,{value:this.state.value,index:1},o.a.createElement(Vr.a,{value:this.state.alignmentR,exclusive:!0,onChange:this.handleAlignmentR,style:{marginLeft:"86%"},size:"large"},o.a.createElement(Qr.a,{value:"text"},o.a.createElement(Hr.a,null)),o.a.createElement(Qr.a,{value:"graph"},o.a.createElement(Yr.a,null))),o.a.createElement("br",null),o.a.createElement("br",null),"text"==this.state.alignmentR?o.a.createElement($r,{ageID:this.state.ageGrpID,compID:this.state.compID}):o.a.createElement(Jr,{ageID:this.state.ageGrpID,compID:this.state.compID})))),o.a.createElement($e.a,{display:"flex",flexDirection:"column",p:1,m:1,bgcolor:"grey.100",css:{minWidth:"20%"}},o.a.createElement(oe.a,{component:"nav","aria-label":"main mailbox folders"},this.state.ageGroups.map((function(t,a){var n=t.name,r=t.lang;return o.a.createElement("div",null,o.a.createElement(tl,{key:a},o.a.createElement(Ee.a,null,o.a.createElement(Ur.a,null)),o.a.createElement(ve.a,{primary:n})),r.map((function(t,r){return o.a.createElement(tl,{key:r,button:!0,selected:e.state.language===t&&e.state.name===n,onClick:function(o){return e.handleListItemClick(o,a+r,n,t)}},o.a.createElement(ve.a,{primary:t}))})))}))))))}}]),a}(o.a.PureComponent);function rl(e){var t=e.children,a=e.value,n=e.index,r=Object(g.a)(e,["children","value","index"]);return o.a.createElement(O.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&o.a.createElement($e.a,{p:3},t))}function ll(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var sl=a(576),il=sl.sign({resource:{dashboard:1},params:{}},H),cl=W+"/embed/dashboard/"+il+"#bordered=true&titled=true",dl={resource:{dashboard:99},params:{}},pl=sl.sign(dl,H),ul=W+"/embed/dashboard/"+pl+"#bordered=true&titled=true",ml=(dl={resource:{dashboard:33},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),hl=(dl={resource:{dashboard:98},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),gl=(dl={resource:{dashboard:97},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),fl=(dl={resource:{dashboard:101},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),yl=(dl={resource:{dashboard:66},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),El=(dl={resource:{dashboard:65},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),vl=(dl={resource:{dashboard:34},params:{}},pl=sl.sign(dl,H),W+"/embed/dashboard/"+pl+"#bordered=true&titled=true"),bl=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={liveTitle:"",cmp:""},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,r,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getCompetition/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){return o.a.createElement(y.a,{to:"/app/dashboard"})}));case 2:for(t=e.sent,a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),r=new Date(n),l=0;l<t.data.length;l++)r>=new Date(t.data[l].startDate.replace(/T|Z/g," "))&&r<new Date(t.data[l].endDate.replace(/T|Z/g," "))&&(this.setState({liveTitle:t.data[l].competitionName+" Live Analysis"}),document.getElementById("Live").style.display="block",this.setState({cmp:this.state.cmp+","+t.data[l].competitionID+":"+t.data[l].competitionName}));console.log("");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(mt,null,o.a.createElement(Je,{title:"Analysis"}),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"4%"}},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"15%"}},o.a.createElement(ae.a,{title:"Analytics of Admins, Students, School Coordinators",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:cl+"*Users"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#90CAF9"}},o.a.createElement("b",null,"Users"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of various Schools",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:vl+"*Schools"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#90CAF9"}},o.a.createElement("b",null,"Schools"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of various Questions",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:ul+"*Questions"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#90CAF9"}},o.a.createElement("b",null,"Questions"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of various Competitions",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:ml+"*Competitions"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#90CAF9"}},o.a.createElement("b",null,"Competitions")))))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-1%"}},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"15%"}},o.a.createElement(ae.a,{title:"Analytics of various States",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:El+"*States"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#BBDEFB"}},o.a.createElement("b",null,"States"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of various Districts",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:yl+"*Districts"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#BBDEFB"}},o.a.createElement("b",null,"Districts"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of School Types (Private, Govt.)",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:gl+"*School Types"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#BBDEFB"}},o.a.createElement("b",null,"School Types"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-20px"}},o.a.createElement(ae.a,{title:"Analytics of School Groups (Khed etc.)",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:hl+"*School Groups"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"200px",height:"210%",backgroundColor:"#BBDEFB"}},o.a.createElement("b",null,"School Groups")))))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-1%"}},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"15.25%"}},o.a.createElement(ae.a,{title:"Analytics of Total Responses, Correct/Incorrect Responses, Time Taken ",arrow:!0},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:fl+"*Results"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",id:"totalResp",style:{width:"400px",height:"210%",backgroundColor:"#E3F2FD"}},o.a.createElement("b",null,"Results"))))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-17px"}},o.a.createElement(ae.a,{title:"Textual Analytics of Toppers",arrow:!0},o.a.createElement(f.b,{to:"/app/toppers",style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{variant:"contained",style:{width:"400px",height:"210%",backgroundColor:"#E3F2FD"}},o.a.createElement("b",null,"Toppers")))))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-1%"}},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"15.5%"}},o.a.createElement(f.b,{to:{pathname:"/app/analysisRedirect",data:this.state.cmp+"*Live Analysis"},style:{textDecoration:"none",color:"black"}},o.a.createElement(Re.a,{id:"Live",variant:"contained",style:{width:"800px",height:"210%",backgroundColor:"#E3F2FD",display:"none"}},o.a.createElement("b",null,"Live Analysis"))))))}}]),a}(n.Component),Sl=a(576),Cl=[],Il="",Dl=[],xl="",kl=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={src:"",title:"",agevalue:"",cmpvalue:""},n.handleCompetitionChange=function(e){n.setState({cmpvalue:e}),xl=e,n.fetchAge()},n.handleAgeChange=function(e){n.setState({agevalue:e});var t={resource:{dashboard:100},params:{age_group:(Il=e).label,competition:xl.label}},a=Sl.sign(t,H),o=W+"/embed/dashboard/"+a+"#bordered=true&titled=true";n.setState({src:o}),document.getElementById("progress").style.display="block",n.sleep(2e3).then((function(){document.getElementById("Iframe").style.display="block",document.getElementById("Iframe").onload=function(){document.getElementById("progress").style.display="none"}}))},console.log(n.props.location.data),n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Il="",xl="";try{if(this.setState({src:this.props.location.data.split("*")[0],title:this.props.location.data.split("*")[1]}),"Live Analysis"!=this.props.location.data.split("*")[1]&&(document.getElementById("progress").style.display="block",document.getElementById("Iframe").onload=function(){document.getElementById("progress").style.display="none"}),"Live Analysis"==this.props.location.data.split("*")[1])for(document.getElementById("Iframe").style.display="none",document.getElementById("LiveCmp").style.display="block",document.getElementById("LiveAge").style.display="block",t=this.props.location.data.split("*")[0],a=t.split(","),Dl.length=0,n=0;n<a.length;n++)""!=a[n]&&Dl.push({value:a[n].split(":")[0],label:a[n].split(":")[1]})}catch(o){this.props.history.push("/app/analysisPage")}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"fetchAge",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xl.value,Cl.length=0,e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getAgeCmpWise/"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:for(a=e.sent,n=0;n<a.data.AgeGrp.length;n++)Cl.push({value:a.data.AgeGrp[n].AgeGroupID,label:a.data.AgeGrp[n].AgeGroupName});e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.props.history.push("/app/analysisPage");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement($e.a,{flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"-2%"}},o.a.createElement(f.b,{to:"/app/analysisPage",style:{textDecoration:"none"}},o.a.createElement(Re.a,{id:"back",variant:"contained",color:"primary",startIcon:o.a.createElement(Tn.a,null)},"BACK"))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"45%",marginTop:"-6%"}},o.a.createElement(Je,{title:this.state.title}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row"},o.a.createElement($e.a,{id:"LiveCmp",p:1,m:1,style:{marginLeft:"30%",width:"25%",display:"none"}},o.a.createElement(dt.a,{value:xl,onChange:this.handleCompetitionChange,options:Dl,placeholder:"Select Competition.."})),o.a.createElement($e.a,{id:"LiveAge",p:1,m:1,style:{width:"25%",display:"none"}},o.a.createElement(dt.a,{value:Il,onChange:this.handleAgeChange,options:Cl,placeholder:"Select Age Group.."}))),o.a.createElement("div",{id:"progress",style:{display:"none"}},o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary",marginLeft:"50%",marginTop:"20%"}})),o.a.createElement("iframe",{id:"Iframe",src:this.state.src,frameborder:"0",width:"100%",height:"200%",allowtransparency:!0}))}}]),a}(n.Component);function wl(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var Ol,Al=[],Tl="",Ll=[],Nl=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={error_groupname:!1,groupname:"",error_class:!1,error_lang:!1,selectedOption:null,selectedLang:null,openS1:!1,openS2:!1},e.handleCloseS1=function(t,a){"clickaway"!==a&&e.setState({openS1:!1})},e.handleCloseS2=function(t,a){"clickaway"!==a&&e.setState({openS2:!1})},e.handleGroupNameChange=function(t){e.setState({groupname:t,error_groupname:!1})},e.handleChange=function(t){e.setState({selectedOption:t,error_class:!1})},e.handleChangeLang=function(t){e.setState({selectedLang:t,error_lang:!1})},e.onSubmit=function(){if(""==e.state.groupname&&e.setState({error_groupname:!0}),null==e.state.selectedLang)e.setState({error_lang:!0});else{if(null==e.state.selectedOption)return void e.setState({error_class:!0});0==e.state.error_groupname&&0==e.state.error_class&&0==e.state.error_lang&&(Tl=e.state.groupname+"-"+e.state.selectedLang.value,e.fetchData())}},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getLanguage/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openS2:!0})}));case 3:for(t=e.sent,Al.length=0,a=0;a<t.data.length;a++)n=t.data[a].codeName,Al.push({value:n,label:n});return e.next=8,Q.a.get(V+"api/com/getClasses/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openS2:!0})}));case 8:for(o=e.sent,Ll.length=0,r=0;r<o.data.length;r++)l=o.data[r].classNo,Ll.push({value:l,label:l});e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.state.selectedOption.length)){e.next=7;break}return e.next=4,Q.a.post(V+"api/cmp/insertAgeGroups/",{AgeGroupID:{AgeGroupName:Tl},ClassID:{classNo:this.state.selectedOption[t].value}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){a.setState({openS1:!0}),setTimeout((function(){a.props.history.push("/app/dashboard")}),2e3)})).catch((function(e){a.setState({openS2:!0})}));case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Je,{title:"New Group"}),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(wl,{onClose:this.handleCloseS1,severity:"success"},"Age Group Added Successfully!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(wl,{onClose:this.handleCloseS2,severity:"error"},"Error Occurred!")),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",margin:"80px"}},o.a.createElement("div",null,o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Group Name")),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:"outlined-textarea",label:this.state.error_groupname?"Enter Group Name":"",helperText:this.state.error_groupname?"Required* ":"",error:this.state.error_groupname,onChange:function(t){return e.handleGroupNameChange(t.target.value)},style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter Group Name",multiline:!0,variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_groupname?o.a.createElement(Ir.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Language")),o.a.createElement($e.a,{p:1,style:{marginLeft:"160px",width:"320px"}},o.a.createElement(dt.a,{style:{color:"red"},value:this.state.selectedLang,onChange:this.handleChangeLang,options:Al,placeholder:"Select Language..."}),this.state.error_lang?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Classes")),o.a.createElement($e.a,{p:1,style:{marginLeft:"180px",width:"320px"}},o.a.createElement(dt.a,{style:{color:"red"},value:this.state.selectedOption,onChange:this.handleChange,options:Ll,placeholder:"Select Classes...",isMulti:!0}),this.state.error_class?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"290px",width:"300px",display:"flex"}},"Add New Group"))))))}}]),a}(o.a.PureComponent),Bl="Select School..",jl="Select Competition..",ql="Select Competition Age Group..",Pl=["Student Name","Login ID","Gender","Class","School Name","City","State",{name:"ID",options:{filter:!1,viewColumns:!1,display:!1}}],Rl=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={studentsList:[],openS1:!1,openS2:!1,countRows:0,pageSize:10,nextLink:"",prevLink:"",openS3:!1,compAgeGrp:[],competitions:[],schools:[],rerender:!1},e.handleCompetitionChange=function(t){e.setState({rerender:!e.state.rerender}),"Select Competition.."!=(jl=t)&&e.fetch(),ql="Select Competition Age Group..",document.getElementById("table").style.display="none"},e.handleSchoolChange=function(t){e.setState({rerender:!e.state.rerender}),"Select School.."!=(Bl=t)&&e.fetchCmp(),jl="Select Competition.."!=jl,ql="Select Competition Age Group..",document.getElementById("table").style.display="none"},e.handleClose=function(t,a){"clickaway"!==a&&e.setState({openS1:!1,openS2:!1,openS3:!1})},e.handleAgeGroupChange=function(t){ql=t,e.fetchStudents()},e}return Object(Ae.a)(a,[{key:"RemoveStatus",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(V+"api/cmp/removeStudents/",{studentList:t},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){a.setState({openS1:!0}),setTimeout((function(){a.props.history.push("/app/dashboard")}),2e3)}));case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({openS2:!0}),!1;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStudents",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=jl.value,e.prev=1,e.delegateYield(Me.a.mark((function e(){var o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/cmp/getAgeGrpWise/"+t+"&"+ql.value+"&"+Bl.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 2:for(o=e.sent,n.state.studentsList.length=0,a=0;a<o.data.length;a++)999==o.data[a].score&&n.setState((function(e){return{studentsList:[].concat(Object(Pt.a)(e.studentsList),[{username:o.data[a].userID.username,loginID:o.data[a].userID.loginID,gender:o.data[a].userID.gender.codeName,class:o.data[a].schoolClassID.classNumber,schoolName:o.data[a].schoolClassID.schoolID.schoolName,city:o.data[a].schoolClassID.schoolID.addressID.city,state:o.data[a].schoolClassID.schoolID.addressID.stateID.name,id:o.data[a].studentEnrollmentID}])}}));case 5:case"end":return e.stop()}}),e)}))(),"t0",3);case 3:e.next=8;break;case 5:e.prev=5,e.t1=e.catch(1),this.setState({openS2:!0});case 8:0==this.state.studentsList.length?(this.setState({openS3:!0}),!1):document.getElementById("table").style.display="block";case 9:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jl.value,this.state.compAgeGrp.length=0,e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getAgeCmpWise/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:for(t=e.sent,n=0;n<t.data.AgeGrp.length;n++)this.setState((function(e){return{compAgeGrp:[].concat(Object(Pt.a)(e.compAgeGrp),[{value:t.data.AgeGrp[n].AgeGroupID,label:t.data.AgeGrp[n].AgeGroupName}])}}));e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({openS2:!0});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCmp",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getNotStartedCmp/"+Bl.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.state.competitions.length=0,a=0;a<t.data.length;a++)this.setState((function(e){return{competitions:[].concat(Object(Pt.a)(e.competitions),[{value:t.data[a].competitionID,label:t.data[a].competitionName}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openS2:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/com/getSchoolList/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openS2:!0})}));case 2:for(n=e.sent,a.state.schools.length=0,t=0;t<n.data.length;t++)a.setState((function(e){return{schools:[].concat(Object(Pt.a)(e.schools),[{value:n.data[t].schoolID,label:n.data[t].schoolName}])}}));case 5:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.setState({openS2:!0});case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Je,{title:"Remove Participants"}),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{width:"25%",zIndex:"200"}},o.a.createElement(dt.a,{value:Bl,onChange:this.handleSchoolChange,options:this.state.schools,placeholder:"Select School.."})),o.a.createElement($e.a,{p:1,m:1,style:{width:"25%",zIndex:"200"}},o.a.createElement(dt.a,{value:jl,onChange:this.handleCompetitionChange,options:this.state.competitions,placeholder:"Select Competition.."})),o.a.createElement($e.a,{p:1,m:1,style:{width:"25%",zIndex:"200"}},o.a.createElement(dt.a,{value:ql,onChange:this.handleAgeGroupChange,options:this.state.compAgeGrp,placeholder:"Select Competition Age Group.."}))),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:"success"},"Removed Participant(s) Successfully!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:"error"},"Error Occured!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleClose,severity:"warning"},"No students Present!")),o.a.createElement(Rt.a,{container:!0,spacing:4,id:"table",style:{display:"none"}},o.a.createElement(Rt.a,{item:!0,xs:12,style:{zIndex:"0"}},o.a.createElement(Zt.a,{title:"Students  List",data:this.state.studentsList.map((function(e){return[e.username,e.loginID,e.gender,e.class,e.schoolName,e.city,e.state,e.id]})),columns:Pl,options:{print:!1,download:!1,viewColumns:!1,textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}},onRowsDelete:function(t){for(var a=[],n=0;n<t.data.length;n++){var o=t.data[n].index;a.push(o)}var r=[];for(n=0;n<a.length;n++)r.push(e.state.studentsList[a[n]].id);e.RemoveStatus(r)}}}))))}}]),a}(n.Component),Gl=a(107),zl=a.n(Gl),_l=a(109),Ml=a.n(_l),Fl=a(108),Ul=a.n(Fl),Ql=a(110),Vl=a.n(Ql),Wl=a(69),Hl=a.n(Wl),Kl=(a(197),[{schoolName:"",schoolType:"",UDISECode:"",Phone:"",AddressLine1:"",AddressLine2:"",City:"",District:"",State:"",Pincode:"",Country:"",schoolID:"",latitude:"",longitude:"",registeredBy:"",registeredOn:""}]),Yl=[],Xl=[],Jl=[],Zl=[],$l=[],es="",ts=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={readOnly:!0,isHidden:!0,open:!1,post:!1,clicked:!1,openprogress:!1,open_warning:!1,open_error:!1,vertical:"top",horizontal:"center",selectedOption:"",selectedOptionState:"",selectedOptionCountry:"",selectedOptionSchoolType:"",selectedOptionSchoolGroup:"",valued:"",labeld:"",districtList:[],stateList:[],countryList:[],placeholder:Kl[0].District,placeholderState:Kl[0].State,placeholderCountry:Kl[0].Country,placeholderSchoolType:Kl[0].schoolType,placeholderSchoolGroup:Kl[0].schoolGroup,error_schoolname:!1,error_schooltype:!1,error_schoolgroup:!1,error_udisecode:!1,error_phone:!1,error_line1:!1,error_line2:!1,error_country:!1,error_state:!1,error_district:!1,error_city:!1,error_pincode:!1,phone:Kl[0].Phone,oldstate:Kl[0].State},e.handleSchoolNameChange=function(t){e.setState({error_schoolname:!1})},e.handleLine1Change=function(t){e.setState({error_line1:!1})},e.handleLine2Change=function(t){e.setState({error_line2:!1})},e.handleUDISECodeChange=function(t){e.setState({error_udisecode:!1})},e.handlePhoneChange=function(){if(null===e.state.phone||""===e.state.phone)e.setState({phone:""});else{var t=e.state.phone.replace(/\s/g,"");t=t.replace(/-/g,""),e.setState({phone:t}),es=t}},e.handleCityChange=function(t){e.setState({error_city:!1})},e.handlePincodeChange=function(t){e.setState({error_pincode:!1})},e.handleClick=function(){e.setState({open:!0})},e.handleClose=function(t,a){"clickaway"!==a&&e.setState({open:!1})},e.handleToggle=function(){e.setState({openprogress:!0})},e.handleCloseProgress=function(){e.setState({openprogress:!1})},e.handleClickWarning=function(){e.setState({open_warning:!0})},e.handleClickError=function(){e.setState({open_error:!0})},e.handleClose_error=function(t,a){"clickaway"!==a&&e.setState({open_error:!1})},e.handleChange=function(t){e.setState({selectedOption:t,error_district:!1,placeholder:t})},e.handleSchoolTypeChange=function(t){e.setState({selectedOptionSchoolType:t,error_schooltype:!1,placeholderSchoolType:t})},e.handleSchoolGroupChange=function(t){e.setState({selectedOptionSchoolGroup:t,error_schoolgroup:!1,placeholderSchoolGroup:t})},e.onMenuSchoolTypeOpen=function(t){e.setState({placeholderSchoolType:"Select School Type.."})},e.onMenuSchoolGroupOpen=function(t){e.setState({placeholderSchoolGroup:"Select School Group.."})},e.onMenuCountryOpen=function(t){e.setState({placeholderCountry:"Select Country.."})},e.onMenuOpen=function(t){if("Select State.."==e.state.selectedOptionState)e.handleClickWarning();else{e.setState({placeholder:"Select District.."}),Yl.length=0;var a=0,n="";if(0!=Xl.length&&null!=(n=e.state.selectedOptionState.toString().length==Kl[0].State.length?e.state.selectedOptionState:e.state.selectedOptionState.value)){Kl[0].State=n;for(var o=0;o<e.state.stateList.length;o++)if(e.state.stateList[o].name.toString().toLowerCase()==n.toString().toLowerCase()){a=e.state.stateList[o].stateID;break}for(var r=0;r<e.state.districtList.length;r++)if(e.state.districtList[r].stateID==a){var l=e.state.districtList[r].name;Yl.push({value:l,label:l})}}}},e.handleChangeState=function(t){e.setState({selectedOptionState:t,open_warning:!1,placeholder:"Select District..",error_state:!1,selectedOption:"Select District..",placeholderState:t})},e.onMenuOpenState=function(t){e.setState({placeholderState:"Select State.."}),Xl.length=0;var a=0,n="";e.state.selectedOptionCountry.toString().length==Kl[0].Country.length?(n=e.state.selectedOptionCountry,Kl[0].Country=e.state.selectedOptionCountry):(n=e.state.selectedOptionCountry.value,Kl[0].Country=e.state.selectedOptionCountry.value);for(var o=0;o<e.state.countryList.length;o++)if(e.state.countryList[o].name.toString().toLowerCase()==n.toString().toLowerCase()){a=e.state.countryList[o].countryID;break}for(var r=0;r<e.state.stateList.length;r++)if(e.state.stateList[r].countryID==a){var l=e.state.stateList[r].name;Xl.push({value:l,label:l})}},e.handleChangeCountry=function(t){e.setState({selectedOptionCountry:t,error_country:!1,placeholderCountry:t}),e.setState({selectedOption:"Select District..",selectedOptionState:"Select State..",placeholder:"Select District..",placeholderState:"Select State.."}),Xl.length=0,Yl.length=0},e.onSubmit=function(){e.handlePhoneChange();var t=!1;""==document.getElementById("SchoolName").value&&(e.setState({error_schoolname:!0}),t=!0),"Select School Type.."==e.state.placeholderSchoolType&&(e.setState({error_schooltype:!0}),t=!0),"Select School Group.."==e.state.placeholderSchoolGroup&&(e.setState({error_schoolgroup:!0}),t=!0),""==document.getElementById("UDISECode").value&&(e.setState({error_udisecode:!0}),t=!0),""==document.getElementById("Line1").value&&(e.setState({error_line1:!0}),t=!0),""==document.getElementById("Line2").value&&(e.setState({error_line2:!0}),t=!0),""==document.getElementById("City").value&&(e.setState({error_city:!0}),t=!0),""==document.getElementById("Pincode").value&&(e.setState({error_pincode:!0}),t=!0),"Select District.."==e.state.placeholder&&(e.setState({error_district:!0}),t=!0),"Select State.."==e.state.placeholderState&&(e.setState({error_state:!0}),t=!0),"Select Country.."==e.state.placeholderCountry&&(e.setState({error_country:!0}),t=!0),t||(Kl[0].schoolName=document.getElementById("SchoolName").value,Kl[0].UDISECode=document.getElementById("UDISECode").value,Kl[0].Phone=es,Kl[0].AddressLine1=document.getElementById("Line1").value,Kl[0].AddressLine2=document.getElementById("Line2").value,Kl[0].City=document.getElementById("City").value,Kl[0].Pincode=document.getElementById("Pincode").value,e.state.placeholder==Kl[0].District?Kl[0].District=e.state.placeholder:Kl[0].District=e.state.placeholder.value,e.state.placeholderSchoolType==Kl[0].schoolType?Kl[0].schoolType=e.state.placeholderSchoolType:Kl[0].schoolType=e.state.placeholderSchoolType.value,e.state.placeholderSchoolGroup==Kl[0].schoolGroup?Kl[0].schoolGroup=e.state.placeholderSchoolGroup:Kl[0].schoolGroup=e.state.placeholderSchoolGroup.value,e.submitData())},e.onCancel=function(){document.getElementById("SchoolName").value=Kl[0].schoolName,document.getElementById("UDISECode").value=Kl[0].UDISECode,document.getElementById("Line1").value=Kl[0].AddressLine1,document.getElementById("Line2").value=Kl[0].AddressLine2,document.getElementById("City").value=Kl[0].City,document.getElementById("Pincode").value=Kl[0].Pincode,e.setState({phone:Kl[0].Phone}),e.setState({placeholder:Kl[0].District}),e.setState({placeholderState:e.state.oldstate}),e.setState({placeholderCountry:Kl[0].Country}),e.setState({placeholderSchoolType:Kl[0].schoolType}),e.setState({placeholderSchoolGroup:Kl[0].schoolGroup}),e.setState({selectedOption:Kl[0].District}),e.setState({selectedOptionState:e.state.oldstate}),e.setState({selectedOptionCountry:Kl[0].Country}),e.setState({selectedOptionSchoolType:Kl[0].schoolType}),e.setState({selectedOptionSchoolGroup:Kl[0].schoolGroup}),e.setState({readOnly:!0,clicked:!1,isHidden:!0})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getDistrict/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.setState({districtList:t.data,selectedOption:Kl[0].District}),'"'+this.state.selectedOption+'"',Yl.length=0,Xl.length=0,Jl.length=0,a=0;a<this.state.districtList.length;a++)n=this.state.districtList[a].name,-1===Yl.indexOf("x")&&Yl.push({value:n,label:n});e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 15:return e.prev=15,e.next=18,Q.a.get(V+"api/com/getState/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 18:for(o=e.sent,this.setState({stateList:o.data,selectedOptionState:Kl[0].State}),r=0;r<this.state.stateList.length;r++)l=this.state.stateList[r].name,Xl.push({value:l,label:l});e.next=26;break;case 23:e.prev=23,e.t1=e.catch(15),this.props.history.push("/app/dashboard");case 26:return e.prev=26,e.next=29,Q.a.get(V+"api/com/getCountry/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 29:for(s=e.sent,this.setState({countryList:s.data,selectedOptionCountry:Kl[0].Country}),i=0;i<this.state.countryList.length;i++)c=this.state.countryList[i].nicename,Jl.push({value:c,label:c});e.next=37;break;case 34:e.prev=34,e.t2=e.catch(26),this.props.history.push("/app/dashboard");case 37:return Zl.length=0,e.prev=38,e.next=41,Q.a.get(V+"api/com/getSchoolTypes/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 41:for(d=e.sent,this.setState({selectedOptionSchoolType:Kl[0].schoolType}),p=0;p<d.data.data.length;p++)Zl.push({value:d.data.data[p].codeName,label:d.data.data[p].codeName});e.next=49;break;case 46:e.prev=46,e.t3=e.catch(38),this.props.history.push("/app/dashboard");case 49:return $l.length=0,e.prev=50,e.next=53,Q.a.get(V+"api/com/getSchoolGroups/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 53:for(u=e.sent,this.setState({selectedOptionSchoolGroup:Kl[0].schoolGroup}),p=0;p<u.data.data.length;p++)$l.push({value:u.data.data[p].codeName,label:u.data.data[p].codeName});e.next=61;break;case 58:e.prev=58,e.t4=e.catch(50),this.props.history.push("/app/dashboard");case 61:""===Kl[0].schoolName&&this.props.history.push("/app/dashboard");case 62:case"end":return e.stop()}}),e,this,[[0,12],[15,23],[26,34],[38,46],[50,58]])})));return function(){return e.apply(this,arguments)}}()},{key:"submitData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleToggle(),Kl[0].Phone.includes("+")||(Kl[0].Phone="+"+Kl[0].Phone),e.next=4,Q.a.post(V+"api/com/updateSchools/"+Kl[0].schoolID+"/",{schoolName:Kl[0].schoolName,schoolTypeCodeID:{codeName:Kl[0].schoolType},schoolGroupID:{codeName:Kl[0].schoolGroup},UDISEcode:Kl[0].UDISECode,phone:Kl[0].Phone,modified_by:localStorage.getItem("username"),addressID:{line1:Kl[0].AddressLine1,line2:Kl[0].AddressLine2,city:Kl[0].City,districtID:{name:Kl[0].District},stateID:{name:Kl[0].State},countryID:{nicename:Kl[0].Country},pincode:Kl[0].Pincode}},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){t.handleCloseProgress(),t.state.error_state||t.state.error_country||t.state.error_district||t.handleClick(),t.setState({readOnly:!0,clicked:!1,isHidden:!0})})).catch((function(e){t.handleCloseProgress(),t.handleClickError()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.readOnly,a=this.props.classes,n={control:function(e){return Object(c.a)(Object(c.a)({},e),{},{height:"56px",backgroundColor:"white"})}};return o.a.createElement("div",null,o.a.createElement(Je,{title:"School Details"}),o.a.createElement(ht.a,{variant:"extended",style:{marginLeft:"900px",marginTop:"-4%"},color:"primary",onClick:function(a){e.setState({readOnly:!t,isHidden:!1,clicked:!0})},disabled:this.state.clicked},o.a.createElement(ft.a,null),"EDIT"),o.a.createElement(D.a,{open:this.state.open_warning,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose_warning},o.a.createElement(j.a,{onClose:this.handleClose_warning,variant:"filled",severity:"warning"},o.a.createElement("b",null,"Select State First!"))),o.a.createElement(D.a,{open:this.state.open_error,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose_error},o.a.createElement(j.a,{onClose:this.handleClose_error,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement(D.a,{open:this.state.open,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose},o.a.createElement(j.a,{onClose:this.handleClose,variant:"filled",severity:"success"},o.a.createElement("b",null,"Saved Changes Successfully!"))),o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")),o.a.createElement(qe.a,{style:{width:"1000px",marginLeft:"5%"}},o.a.createElement(Pe.a,null,o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1},o.a.createElement(et.a,{id:"SchoolName",disabled:t,label:this.state.error_schoolname?"Enter school name":"School Name",helperText:this.state.error_schoolname?"Required* ":"",error:this.state.error_schoolname,onChange:function(t){return e.handleSchoolNameChange(t.target.value)},defaultValue:Kl[0].schoolName,variant:"outlined",style:{width:"250px"},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_schoolname?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{style:{marginLeft:"10px",width:"260px",marginTop:"-20px",zIndex:"200"},p:1},"School Type",o.a.createElement(dt.a,{id:"schoolType",value:this.state.selectedOptionSchoolType,onChange:this.handleSchoolTypeChange,onMenuOpen:this.onMenuSchoolTypeOpen,label:"School Type",options:Zl,placeholder:this.state.placeholderSchoolType,variant:"outlined",styles:n,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_schooltype?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""),o.a.createElement($e.a,{style:{marginLeft:"10px",width:"260px",marginTop:"-20px",zIndex:"200"},p:1},"School Group",o.a.createElement(dt.a,{id:"SchoolGroup",value:this.state.selectedOptionSchoolGroup,onChange:this.handleSchoolGroupChange,onMenuOpen:this.onMenuSchoolGroupOpen,label:"School Group",options:$l,placeholder:this.state.placeholderSchoolGroup,variant:"outlined",styles:n,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_schoolgroup?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,null,o.a.createElement(et.a,{id:"UDISECode",disabled:t,label:this.state.error_udisecode?"Enter UDISE Code":"UDISE Code",helperText:this.state.error_udisecode?"Required* ":"",error:this.state.error_udisecode,onChange:function(t){return e.handleUDISECodeChange(t.target.value)},variant:"outlined",defaultValue:Kl[0].UDISECode,style:{marginLeft:"10px",width:"380px"},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_udisecode?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,null,o.a.createElement(ut.a,{id:"Phone",containerStyle:{marginLeft:"20px",height:"54px",width:"125%"},value:this.state.phone,country:"in",disabled:t,inputStyle:{height:"54px",width:"125%"},onChange:function(t){return e.setState({phone:t,error_phone:!1})}}),this.state.error_phone?o.a.createElement(at.a,{style:{color:"red",marginLeft:"18px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,null,o.a.createElement(et.a,{id:"Line1",disabled:t,label:this.state.error_line1?"Enter Address Line1":"Address Line 1",helperText:this.state.error_line1?"Required* ":"",error:this.state.error_line1,onChange:function(t){return e.handleLine1Change(t.target.value)},variant:"outlined",defaultValue:Kl[0].AddressLine1,style:{marginLeft:"10px",width:"380px"},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_line1?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,null,o.a.createElement(et.a,{id:"Line2",disabled:t,label:this.state.error_line2?"Enter Address Line2":"Address Line 2",helperText:this.state.error_line2?"Required* ":"",error:this.state.error_line2,onChange:function(t){return e.handleLine2Change(t.target.value)},variant:"outlined",defaultValue:Kl[0].AddressLine2,style:{width:"380px",marginLeft:"22px"},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_line2?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{style:{width:"260px",marginTop:"-8px",zIndex:300},p:1},"Country",o.a.createElement(dt.a,{id:"Country",value:this.state.selectedOptionCountry,onChange:this.handleChangeCountry,onMenuOpen:this.onMenuCountryOpen,label:"Country",options:Jl,placeholder:this.state.placeholderCountry,variant:"outlined",styles:n,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_country?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""),o.a.createElement($e.a,{style:{marginLeft:"10px",width:"260px",marginTop:"-8px",zIndex:300},p:1},"State",o.a.createElement(dt.a,{id:"State",label:"State",className:"select",classNamePrefix:"react-select",styles:n,value:this.state.selectedOptionState,onChange:this.handleChangeState,onMenuOpen:this.onMenuOpenState,options:Xl,placeholder:this.state.placeholderState,variant:"outlined",theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},isDisabled:Boolean(t)}),this.state.error_state?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):""),o.a.createElement($e.a,{style:{marginLeft:"10px",width:"260px",marginTop:"-8px",zIndex:300},p:1},"District",o.a.createElement(dt.a,{id:"District",value:this.state.selectedOption,onMenuOpen:this.onMenuOpen,onChange:this.handleChange,label:"District",classNamePrefix:"react-select",options:Yl,placeholder:this.state.placeholder,theme:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{neutral50:t?"#808080":"#1A1A1A"})})},variant:"outlined",styles:n,isDisabled:Boolean(t)}),this.state.error_district?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{style:{width:"250px",marginLeft:"150px"}},o.a.createElement(et.a,{id:"City",disabled:t,label:this.state.error_city?"Enter city":"City",helperText:this.state.error_city?"Required* ":"",error:this.state.error_city,onChange:function(t){return e.handleCityChange(t.target.value)},defaultValue:Kl[0].City,style:{marginLeft:"10px"},variant:"outlined",InputProps:{readOnly:Boolean(t),endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_city?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{style:{width:"250px"}},o.a.createElement(et.a,{id:"Pincode",disabled:t,label:this.state.error_pincode?"Enter pincode":"Pincode",helperText:this.state.error_pincode?"Required* ":"",error:this.state.error_pincode,onChange:function(t){return e.handlePincodeChange(t.target.value)},variant:"outlined",defaultValue:Kl[0].Pincode,style:{marginLeft:"10px"},InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_pincode?o.a.createElement(Ir.a,{style:{color:"red"}}):"")},InputLabelProps:{shrink:!0}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},this.state.isHidden?"":o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"140%",width:"120%",display:"flex"}},"Save Changes")),o.a.createElement($e.a,{p:1,m:1},this.state.isHidden?"":o.a.createElement(Re.a,{onClick:this.onCancel,variant:"contained",color:"textSecondary",style:{marginLeft:"230%",width:"200%",display:"flex"}},"Cancel"))))),o.a.createElement(Do.a,{className:a.backdrop,open:this.state.openprogress,onClick:this.handleCloseProgress},o.a.createElement(Gt.a,{color:"primary"})))}}]),a}(n.Component),as=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(ts),ns=["School Name","School Type","School Group","City","State","UDISE Code",{name:"Address1",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Address2",options:{filter:!1,viewColumns:!1,display:!1}},{name:"District",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Country",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Phone",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Pincode",options:{filter:!1,viewColumns:!1,display:!1}},{name:"SchoolID",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Latitude",options:{filter:!1,viewColumns:!1,display:!1}},{name:"Longitude",options:{filter:!1,viewColumns:!1,display:!1}},{name:"RegisteredBy",options:{filter:!1,viewColumns:!1,display:!1}},{name:"RegisteredOn",options:{filter:!1,viewColumns:!1,display:!1}},{name:"",options:{filter:!1,viewColumns:!1}}],os=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={getValue:[],countRows:0,page:0,pageSize:10,searchValue:"",nextLink:"",prevLink:"",openError:!1,norecords:!1,getValue2:[],countRows2:0},n.handleAlertClose=function(){n.setState({openError:!1,norecords:!1})},n.handleChangeData=function(e){n.getSearchedData(e)},n.enterPressAlert=function(e){13==(e.keyCode?e.keyCode:e.which)&&n.getSearchedData(e.target.value)},n.handleSearchChange=function(e){n.setState({searchValue:e,getValue2:[]})},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/viewSchools/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(Ol=e.sent,t=0;t<Ol.data.results.length;t++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{schoolID:Ol.data.results[t].schoolID,schoolName:Ol.data.results[t].schoolName,schoolTypeCode:Ol.data.results[t].schoolTypeCodeID.codeName,schoolGroup:Ol.data.results[t].schoolGroupID.codeName,city:Ol.data.results[t].addressID.city,state:Ol.data.results[t].addressID.stateID.name,udise:Ol.data.results[t].UDISEcode,address1:Ol.data.results[t].addressID.line1,address2:Ol.data.results[t].addressID.line2,district:Ol.data.results[t].addressID.districtID.name,country:Ol.data.results[t].addressID.countryID.nicename,phone:Ol.data.results[t].phone,pincode:Ol.data.results[t].addressID.pincode,latitude:Ol.data.results[t].addressID.latitude,longitude:Ol.data.results[t].addressID.longitude,registeredBy:Ol.data.results[t].registered_By,registeredOn:Ol.data.results[t].registered_On}])}}));this.setState({countRows:Ol.data.count}),this.setState({pageSize:Ol.data.page_size}),this.setState({nextLink:Ol.data.links.next}),this.setState({prevLink:Ol.data.links.previous}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.state.nextLink){e.next=9;break}return e.next=3,Q.a.get(this.state.nextLink,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({openError:!0})}));case 3:for(Ol=e.sent,a=0;a<Ol.data.results.length;a++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{schoolID:Ol.data.results[a].schoolID,schoolName:Ol.data.results[a].schoolName,schoolTypeCode:Ol.data.results[a].schoolTypeCodeID.codeName,schoolGroup:Ol.data.results[a].schoolGroupID.codeName,city:Ol.data.results[a].addressID.city,state:Ol.data.results[a].addressID.stateID.name,udise:Ol.data.results[a].UDISEcode,address1:Ol.data.results[a].addressID.line1,address2:Ol.data.results[a].addressID.line2,district:Ol.data.results[a].addressID.districtID.name,country:Ol.data.results[a].addressID.countryID.nicename,phone:Ol.data.results[a].phone,pincode:Ol.data.results[a].addressID.pincode,latitude:Ol.data.results[a].addressID.latitude,longitude:Ol.data.results[a].addressID.longitude,registeredBy:Ol.data.results[a].registered_By,registeredOn:Ol.data.results[a].registered_On}])}}));this.setState({countRows:Ol.data.count}),this.setState({pageSize:Ol.data.page_size}),this.setState({nextLink:Ol.data.links.next}),this.setState({prevLink:Ol.data.links.previous});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchedData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(V+"api/com/getSchoolSearches/",{feed:t},{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){n.setState({open_error:!0})}));case 3:for(0==(Ol=e.sent).data.length?(this.setState({norecords:!0}),document.getElementById("SchoolSearch").style.display="none"):document.getElementById("SchoolSearch").style.display="block",a=0;a<Ol.data.length;a++)this.setState((function(e){return{getValue2:[].concat(Object(Pt.a)(e.getValue2),[{schoolID:Ol.data[a].schoolID,schoolName:Ol.data[a].schoolName,schoolTypeCode:Ol.data[a].schoolTypeCodeID.codeName,schoolGroup:Ol.data[a].schoolGroupID.codeName,city:Ol.data[a].addressID.city,state:Ol.data[a].addressID.stateID.name,udise:Ol.data[a].UDISEcode,address1:Ol.data[a].addressID.line1,address2:Ol.data[a].addressID.line2,district:Ol.data[a].addressID.districtID.name,country:Ol.data[a].addressID.countryID.nicename,phone:Ol.data[a].phone,pincode:Ol.data[a].addressID.pincode,latitude:Ol.data[a].addressID.latitude,longitude:Ol.data[a].addressID.longitude,registeredBy:Ol.data[a].registered_By,registeredOn:Ol.data[a].registered_On}])}}));this.setState({countRows2:Ol.data.count,page:0}),this.setState({pageSize:Ol.data.page_size}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.norecords,autoHideDuration:3e3,onClose:this.handleAlertClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"warning"},"No Records found!")),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(Je,{title:"School List"}),o.a.createElement(Rt.a,{item:!0,id:"SchoolList"},o.a.createElement(et.a,{placeholder:"Search",onKeyPress:function(t){return e.enterPressAlert(t)},className:t.root,style:{width:"300px",height:"20px",marginLeft:"30%",marginTop:"-3%",marginBottom:"-10px"},value:this.state.searchValue,onChange:function(t){return e.handleSearchChange(t.target.value)},InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{onClick:function(){return e.handleChangeData(e.state.searchValue)}},o.a.createElement(zt.a,null)))}})),o.a.createElement(Rt.a,{container:!0,spacing:4},""===this.state.searchValue?o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{title:"School List",data:this.state.getValue.map((function(e){return[e.schoolName,e.schoolTypeCode,e.schoolGroup,e.city,e.state,e.udise,e.address1,e.address2,e.district,e.country,e.phone,e.pincode,e.schoolID,e.latitude,e.longitude,e.registeredBy,e.registeredOn]})),columns:ns,options:{selectableRows:!1,page:this.state.page,download:!1,rowsPerPage:this.state.pageSize,onRowClick:function(t){return rs({rowData:t},e.props.history)},print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows,onChangePage:function(){return e.handlePageChange()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}})):o.a.createElement(Rt.a,{item:!0,xs:12,id:"SchoolSearch",style:{zIndex:"0",display:"none"}},o.a.createElement(Zt.a,{title:"School List",data:this.state.getValue2.map((function(e){return[e.schoolName,e.schoolTypeCode,e.schoolGroup,e.city,e.state,e.udise,e.address1,e.address2,e.district,e.country,e.phone,e.pincode,e.schoolID,e.latitude,e.longitude,e.registeredBy,e.registeredOn]})),columns:ns,options:{selectableRows:!1,page:this.state.page,download:!1,rowsPerPage:this.state.pageSize,onRowClick:function(t){return rs({rowData:t},e.props.history)},print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows2,textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}}))))}}]),a}(o.a.PureComponent);function rs(e,t){var a=e.rowData;Kl[0].schoolName=a[0],Kl[0].schoolType=a[1],Kl[0].UDISECode=a[5],Kl[0].Phone=a[10],Kl[0].Pincode=a[11],Kl[0].State=a[4],Kl[0].AddressLine1=a[6],Kl[0].AddressLine2=a[7],Kl[0].Country=a[9],Kl[0].schoolGroup=a[2],Kl[0].District=a[8],Kl[0].City=a[3],Kl[0].schoolID=a[12],Kl[0].latitude=a[13],Kl[0].longitude=a[14],Kl[0].registeredBy=a[15],Kl[0].registeredOn=a[16],t.push("/app/school/school-detail")}var ls,ss="unapproved",is="approved",cs="inactive",ds={active:"#3CD4A0",inactive:"#FF5C93",approved:"#3CD4A0",pending:"#FFC260"},ps=["Name","Email","Phone","Role","Created On",{name:"Created By",options:{display:!1,filter:!1,viewColumns:!1}},{name:"UserID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"LoginID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Gender",options:{display:!1,filter:!1,viewColumns:!1}},{name:"UserRoleID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Birthdate",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Is Active",options:{display:!1,filter:!1,viewColumns:!1}},"Status","Approval"],us=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={getValue:[],countRows:0,pageSize:10,nextLink:"",prevLink:"",approval:"",status:"",openError:!1},e.finalApproval=function(e){return e==is?"APPROVED":e==ss?"PENDING":""},e.finalStatus=function(e){return e==ss||e==is?"ACTIVE":e==cs?"INACTIVE":void 0},e.handleClose_error=function(){e.setState({openError:!1})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/usr/viewUserRoleLocation/"+Kl[0].schoolID+"&school/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:if(0==(ls=e.sent).data.length)document.getElementById("Coordinator Table").style.display="none";else{for(t=0;t<ls.data.results.length;t++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{username:ls.data.results[t].userRoleID.userID.username,loginID:ls.data.results[t].userRoleID.userID.loginID,email:ls.data.results[t].userRoleID.userID.loginID,phone:ls.data.results[t].userRoleID.userID.phone,birthdate:ls.data.results[t].userRoleID.userID.birthdate,gender:ls.data.results[t].userRoleID.userID.gender.codeName,createdBy:ls.data.results[t].userRoleID.userID.created_by,createdOn:ls.data.results[t].userRoleID.userID.created_on,is_active:ls.data.results[t].userRoleID.userID.is_active.codeName,role:ls.data.results[t].userRoleID.RoleID.RoleName,userID:ls.data.results[t].userRoleID.userID.userID,userRoleID:ls.data.results[t].userRoleID.userRoleID}])}}));this.setState({countRows:ls.data.count}),this.setState({pageSize:ls.data.page_size}),this.setState({nextLink:ls.data.links.next}),this.setState({prevLink:ls.data.links.previous})}e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==this.state.nextLink){e.next=10;break}return e.next=4,Q.a.get(this.state.nextLink,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(ls=e.sent,a=0;a<ls.data.length;a++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{username:ls.data.results[a].userRoleID.userID.username,loginID:ls.data.results[a].userRoleID.userID.loginID,email:ls.data.results[a].userRoleID.userID.loginID,phone:ls.data.results[a].userRoleID.userID.phone,birthdate:ls.data.results[a].userRoleID.userID.birthdate,gender:ls.data.results[a].userRoleID.userID.gender.codeName,createdBy:ls.data.results[a].userRoleID.userID.created_by,createdOn:ls.data.results[a].userRoleID.userID.created_on,is_active:ls.data.results[a].userRoleID.userID.is_active.codeName,role:ls.data[a].userRoleID.RoleID.RoleName,userID:ls.data.results[a].userRoleID.userID.userID,userroleID:ls.data.results[a].userRoleID.userRoleID}])}}));this.setState({countRows:ls.data.count}),this.setState({pageSize:ls.data.page_size}),this.setState({nextLink:ls.data.links.next}),this.setState({prevLink:ls.data.links.previous});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({openError:!0});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleClose_error},o.a.createElement(j.a,{onClose:this.handleClose_error,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured!"))),o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")),o.a.createElement(Je,{title:"Contact Info"}),o.a.createElement(yo.a,{style:{width:"95%"}},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(O.a,{variant:"h5"},Kl[0].schoolName)),o.a.createElement(vo.a,null,o.a.createElement(O.a,{variant:"h6"},"Contact: ",Kl[0].Phone," "))),o.a.createElement("br",null),o.a.createElement(Rt.a,{item:!0,xs:12,style:{width:"95%"},id:"Coordinator Table"},this.state.getValue.length===[]?null:o.a.createElement(Zt.a,{title:"School Coordinators",data:this.state.getValue.map((function(t){return[t.username,t.email,t.phone,t.role,t.createdOn.replace(/T|Z/g," ").substring(0,19),t.createdBy,t.userID,t.gender,t.birthdate,t.is_active,t.userRoleID,t.loginID,o.a.createElement("h4",{style:{color:ds[e.finalStatus(t.is_active).toLowerCase()]}},e.finalStatus(t.is_active)),o.a.createElement("h4",{style:{color:ds[e.finalApproval(t.is_active).toLowerCase()]}},e.finalApproval(t.is_active))]})),columns:ps,options:{selectableRows:!1,onRowClick:function(t){return function(e,t){var a=[{username:e[0],email:e[1],phone:e[2],role:e[3],createdOn:e[4],createdBy:e[5],userID:e[6],gender:e[7],birthdate:e[8],is_active:e[9],userRoleID:e[10],loginID:e[11]}];t.push({pathname:"/app/user/update",data:a})}(t,e.props.history)},rowsPerPage:this.state.pageSize,print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows,onChangePage:function(){return e.handlePageChange()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}})))}}]),a}(o.a.PureComponent);var ms=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={getValue:[],countRows:0,pageSize:10,nextLink:"",prevLink:"",nameVar:"",email:"",created_on:"",dob:"",gender:"",phone:""},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kl[0].registeredBy,e.next=4,Q.a.get(V+"api/usr/getRegisteredBy/"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:a=e.sent,this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{username:a.data[0].username,email:a.data[0].loginID,phone:a.data[0].phone,createdBy:a.data[0].created_by,createdOn:a.data[0].created_on.replace(/T|Z/g," ").substring(0,19),dob:a.data[0].birthdate,status:a.data[0].is_active.codeName,gender:a.data[0].gender.codeName}])}})),n=this.state.getValue[0].dob.split("-"),o=Kl[0].registeredOn.replace(/T|Z/g," ").substring(0,19),this.setState({nameVar:this.state.getValue[0].username,gender:this.state.getValue[0].gender,email:this.state.getValue[0].email,phone:this.state.getValue[0].phone,dob:n[2]+"/"+n[1]+"/"+n[0],created_on:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Je,{title:"Registered By"}),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px",marginTop:"50px"}},o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")),o.a.createElement(Rt.a,{item:!0,container:!0,direction:"column",xs:12},o.a.createElement(Rt.a,{container:!0,style:{marginLeft:"10%",marginTop:"5%",marginBottom:"5%"}},o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:4},o.a.createElement(O.a,{variant:"h6"},"Name :"),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},"Email :"),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},"Phone :"),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},"Birth Date :"),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},"Gender :"),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},"Registered On :")),o.a.createElement(Rt.a,{item:!0,xs:8},o.a.createElement(O.a,{variant:"h6"},this.state.nameVar),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},this.state.email),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},this.state.phone),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},this.state.dob),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},this.state.gender),o.a.createElement("br",null),o.a.createElement(O.a,{variant:"h6"},this.state.created_on)))))))}}]),a}(n.Component),hs=a(682),gs=a.n(hs),fs=new Date,ys=(fs.getFullYear(),fs.getFullYear(),"Select Competition To Check Results..."),Es="Select Competition To Check Students Enrolled...",vs=[];function bs(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var Ss,Cs,Is={active:"#3CD4A0",inactive:"#FF5C93",approved:"#3CD4A0",pending:"#FFC260",declined:"#FF5C93"},Ds=[],xs="active",ks="approved",ws="inactive",Os=["Name","LoginID","Gender","Created On",{name:"UserID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Created By",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Role",options:{display:!1,filter:!1,viewColumns:!1}},{name:"UserRoleID",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Birthdate",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Phone",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Email",options:{display:!1,filter:!1,viewColumns:!1}},{name:"Is Active",options:{display:!1,filter:!1,viewColumns:!1}},"Status","Approval"],As=["Name","LoginID","Gender","Class","Age Group","Score","Total Marks"],Ts=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={notificationsPosition:2,errorToastId:null,getValue:[],getRes:[],page:0,countRows:0,countRowsC:0,pageSize:10,pageSizeC:10,nextLink:"",nextLinkC:"",prevLink:"",prevLinkC:"",approval:"",status:"",openS1:!1,class:"",competition:null,comp:"",openError:!1,loadingData:!1,noStudents:!1,title:"Students Enrolled"},e.handleClose=function(t,a){"clickaway"!==a&&e.setState({openS1:!1,openError:!1,loadingData:!1,noStudents:!1})},e.handleCmpChange=function(t){e.setState({comp:t}),Es=t,e.setState({getValue:[]}),"Select Competition To Check Students Enrolled..."!=Es&&(document.getElementById("Enrolled").style.display="none",e.fetchData(),document.getElementById("Enrolled").style.display="block")},e.handleCompetitionChange=function(t){e.setState({competition:t}),"Select Competition To Check Results..."!=(ys=t)&&(document.getElementById("Results").style.display="block",e.fetch())},e.results=function(){e.setState({title:"Results"}),document.getElementById("Enrolled").style.display="none",document.getElementById("competition").style.display="block",document.getElementById("cmp").style.display="none",document.getElementById("checkResults").style.display="none",document.getElementById("back").style.display="block",0!=e.state.getRes.length&&(document.getElementById("Results").style.display="block")},e.enrolled=function(){e.setState({title:"Students Enrolled"}),document.getElementById("Results").style.display="none",document.getElementById("Enrolled").style.display="block",document.getElementById("competition").style.display="none",document.getElementById("cmp").style.display="block",document.getElementById("back").style.display="none",document.getElementById("checkResults").style.display="block"},e.finalApproval=function(e){return e==ks?"APPROVED":e==xs?"PENDING":""},e.finalStatus=function(e){return e==xs||e==ks?"ACTIVE":e==ws?"INACTIVE":void 0},e}return Object(Ae.a)(a,[{key:"fetchData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Es.value,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/viewSchoolStudentsDetailCmpWise/"+Kl[0].schoolID+"&"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(Cs=e.sent,this.state.getValue.length=0,a=0;a<Cs.data.StudData.results.length;a++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{userID:Cs.data.StudData.results[a].userID.userID,username:Cs.data.StudData.results[a].userID.username,loginID:Cs.data.StudData.results[a].userID.loginID,createdBy:Cs.data.StudData.results[a].userID.created_by,createdOn:Cs.data.StudData.results[a].userID.created_on,classNumber:Cs.data.StudData.results[a].schoolClassID.classNumber,gender:Cs.data.StudData.results[a].userID.gender,birthdate:Cs.data.StudData.results[a].userID.birthdate,phone:Cs.data.StudData.results[a].userID.phone,email:Cs.data.StudData.results[a].userID.email,userRoleID:Cs.data.RoleData[a].userRoleID,role:Cs.data.RoleData[a].RoleID.RoleName,is_active:Cs.data.StudData.results[a].userID.is_active.codeName}])}}));0==this.state.getValue.length&&(this.setState({noStudents:!0}),document.getElementById("Enrolled").style.display="none"),this.setState({countRows:Cs.data.StudData.count}),this.setState({pageSize:Cs.data.StudData.page_size,nextLink:Cs.data.StudData.links.next,prevLink:Cs.data.StudData.links.previous}),this.setState({loadingData:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),this.setState({noStudents:!0}),document.getElementById("Enrolled").style.display="none";case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Es="Select Competition To Check Students Enrolled...",ys="Select Competition To Check Results...",e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getCompetitionSchoolWise/"+Kl[0].schoolID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:for(t=e.sent,vs.length=0,a=0;a<t.data.length;a++)t.data[a].competitionName.toString().includes(t.data[a].startDate.toString().split("-")[0])?vs.push({value:t.data[a].competitionID,label:t.data[a].competitionName}):vs.push({value:t.data[a].competitionID,label:t.data[a].competitionName+" "+t.data[a].startDate.toString().split("-")[0]});e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.props.history.push("/app/dashboard");case 13:return e.prev=13,e.next=16,Q.a.get(V+"api/cmp/getAllRegisteredStudentsSchoolWise/"+Kl[0].schoolID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 16:for(Cs=e.sent,a=0;a<Cs.data.StudData.results.length;a++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{userID:Cs.data.StudData.results[a].userID.userID,username:Cs.data.StudData.results[a].userID.username,loginID:Cs.data.StudData.results[a].userID.loginID,createdBy:Cs.data.StudData.results[a].userID.created_by,createdOn:Cs.data.StudData.results[a].userID.created_on,gender:Cs.data.StudData.results[a].userID.gender,birthdate:Cs.data.StudData.results[a].userID.birthdate,phone:Cs.data.StudData.results[a].userID.phone,email:Cs.data.StudData.results[a].userID.email,userRoleID:Cs.data.StudData.results[a].userRoleID,role:Cs.data.StudData.results[a].RoleID.RoleName,is_active:Cs.data.StudData.results[a].userID.is_active.codeName}])}}));0==Cs.data.StudData.results.length&&(this.setState({noStudents:!0}),document.getElementById("Enrolled").style.display="none"),this.setState({nextLink:Cs.data.StudData.links.next,pageSize:Cs.data.StudData.page_size,prevLink:Cs.data.StudData.links.previous,countRows:Cs.data.StudData.count}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),this.props.history.push("/app/dashboard");case 25:return e.prev=25,e.next=28,Q.a.get(V+"api/com/getSchoolWiseClasses/"+Kl[0].schoolID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 28:for(Ss=e.sent,a=0;a<Ss.data.length;a++)Ds.push(Ss.data[a].classNumber);this.setState({class:Ds[0]+"-"+Ds[Ds.length-1]}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(25),this.props.history.push("/app/dashboard");case 36:case"end":return e.stop()}}),e,this,[[2,10],[13,22],[25,33]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ys.value,this.state.getRes.length=0,e.prev=2,e.next=5,Q.a.get(V+"api/cmp/viewSchoolStudentsCmpWise/"+Kl[0].schoolID+"&"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:Cs=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:a="",n="",o=[],r=0;case 13:if(!(r<Cs.data.results.length)){e.next=31;break}if(999==Cs.data.results[r].score){e.next=28;break}if(n=Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,null!=o[n]){e.next=27;break}return e.prev=17,e.next=20,Q.a.get(V+"api/cmp/getTotalMarks/"+t+"&"+Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 20:a=e.sent,o[Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName]=a.data,e.next=27;break;case 24:e.prev=24,e.t1=e.catch(17),this.setState({openError:!0});case 27:this.setState((function(e){return{getRes:[].concat(Object(Pt.a)(e.getRes),[{username:Cs.data.results[r].userID.username,score:Cs.data.results[r].score+Cs.data.results[r].bonusMarks,group:Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,totalMarks:o[Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName],class:Cs.data.results[r].schoolClassID.classNumber,loginID:Cs.data.results[r].userID.loginID,gender:Cs.data.results[r].userID.gender.codeName}])}}));case 28:r++,e.next=13;break;case 31:0==this.state.getRes.length&&(this.setState({noStudents:!0}),document.getElementById("Results").style.display="none"),this.setState({nextLinkC:Cs.data.links.next,pageSizeC:Cs.data.page_size,prevLinkC:Cs.data.links.previous,countRowsC:Cs.data.count});case 33:case"end":return e.stop()}}),e,this,[[2,8],[17,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==this.state.nextLink){e.next=6;break}return e.next=4,Q.a.get(this.state.nextLink,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:if(Cs=e.sent,"Select Competition To Check Students Enrolled..."==Es){for(t=0;t<Cs.data.StudData.results.length;t++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{userID:Cs.data.StudData.results[t].userID.userID,username:Cs.data.StudData.results[t].userID.username,loginID:Cs.data.StudData.results[t].userID.loginID,createdBy:Cs.data.StudData.results[t].userID.created_by,createdOn:Cs.data.StudData.results[t].userID.created_on,gender:Cs.data.StudData.results[t].userID.gender,birthdate:Cs.data.StudData.results[t].userID.birthdate,phone:Cs.data.StudData.results[t].userID.phone,email:Cs.data.StudData.results[t].userID.email,userRoleID:Cs.data.StudData.results[t].userRoleID,role:Cs.data.StudData.results[t].RoleID.RoleName,is_active:Cs.data.StudData.results[t].userID.is_active.codeName}])}}));this.setState({nextLink:Cs.data.StudData.links.next,pageSize:Cs.data.StudData.page_size,prevLink:Cs.data.StudData.links.previous,countRows:Cs.data.StudData.count})}else{for(t=0;t<Cs.data.StudData.results.length;t++)this.setState((function(e){return{getValue:[].concat(Object(Pt.a)(e.getValue),[{userID:Cs.data.StudData.results[t].userID.userID,username:Cs.data.StudData.results[t].userID.username,loginID:Cs.data.StudData.results[t].userID.loginID,createdBy:Cs.data.StudData.results[t].userID.created_by,createdOn:Cs.data.StudData.results[t].userID.created_on,gender:Cs.data.StudData.results[t].userID.gender,birthdate:Cs.data.StudData.results[t].userID.birthdate,phone:Cs.data.StudData.results[t].userID.phone,email:Cs.data.StudData.results[t].userID.email,userRoleID:Cs.data.RoleData[t].userRoleID,role:Cs.data.RoleData[t].RoleID.RoleName,is_active:Cs.data.StudData.results[t].userID.is_active.codeName}])}}));this.setState({countRows:Cs.data.StudData.count}),this.setState({pageSize:Cs.data.StudData.page_size,nextLink:Cs.data.StudData.links.next,prevLink:Cs.data.StudData.links.previous})}case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange1",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==this.state.nextLinkC){e.next=22;break}return e.next=4,Q.a.get(this.state.nextLinkC,{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:Cs=e.sent,t=ys.value,a="",n="",o=[],r=0;case 9:if(!(r<Cs.data.results.length)){e.next=21;break}if(999==Cs.data.results[r].score){e.next=18;break}if(n=Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,null!=o[n]){e.next=17;break}return e.next=15,Q.a.get(V+"api/cmp/getTotalMarks/"+t+"&"+Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 15:a=e.sent,o[Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName]=a.data;case 17:this.setState((function(e){return{getRes:[].concat(Object(Pt.a)(e.getRes),[{username:Cs.data.results[r].userID.username,score:Cs.data.results[r].score+Cs.data.results[r].bonusMarks,group:Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,totalMarks:o[Cs.data.results[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName],class:Cs.data.results[r].schoolClassID.classNumber,loginID:Cs.data.results[r].userID.loginID,gender:Cs.data.results[r].userID.gender.codeName}])}}));case 18:r++,e.next=9;break;case 21:this.setState({nextLinkC:Cs.data.links.next,pageSizeC:Cs.data.page_size,prevLinkC:Cs.data.links.previous,countRowsC:Cs.data.count});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),this.setState({openError:!0});case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(bs,{onClose:this.handleClose,severity:"error"},"Error Occured!")),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(bs,{onClose:this.handleClose,severity:"error"},"No matching records!")),o.a.createElement(D.a,{open:this.state.loadingData,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(bs,{onClose:this.handleClose,severity:"info"},"New Data Loaded!")),o.a.createElement(D.a,{open:this.state.noStudents,autoHideDuration:3e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(bs,{onClose:this.handleClose,severity:"warning"},"No Students Present!")),o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-0.8%"}},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Je,{title:this.state.title})),o.a.createElement($e.a,{p:1,m:1,id:"cmp",style:{zIndex:"300",marginTop:"4%",width:"20%",marginLeft:"20%"}},o.a.createElement(dt.a,{value:Es,options:vs,onChange:this.handleCmpChange,placeholder:"Select Competition To Check Students Enrolled..."})),o.a.createElement($e.a,{p:1,m:1,id:"competition",style:{zIndex:"300",marginTop:"4%",width:"20%",marginLeft:"20%",display:"none"}},o.a.createElement(dt.a,{value:ys,id:"comp",options:vs,onChange:this.handleCompetitionChange,placeholder:"Select Competition To Check Results..."})),o.a.createElement($e.a,{id:"checkResults",p:1,m:1,style:{marginTop:"4%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.results,startIcon:o.a.createElement(gs.a,null)},"Check Results")),o.a.createElement($e.a,{id:"back",p:1,m:1,style:{marginTop:"4%",display:"none"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.enrolled,style:{width:"110%"},startIcon:o.a.createElement(Tn.a,null)},"Back to Students Enrolled"))),o.a.createElement(yo.a,{style:{width:"95%"}},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(O.a,{variant:"h4"},o.a.createElement("b",null,Kl[0].schoolName))),o.a.createElement(vo.a,null,o.a.createElement(O.a,{variant:"h6"},"Contact: ",Kl[0].Phone,o.a.createElement("br",null),"Classes: ",this.state.class))),o.a.createElement("br",null),o.a.createElement("div",{id:"Enrolled"},o.a.createElement(Rt.a,{item:!0,xs:12,style:{zIndex:"0",width:"95%"}},o.a.createElement(Zt.a,{title:"School Students",data:this.state.getValue.map((function(t){return[t.username,t.loginID,t.gender.codeName,t.createdOn.replace(/T|Z/g," ").substring(0,19),t.userID,t.createdBy,t.role,t.userRoleID,t.birthdate,t.phone,t.email,t.is_active,o.a.createElement("h4",{style:{color:Is[e.finalStatus(t.is_active).toLowerCase()]}},e.finalStatus(t.is_active)),o.a.createElement("h4",{style:{color:Is[e.finalApproval(t.is_active).toLowerCase()]}},e.finalApproval(t.is_active))]})),columns:Os,options:{selectableRows:!1,onRowClick:function(t){return function(e,t){var a=[{userID:e[4],username:e[0],loginID:e[1],createdBy:e[5],createdOn:e[3],gender:e[2],birthdate:e[8],phone:e[9],email:e[10],userRoleID:e[7],role:e[6],is_active:e[11]}];t.push({pathname:"/app/user/update",data:a})}(t,e.props.history)},page:this.state.page,rowsPerPage:this.state.pageSize,print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSize],count:this.state.countRows,onChangePage:function(){return e.handlePageChange()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{id:"CircularP",variant:"indeterminate",style:{color:"primary"}})}}}}))),o.a.createElement("div",{id:"Results",style:{display:"none"}},o.a.createElement(Rt.a,{item:!0,xs:12,style:{zIndex:"0",width:"95%"}},o.a.createElement(Zt.a,{title:"School Students Results",data:this.state.getRes.map((function(e){return[e.username,e.loginID,e.gender,e.class,e.group,e.score,e.totalMarks]})),columns:As,options:{page:this.state.page,selectableRows:!1,rowsPerPage:this.state.pageSizeC,print:!1,serverSide:!1,rowsPerPageOptions:[this.state.pageSizeC],count:this.state.countRowsC,onChangePage:function(){return e.handlePageChange1()},textLabels:{body:{noMatch:o.a.createElement(Gt.a,{id:"CircularP",variant:"indeterminate",style:{color:"primary"}})}}}}))))}}]),a}(o.a.PureComponent);var Ls=[{year:""}],Ns="Select Class..",Bs=0,js=!1,qs=!1,Ps=[],Rs=[],Gs=[],zs="Select Competition..",_s={value:"Participation",label:"Participation"},Ms="Select Competition Age Group..",Fs=[{value:"Participation",label:"Participation"},{value:"Toppers",label:"Toppers"}],Us=[];function Qs(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var Vs="",Ws=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={class:0,open:!0,competition:null,readOnly:!1,agegrp:null,certval:null,openS1:!1,openS2:!1,openS3:!1,openS4:!1,openS5:!1,openS6:!1,openS7:!1,openS8:!1,openS9:!1,openS10:!1,openprogress:!1,openError:!1,rerender:!1},n.handleToggle=function(){n.setState({openprogress:!0})},n.handleCloseProgress=function(){n.setState({openprogress:!1})},n.handleCloseS1=function(e,t){"clickaway"!==t&&n.setState({openS1:!1})},n.handleCloseS2=function(e,t){"clickaway"!==t&&n.setState({openS2:!1})},n.handleCloseS3=function(e,t){"clickaway"!==t&&n.setState({openS3:!1})},n.handleCloseS4=function(e,t){"clickaway"!==t&&n.setState({openS4:!1})},n.handleCloseS5=function(e,t){"clickaway"!==t&&n.setState({openS5:!1})},n.handleCloseS6=function(e,t){"clickaway"!==t&&n.setState({openS6:!1})},n.handleCloseS7=function(e,t){"clickaway"!==t&&n.setState({openS7:!1})},n.handleCloseS8=function(e,t){"clickaway"!==t&&n.setState({openS8:!1})},n.handleCloseS9=function(e,t){"clickaway"!==t&&n.setState({openS9:!1})},n.handleCloseS10=function(e,t){"clickaway"!==t&&n.setState({openS10:!1})},n.handleClassChange=function(e){n.setState({class:e}),Ns=e,Bs=Ps.indexOf(Ns),"Select Class.."!=Ns&"Select Competition.."!=zs&&Q()({method:"get",url:V+"api/cmp/getClassWiseAgeGroup/"+zs.value+"&"+Ns.value+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){js=!0,0==e.data.length?(js=!1,n.setState({openS8:!0})):e.data.AgeGroupName})).catch((function(e){js=!1,this.setState({openError:!0})}))},n.handleCompetitionChange=function(e){n.setState({competition:e}),"Select Class.."!=Ns&"Select Competition.."!=(zs=e)&&Q()({method:"get",url:V+"api/cmp/getClassWiseAgeGroup/"+zs.value+"&"+Ns.value+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){js=!0,0==e.data.length?(js=!1,n.setState({openS8:!0})):e.data.AgeGroupName})).catch((function(e){js=!1,n.setState({openError:!0})})),"Select Competition.."!=zs&&n.fetch(),Ms="Select Competition Age Group.."},n.handleCertificateTypeChange=function(e){n.setState({certval:e}),"Toppers"==(_s=e).value?n.handleToppers():"Participation"==_s.value&&n.handleECert()},n.handleAgeGroupChange=function(e){n.setState({agegrp:e}),Ms=e},n.check1=function(){"Select Competition Age Group.."==Ms&"Select Competition.."==zs?n.setState({openS4:!0}):"Select Competition Age Group.."==Ms?n.setState({openS1:!0}):"Select Competition.."==zs?n.setState({openS2:!0}):(qs=!0,n.handleToggle(),Q()({method:"get",url:V+"api/cmp/getSchoolTopperCertificates/"+zs.value+"&"+Ms.value+"&"+Kl[0].schoolID+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.status&&n.sleep(5e3).then((function(){fetch(V+"media/output/"+Kl[0].schoolName+", "+Kl[0].City+"-Toppers-"+Ms.label+"-"+zs.label.toString().split(" ")[2]+".zip",{}).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=Kl[0].schoolName+", "+Kl[0].City+"-Toppers-"+Ms.label+"-"+zs.label.toString().split(" ")[2]+".zip",a.click(),qs=!1,n.handleCloseProgress(),n.setState({openS9:!0}),Q()({method:"get",url:V+"api/cmp/deleteFiles/"+Kl[0].schoolID+"&0&"+Ms.label+"&"+zs.label.toString().split(" ")[2]+"&schoolToppers/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}})}))})).catch((function(e){n.handleCloseProgress(),qs=!1,n.setState({openS10:!0})}))})),204==e.status&&(n.setState({openS7:!0}),n.handleCloseProgress(),qs=!1)})).catch((function(e){n.handleCloseProgress(),qs=!1,204==e.status&&n.setState({openS7:!0})})))},n.check2=function(){if("Select Class.."==Ns&"Select Competition.."==zs)n.setState({openS3:!0});else if("Select Competition.."==zs)n.setState({openS2:!0});else if("Select Class.."==Ns)n.setState({openS5:!0});else{0==js?n.setState({openS8:!0}):(qs=!0,n.handleToggle(),Q()({method:"get",url:V+"api/cmp/getParticipationCertificates/"+zs.value+"&"+Us[Bs].value+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.status&&n.sleep(5e3).then((function(){fetch(V+"media/output/"+Kl[0].schoolName+", "+Kl[0].City+"-Class-"+Ns.value+"-"+zs.label.toString().split(" ")[2]+".zip",{}).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=Kl[0].schoolName+", "+Kl[0].City+"-Class-"+Ns.value+"-"+zs.label.toString().split(" ")[2]+".zip",a.click(),qs=!1,n.handleCloseProgress(),n.setState({openS9:!0}),Q()({method:"get",url:V+"api/cmp/deleteFiles/"+Kl[0].schoolID+"&"+Ns.value+"&"+zs.label.toString().split(" ")[2]+"&participation/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){}))}))})).catch((function(e){n.handleCloseProgress(),qs=!1,n.setState({openS10:!0})}))})),204==e.status&&(n.setState({openS7:!0}),n.handleCloseProgress(),qs=!1)})).catch((function(e){n.handleCloseProgress(),qs=!1,n.setState({openError:!0})})))}},n.handleClick=function(){n.setState({open:!Boolean(n.state.open)}),document.getElementById("Toppers").style.display="none"},n.handleECert=function(){document.getElementById("Ecertificate").style.display="block",document.getElementById("Toppers").style.display="none"},n.handleToppers=function(){document.getElementById("Ecertificate").style.display="none",document.getElementById("Toppers").style.display="block"},n.handleCloseError=function(){n.setState({openError:!1})},null==(Vs=e.location).data||(Kl[0].schoolName=Vs.data.split(",")[0],Kl[0].City=Vs.data.split(",")[1],Kl[0].schoolID=Vs.data.split(",")[2]),n}return Object(Ae.a)(a,[{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zs.value,Ls[0].year=a,Gs.length=0,e.prev=3,e.next=6,Q.a.get(V+"api/cmp/getAgeCmpWise/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 6:for(t=e.sent,n=0;n<t.data.AgeGrp.length;n++)Gs.push({value:t.data.AgeGrp[n].AgeGroupID,label:t.data.AgeGrp[n].AgeGroupName});e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({openError:!0});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==Vs.data&&(_s="Select Certificate Type.."),null!=Vs.data&&("School Toppers"==Vs.data.split("_")[1]&&(_s=[{value:"Toppers",label:"Toppers"}],this.handleToppers()),null!=Vs.data&"Participation"==Vs.data.split("_")[1]&&(_s=[{value:"Participation",label:"Participation"}],this.handleECert())),zs="Select Competition..",Ms="Select Competition Age Group..",Ns="Select Class..",Gs.length=0,e.prev=6,e.next=9,Q.a.get(V+"api/cmp/getCompetitionSchoolWise/"+Kl[0].schoolID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 9:for(a=e.sent,Rs.length=0,n=0;n<a.data.length;n++)a.data[n].competitionName.toString().includes(a.data[n].startDate.toString().split("-")[0])?Rs.push({value:a.data[n].competitionID,label:a.data[n].competitionName}):Rs.push({value:a.data[n].competitionID,label:a.data[n].competitionName+" "+a.data[n].startDate.toString().split("-")[0]});return e.next=14,Q.a.get(V+"api/com/getSchoolWiseClasses/"+Kl[0].schoolID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 14:for(t=e.sent,Ps.length=0,Us.length=0,n=0;n<t.data.length;n++)Ps.push({value:t.data[n].classNumber,label:t.data[n].classNumber}),Us.push({value:t.data[n].schoolClassID,label:t.data[n].schoolClassID});qs=!1,this.setState({readOnly:!1}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),this.props.history.push("/app/dashboard");case 25:this.setState({rerender:!this.state.rerender});case 26:case"end":return e.stop()}}),e,this,[[6,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(Je,{title:"Download"}),o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS1,severity:"warning"},"Select Competition Age Group!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS2,severity:"warning"},"Select Competition!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleCloseS3,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS3,severity:"warning"},"Select Class and Competition!")),o.a.createElement(D.a,{open:this.state.openS4,autoHideDuration:3e3,onClose:this.handleCloseS4,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS4,severity:"warning"},"Select Competition and Competition Age Group!")),o.a.createElement(D.a,{open:this.state.openS5,autoHideDuration:3e3,onClose:this.handleCloseS5,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS5,severity:"warning"},"Select Class!")),o.a.createElement(D.a,{open:this.state.openS6,autoHideDuration:3e3,onClose:this.handleCloseS5,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS6,severity:"warning"},"No students enrolled in this category!")),o.a.createElement(D.a,{open:this.state.openS7,autoHideDuration:3e3,onClose:this.handleCloseS7,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS7,severity:"warning"},"No students in this class!")),o.a.createElement(D.a,{open:this.state.openS8,autoHideDuration:3e3,onClose:this.handleCloseS8,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS8,severity:"warning"},"This class is not present in any age group of the selected competition!")),o.a.createElement(D.a,{open:this.state.openS9,autoHideDuration:3e3,onClose:this.handleCloseS9,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS9,severity:"success"},"Download Successful!")),o.a.createElement(D.a,{open:this.state.openS10,autoHideDuration:3e3,onClose:this.handleCloseS10,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseS10,severity:"error"},"Error occured! Download Failed!")),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:3e3,onClose:this.handleCloseError,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Qs,{onClose:this.handleCloseError,severity:"error"},"Error occured!")),o.a.createElement(Ze.a,{elevation:3,style:{width:"90%",marginLeft:"5%",marginTop:"50px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"5%",marginLeft:"5%"}},o.a.createElement(O.a,{variant:"h6",color:"textSecondary"},"Select Certificate Type")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginTop:"5%",marginLeft:"30px"}},o.a.createElement(dt.a,{value:_s,onChange:this.handleCertificateTypeChange,options:Fs,placeholder:"Select Certificate Type..",isDisabled:qs}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"-2%"}},o.a.createElement(O.a,{variant:"h6",color:"textSecondary"},"Select Competition ")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginTop:"-2%",marginLeft:"58px"}},o.a.createElement(dt.a,{value:zs,onChange:this.handleCompetitionChange,options:Rs,placeholder:"Select Competition..",isDisabled:qs}))),o.a.createElement("div",{id:"Ecertificate",style:{display:"none"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"-2%"}},o.a.createElement(O.a,{variant:"h6",color:"textSecondary"},"Select Class")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginTop:"-2%",marginLeft:"116px"}},o.a.createElement(dt.a,{value:Ns,onChange:this.handleClassChange,options:Ps,placeholder:"Select Class..",isDisabled:qs}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,id:"downloadECert",style:{marginLeft:"20%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.check2,startIcon:o.a.createElement(Hl.a,null),disabled:qs},"Download Participation Certificates")))),o.a.createElement("div",{id:"Toppers",style:{display:"none"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"-2%"}},o.a.createElement(O.a,{variant:"h6",color:"textSecondary"},"Select Age Group")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginTop:"-2%",marginLeft:"76px"}},o.a.createElement(dt.a,{value:Ms,onChange:this.handleAgeGroupChange,options:Gs,placeholder:"Select Competition Age Group..",isDisabled:qs}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,id:"downloadToppers",style:{marginLeft:"20%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.check1,startIcon:o.a.createElement(Hl.a,null),disabled:qs},"Download School Toppers Certificates"))))),o.a.createElement(Do.a,{className:e.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"})))}}]),a}(n.Component),Hs=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},paper:{height:"calc(62% - 64px)",top:200,width:"18%"}}}))(Ws),Ks=(a(638),[{name:"Option 1",desc:"",price:"",imgURL:""},{name:"Option 2",desc:"",price:"",imgURL:""},{name:"Option 3",desc:"",price:"",imgURL:""},{name:"Option 4",desc:"",price:"",imgURL:""}]),Ys=[{name:"Correct answer",desc:"",price:""},{name:"Answer Text",desc:""}],Xs=[{name:"Question",question:"",imgs:[]},{name:"Answer Explanation",question:"",imgs:[]}],Js=[{name:"Language",detail:""},{name:"Caption",detail:""},{name:"Identifier",detail:""}],Zs=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Xs[0].question){var e=(new DOMParser).parseFromString(Xs[0].question,"text/html").documentElement.querySelectorAll("div");document.getElementById("boxToAppend").insertAdjacentHTML("beforeend",e[0].innerHTML)}}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Questions summary"),o.a.createElement(Rt.a,{container:!0,spacing:2},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(O.a,{gutterBottom:!0},Js[1].detail),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,id:"boxToAppend"}))),""===Ys[1].desc?o.a.createElement(oe.a,{disablePadding:!0},Ks.map((function(t){return o.a.createElement(ye.a,{className:e.listItem,key:t.name},o.a.createElement(ve.a,{primary:t.name,secondary:t.desc}),o.a.createElement("img",{id:"optionImageX",alt:"",src:t.imgURL,height:"95px",style:{display:""===t.imgURL?"none":"flex"}}))})),o.a.createElement(ye.a,{className:e.listItem},o.a.createElement(ve.a,{style:{whiteSpace:"pre"},primary:"Correct Answer",secondary:"Option:"+Ys[0].desc+"\n"+Ks[parseInt(Ys[0].desc-1)].desc}),o.a.createElement("img",{id:"optionImage",src:Ks[parseInt(Ys[0].desc-1)].imgURL,height:"95px",alt:"",style:{display:""===Ks[parseInt(Ys[0].desc-1)].imgURL?"none":"flex"}}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},o.a.createElement("b",null,"Answer Text"))),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},Ys[1].desc))),o.a.createElement(Rt.a,{item:!0,container:!0,direction:"column",xs:12},o.a.createElement(O.a,{gutterBottom:!0,className:e.title},o.a.createElement("b",null,"Background details")),o.a.createElement(Rt.a,{container:!0},Js.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.detail)))})))))}}]),a}(o.a.PureComponent),$s=Object(Qe.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}}))(Zs);function ei(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Xs[0].question=e.substring(t,a);var n=Xs[0].question.substring(0,Xs[0].question.indexOf("contenteditable")-1),o=Xs[0].question.substring(Xs[0].question.indexOf("tabindex")-2);Xs[0].question=n+o,console.log(Xs)}var ti=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","CreateTable","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e.quickItems=["Align","Caption","-","Display","AltText","Dimension"],e.quickToolbarSettings={image:e.quickItems},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){for(var e=0;e<Xs[0].imgs.length;e++)null!=Xs[0].imgs[e]&&document.getElementById("questionContent").insertAdjacentHTML("beforeend",Xs[0].imgs[e])}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings,quickToolbarSettings:this.quickToolbarSettings},n.createElement("div",{id:"questionContent"}),n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errQues",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent);function ai(){null==document.getElementById("ansText")?(Ks[0].desc=document.getElementById("option1").value,Ks[1].desc=document.getElementById("option2").value,Ks[2].desc=document.getElementById("option3").value,Ks[3].desc=document.getElementById("option4").value,Ys[0].desc=ni,Ys[1].desc="",ni=""):(Ys[1].desc=document.getElementById("ansText").value,Ks[0].desc="",Ks[1].desc="",Ks[2].desc="",Ks[3].desc="",Ys[0].desc="",ni="")}var ni="";function oi(){var e=!1;null==document.getElementById("ansText")?(""==document.getElementById("option1").value&&(document.getElementById("errOption1").style.display="block",e=!0),""==document.getElementById("option2").value&&(document.getElementById("errOption2").style.display="block",e=!0),""==document.getElementById("option3").value&&(document.getElementById("errOption3").style.display="block",e=!0),""==document.getElementById("option4").value&&(document.getElementById("errOption4").style.display="block",e=!0),""==ni&&(document.getElementById("errCorrectAns").style.display="block",e=!0)):""==document.getElementById("ansText").value&&(document.getElementById("errAnsText").style.display="block",e=!0),hi[1].desc=1==e?"error":""}var ri=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={CorrectValue:ni,openC:!1,openA:!1,AnsText:null,AnsTextValue:"",file1:Ks[0].imgURL,file2:Ks[1].imgURL,file3:Ks[2].imgURL,file4:Ks[3].imgURL},e.handleChangeCorrect=function(t){e.setState({CorrectValue:t.target.value}),ni=t.target.value,null==t.target.value?document.getElementById("errCorrectAns").style.display="block":document.getElementById("errCorrectAns").style.display="none"},e.handleCloseCorrect=function(){e.setState({openC:!1})},e.handleOpenCorrect=function(){e.setState({openC:!0})},e.handleChangeAnsText=function(e){document.getElementById("err").style.display=""==e?"block":"none"},e.handleCloseAns=function(){e.setState({openA:!1})},e.handleOpenAns=function(t){e.setState({openA:!0})},e.handleChangeOpt1Text=function(e){document.getElementById("errOption1").style.display=""==e?"block":"none"},e.handleChangeOpt2Text=function(e){document.getElementById("errOption2").style.display=""==e?"block":"none"},e.handleChangeOpt3Text=function(e){document.getElementById("errOption3").style.display=""==e?"block":"none"},e.handleChangeOpt4Text=function(e){document.getElementById("errOption4").style.display=""==e?"block":"none"},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){null==fi||""==fi?(this.setState({AnsText:!0,AnsTextValue:"Options"}),"Opt"):null==fi&&""==fi||(this.setState({AnsText:!1,AnsTextValue:"Answer Text"}),"Ans"),ni=Ys[0].desc,this.setState({CorrectValue:Ys[0].desc})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Answer details"),o.a.createElement(Rt.a,{container:!0,spacing:3},this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,disabled:!this.state.AnsText,onChange:function(t){return e.handleChangeOpt1Text(t.target.value)},id:"option1",label:"Option 1",defaultValue:Ks[0].desc,style:{marginTop:"15px"},fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption1",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage1",src:this.state.file1,height:"95px",style:{display:""===this.state.file1?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt2Text(t.target.value)},disabled:!this.state.AnsText,id:"option2",label:"Option 2",defaultValue:Ks[1].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption2",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage2",src:this.state.file2,height:"95px",style:{display:""===this.state.file2?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt3Text(t.target.value)},disabled:!this.state.AnsText,id:"option3",label:"Option 3",defaultValue:Ks[2].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption3",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage3",src:this.state.file3,height:"95px",style:{display:""===this.state.file3?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt4Text(t.target.value)},disabled:!this.state.AnsText,id:"option4",label:"Option 4",defaultValue:Ks[3].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption4",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage4",src:this.state.file4,height:"100px",style:{display:""===this.state.file4?"none":"flex"}})),o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:200}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Correct answer"),o.a.createElement(ka.a,{disabled:!this.state.AnsText,labelId:"correctSelect",id:"correctSelect",InputProps:{readOnly:!this.state.AnsText},open:this.state.openC,onClose:this.handleCloseCorrect,onOpen:this.handleOpenCorrect,value:this.state.CorrectValue,onChange:this.handleChangeCorrect},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),o.a.createElement(T.a,{value:"1"},"Option 1"),o.a.createElement(T.a,{value:"2"},"Option 2"),o.a.createElement(T.a,{value:"3"},"Option 3"),o.a.createElement(T.a,{value:"4"},"Option 4"))),o.a.createElement(at.a,{id:"errCorrectAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))," "):o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeAnsText(t.target.value)},disabled:this.state.AnsText,id:"ansText",label:"Answer Text",defaultValue:Ys[1].desc,fullWidth:!0,style:{marginTop:"15px"},InputProps:{readOnly:this.state.AnsText}}),o.a.createElement(at.a,{id:"errAnsText",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6})," ")))}}]),a}(o.a.PureComponent),li=Object(Qe.a)((function(e){return{formControl:{minWidth:120},input:{display:"none"}}}))(ri);function si(){Js[1].detail=document.getElementById("caption").value,Js[2].detail=document.getElementById("identifier").value}var ii="";function ci(){var e=!1;""==document.getElementById("caption").value&&(document.getElementById("errCap").style.display="block",e=!0),""==document.getElementById("identifier").value&&(document.getElementById("errId").style.display="block",e=!0),""==Js[0].detail&&(document.getElementById("errLang").style.display="block",e=!0),hi[0].desc=1==e?"error":""}localStorage.setItem("countAQ",0);var di=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={LangValue:ii,openA:!1,openQ:!1,openL:!1,countAQ:0,imgValue:!1,languages:yi},e.handleChangeLang=function(t){e.setState({LangValue:t.target.value}),Js[0].detail=ii=t.target.value,null==t.target.value?document.getElementById("errLang").style.display="block":document.getElementById("errLang").style.display="none"},e.handleCloseLang=function(){e.setState({openL:!1})},e.handleOpenLang=function(){e.setState({openL:!0})},e.handleChangeCaption=function(e){document.getElementById("errCap").style.display=""==e?"block":"none"},e.handleChangeIdentifier=function(e){document.getElementById("errId").style.display=""==e?"block":"none"},e}return Object(Ae.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0}),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:11},o.a.createElement(et.a,{id:"caption",name:"caption",label:"Caption",fullWidth:!0,autoComplete:"cap",onChange:function(t){return e.handleChangeCaption(t.target.value)},defaultValue:Js[1].detail}),o.a.createElement(at.a,{id:"errCap",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:7},o.a.createElement(ae.a,{classes:{tooltip:t.noMaxWidth},title:"Please include year in yyyy format at the start and language code at the end",arrow:!0},o.a.createElement(et.a,{id:"identifier",name:"identifier",label:"Identifier",fullWidth:!0,onChange:function(t){return e.handleChangeIdentifier(t.target.value)},defaultValue:Js[2].detail})),o.a.createElement(at.a,{id:"errId",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:5},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:250}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Language"),o.a.createElement(ka.a,{labelId:"langSelect",id:"langValue",open:this.state.openL,onClose:this.handleCloseLang,onOpen:this.handleOpenLang,value:Js[0].detail,onChange:this.handleChangeLang},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),yi.map((function(e){return o.a.createElement(T.a,{value:e},e.toUpperCase())})))),o.a.createElement(at.a,{id:"errLang",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))))}}]),a}(o.a.PureComponent),pi=Object(Qe.a)((function(e){return{formControl:{minWidth:120},noMaxWidth:{maxWidth:"none"}}}))(di);function ui(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Xs[1].question=e.substring(t,a);var n=Xs[1].question.substring(0,Xs[1].question.indexOf("contenteditable")-1),o=Xs[1].question.substring(Xs[1].question.indexOf("tabindex")-2);Xs[1].question=n+o}var mi=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","CreateTable","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e.quickItems=["Align","Caption","-","Display","AltText","Dimension"],e.quickToolbarSettings={image:e.quickItems},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){for(var e=0;e<Xs[1].imgs.length;e++)null!=Xs[1].imgs[e]&&document.getElementById("answerContent").insertAdjacentHTML("beforeend",Xs[1].imgs[e])}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings,quickToolbarSettings:this.quickToolbarSettings},n.createElement("div",{id:"answerContent"}),n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent),hi=[{name:"Step1",desc:""},{name:"Step2",desc:""},{name:"Step3",desc:""},{name:"Step4",desc:""}],gi=["Question Details","Question Explanation","Answers Details","Answer Explanation","Review Question"];var fi,yi=[],Ei=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeStep:0,onClick:!1,ansText:"",quesID:"",urlo1:"",urlo2:"",urlo3:"",urlo4:"",qimglist:[],url:"",rerender:!1,openError:!1},e.displayAlert=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:e.state.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},"Do you really want to add the question?"))),o.a.createElement(ia.a,null,e.state.isProcessing?o.a.createElement(Gt.a,{size:26}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{onClick:e.insertQues,color:"primary"},"Yes"),o.a.createElement(Re.a,{onClick:e.handleClose,color:"primary"},"No")))))},e.handleClose=function(){e.setState({open:!1,activeStep:4})},e.clearData=function(){Ks[0].desc="",Ks[0].price="",Ks[0].imgURL="",Ks[1].desc="",Ks[1].price="",Ks[1].imgURL="",Ks[2].desc="",Ks[2].price="",Ks[2].imgURL="",Ks[3].desc="",Ks[3].price="",Ks[3].imgURL="",Xs[0].question=null,Xs[1].question=null,Xs[0].imgs=[],Js[0].detail="",Js[1].detail="",Js[2].detail="",Xs[1].imgs=[],Ys[0].desc="",Ys[1].desc="",Ys[0].price=""},e.insertQues=function(){e.setState({isProcessing:!0});var t,a="";a=""==Ys[0].desc?"":Ks[Ys[0].desc-1].desc,t={questionTranslationID:{questionID:e.state.quesID,languageCodeID:{codeName:Js[0].detail},modified_by:localStorage.getItem("username"),Identifier:Js[2].detail,translation:{translation:{caption:Js[1].detail,background:Xs[0].question,explanation:Xs[1].question}}},optionTranslationID:{languageCodeID:{codeName:Js[0].detail},translationO:{translationO:{option1:{caption:{option:Ks[0].desc}},option2:{caption:{option:Ks[1].desc}},option3:{caption:{option:Ks[2].desc}},option4:{caption:{option:Ks[3].desc}},correctOption:a,ansText:Ys[1].desc}}}},Q.a.post(V+"api/cmp/insertTranslation/",t,{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(t){e.clearData(),setTimeout((function(){e.setState({uploadSuccess:!0,isProcessing:!1,open:!1,activeStep:5})}),2e3),setTimeout((function(){e.redirect()}),2e3)})).catch((function(t){Q.a.get(V+"api/cmp/rollBackQuestionTranslation/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){})),e.setState({openError:!0,isProcessing:!1,open:!1,activeStep:4})}))},e.handleNext=function(){switch(e.state.activeStep){case 0:if(ci(),"error"===hi[0].desc)return;break;case 2:if(oi(),"error"===hi[1].desc)return}switch(e.setState({activeStep:e.state.activeStep+1}),e.state.activeStep){case 0:return si();case 1:return ei();case 2:return ai();case 3:return ui();case 4:return e.setState({open:!0});case 5:return}},e.handleBack=function(){e.setState({activeStep:e.state.activeStep-1})},e.redirect=function(){setTimeout((function(){e.setState({onClick:!0})}),2e3)},e.handleAlertClose=function(){e.setState({openError:!1})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var n,o,r,l,s,i,c,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi=[],a.clearData(),fi=a.props.location.state.ansText,a.setState({ansText:a.props.location.state.ansText,quesID:a.props.location.state.questionID}),e.next=6,Q.a.get(V+"api/com/getLanguage/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openError:!0})}));case 6:for(n=e.sent,o=0;o<n.data.length;o++)yi.push(n.data[o].codeName);for(r=(new DOMParser).parseFromString(a.props.location.state.background,"text/html"),l=r.documentElement.querySelectorAll("img"),s=0;s<l.length;s++)Xs[0].imgs.push(l[s].outerHTML);return e.next=13,Q.a.get(V+"api/ques/getImages/"+a.state.quesID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){a.setState({openError:!0})}));case 13:if(i=e.sent,Xs[1].imgs.length=0,i.data.qimg.length>0)for(t=0;t<i.data.qimg.length;t++)a.setState({url:V+i.data.qimg[t].uploadedFile}),a.setState((function(e){return{qimglist:[].concat(Object(Pt.a)(e.qimglist),[V+i.data.qimg[t].uploadedFile])}})),c='<div><img src = "'+(V+i.data.qimg[t].uploadedFile)+'" style="max-height:100%;max-width:100%;min-height:0px;min-width:0px" /></div>',d=(new DOMParser).parseFromString(c,"text/html").documentElement.querySelectorAll("div")[0].innerHTML,Xs[1].imgs.push(d);"empty"!=i.data.oimg1&&i.data.oimg1.length>0&&i.data.oimg2.length>0&&i.data.oimg3.length>0&&i.data.oimg4.length>0&&a.setState({urlo1:V+i.data.oimg1[0].uploadedFile,urlo2:V+i.data.oimg2[0].uploadedFile,urlo3:V+i.data.oimg3[0].uploadedFile,urlo4:V+i.data.oimg4[0].uploadedFile,opt1:"",opt2:"",opt3:"",opt4:""}),Ks[0].imgURL=a.state.urlo1,Ks[1].imgURL=a.state.urlo2,Ks[2].imgURL=a.state.urlo3,Ks[3].imgURL=a.state.urlo4,a.setState({rerender:!0});case 22:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.props.history.push("/app/dashboard");case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.open_error,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),this.state.onClick?o.a.createElement(y.a,{to:"/app/questions"}):null,o.a.createElement("main",{className:e.layout},o.a.createElement(Ze.a,{className:e.paper},o.a.createElement(O.a,{component:"h1",variant:"h4",align:"center"},"Question"),o.a.createElement(ya.a,{activeStep:this.state.activeStep,className:e.stepper,alternativeLabel:!0},gi.map((function(e){return o.a.createElement(Ea.a,{key:e},o.a.createElement(va.a,null,e))}))),o.a.createElement(o.a.Fragment,null,this.state.activeStep===gi.length?o.a.createElement(o.a.Fragment,null,this.state.open?o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Processing..."):o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Your question has been added successfully.")):o.a.createElement(o.a.Fragment,null,this.state.rerender?function(e){switch(e){case 0:return o.a.createElement(pi,null);case 1:return o.a.createElement(ti,null);case 2:return o.a.createElement(li,null);case 3:return o.a.createElement(mi,null);case 4:return o.a.createElement($s,null)}}(this.state.activeStep):null,o.a.createElement("div",{className:e.buttons},0!==this.state.activeStep&&o.a.createElement(Re.a,{onClick:this.handleBack,className:e.button},"Back"),o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button},this.state.activeStep===gi.length-1?"Confirm question":"Next")))),this.displayAlert())))}}]),a}(o.a.PureComponent),vi=Object(Qe.a)((function(e){return{appBar:{position:"relative"},layout:Object(E.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{marginLeft:"160px",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{width:"900px",marginTop:e.spacing(6),marginLeft:"2%",marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}))(Ei),bi=[{name:"Option 1",desc:"",price:"",imgURL:""},{name:"Option 2",desc:"",price:"",imgURL:""},{name:"Option 3",desc:"",price:"",imgURL:""},{name:"Option 4",desc:"",price:"",imgURL:""}],Si=[{name:"Correct answer",desc:"",price:""},{name:"Answer Text",desc:""}],Ci=[{name:"Question",question:""},{name:"Answer Explanation",question:""}],Ii=[{name:"Caption",detail:""},{name:"Identifier",detail:""},{name:"Classification",detail:""},{name:"Domain",detail:""},{name:"Age Group",detail:""},{name:"Question Level",detail:""}],Di=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ci[0].question){var e=(new DOMParser).parseFromString(Ci[0].question,"text/html").documentElement.querySelectorAll("div");document.getElementById("boxToAppend").insertAdjacentHTML("beforeend",e[0].innerHTML)}}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Questions summary"),o.a.createElement(Rt.a,{container:!0,spacing:2},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(O.a,{gutterBottom:!0},Ii[0].detail),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,id:"boxToAppend"}))),""===Si[1].desc?o.a.createElement(oe.a,{disablePadding:!0},bi.map((function(t){return o.a.createElement(ye.a,{className:e.listItem,key:t.name},o.a.createElement(ve.a,{primary:t.name,secondary:t.desc}),o.a.createElement("img",{id:"optionImageX",alt:"",src:t.imgURL,height:"95px",style:{display:""===t.imgURL?"none":"flex"}}))})),o.a.createElement(ye.a,{className:e.listItem},o.a.createElement(ve.a,{style:{whiteSpace:"pre"},primary:"Correct Answer",secondary:"Option:"+Si[0].desc+"\n"+bi[parseInt(Si[0].desc-1)].desc}),o.a.createElement("img",{id:"optionImage",src:bi[parseInt(Si[0].desc-1)].imgURL,height:"95px",alt:"",style:{display:""===bi[parseInt(Si[0].desc-1)].imgURL?"none":"flex"}}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},o.a.createElement("b",null,"Answer Text"))),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},Si[1].desc))),o.a.createElement(Rt.a,{item:!0,container:!0,direction:"column",xs:12},o.a.createElement(O.a,{gutterBottom:!0,className:e.title},o.a.createElement("b",null,"Background details")),o.a.createElement(Rt.a,{container:!0},Ii.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.name},o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.name)),o.a.createElement(Rt.a,{item:!0,xs:6},o.a.createElement(O.a,{gutterBottom:!0},e.detail)))})))))}}]),a}(o.a.PureComponent),xi=Object(Qe.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}}))(Di),ki=a(430),wi=a.n(ki);function Oi(){Ii[0].detail=document.getElementById("caption").value,Ii[1].detail=document.getElementById("identifier").value,Ii[4].detail=Bi,Ii[5].detail=ji,null!=Ii[4].detail&&null!=Ii[5].detail&&function(){Ti.length=0,Ti=[];var e=Ii[4].detail.split(","),t=Ii[5].detail.split(",");console.log(e,t);for(var a=0;a<e.length;a++)""!=Pi[a]&&""!=qi[a]&&""!=Ri[a]&&Ti.push({ageID:Pi[a],ageGroup:e[a],quesLevel:t[a]})}(),Gi=[],qi=[],Ri=[],console.log(Ti,Ai)}var Ai=[],Ti=[],Li=[],Ni="",Bi=Ii[4].detail,ji=Ii[5].detail,qi=[],Pi=[],Ri=[],Gi=[],zi=0;var _i=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({open:!1})},n.handleOpen=function(){n.setState({open:!0})},n.handleChangeDomain=function(e){n.setState({DomainValue:e.target.value}),Ii[3].detail=e.target.value,null==e.target.value?document.getElementById("errDomain").style.display="block":document.getElementById("errDomain").style.display="none"},n.handleCloseDomain=function(){n.setState({openD:!1})},n.handleOpenDomain=function(){n.setState({openD:!0})},n.handleChangeIdentifier=function(e){document.getElementById("errId").style.display=""==e?"block":"none"},n.handleChangeAuto=function(e,t){Gi=t;for(var a=t[0],n=1;n<t.length;n++)a=a+","+t[n];Ii[2].detail=a,""==Ii[2].detail?document.getElementById("errClassi").style.display="block":document.getElementById("errClassi").style.display="none"},n.handleChangeCaption=function(e){document.getElementById("errCap").style.display=""==e?"block":"none"},n.handleChangeAgeGroup=function(e,t){var a=e.currentTarget.id,n=0;if(n="m"==a.substring(0,1)?0:parseInt(a.substring(0,1)),null!=t){qi[n]=t;for(var o=0;o<ac.length;o++)if(t==ac[o]){Pi[n]=nc[o];break}}else qi[n]="",Pi[n]="";Bi=qi[0],Ni=Pi[0];for(var r=1;r<qi.length;r++)Bi+=","+qi[r],Ni+=","+Pi[r];Ii[4].detail=Bi},n.handleChangeQuesLevel=function(e,t){var a=e.currentTarget.id,n=0;n="m"==a.substring(0,1)?0:parseInt(a.substring(0,1)),Ri[n]=null!=t?t:"",ji=Ri[0];for(var o=1;o<Ri.length;o++)ji+=","+Ri[o];Ii[5].detail=ji},n.increment=function(){var e=parseInt(localStorage.getItem("countAQ"));e+=1,localStorage.setItem("countAQ",e),n.setState({countAQ:n.state.countAQ+1}),zi+=1,0==qi.length&&(qi[0]="")},n.decrement=function(){localStorage.setItem("countAQ",parseInt(localStorage.getItem("countAQ"))-1),n.setState({countAQ:n.state.countAQ-1}),zi-=1},n.deleteRow=function(e){""!=Pi[e]&&""!=qi[e]&&""!=Ri[e]&&Ai.push({ageID:Pi[e],ageGroup:qi[e],quesLevel:Ri[e]}),qi[e]="",Pi[e]="",Ri[e]="";for(var t=[],a=[],o=[],r=0;r<qi.length;r++)""!=qi[r]&&(t.push(qi[r]),o.push(Pi[r]),a.push(Ri[r]));qi.length=0,Pi.length=0,Ri.length=0;for(var l=0;l<t.length;l++)qi[l]=t[l],Pi[l]=o[l],Ri[l]=a[l];Ni=Pi[0];for(var s=1;s<Pi.length;s++)Ni+=","+Pi[s];Bi=qi[0];for(var i=1;i<qi.length;i++)Bi+=","+qi[i];ji=Ri[0];for(var c=1;c<Ri.length;c++)ji+=","+Ri[c];n.decrement(),n.setState({rerender:!n.state.rerender})},n.addComponent=function(){Li.length=0;for(var e=function(e){Li.push(o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:10,sm:5},o.a.createElement(wa.a,{id:e,options:n.state.ageGroups,getOptionLabel:function(e){return e},defaultValue:qi[e],onChange:n.handleChangeAgeGroup,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"mul",label:"Age Group",placeholder:"",fullWidth:!0}))}})),o.a.createElement(Rt.a,{item:!0,xs:10,sm:5},o.a.createElement(wa.a,{id:e,options:n.state.quesLevels,getOptionLabel:function(e){return e},defaultValue:Ri[e],onChange:n.handleChangeQuesLevel,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"mul",label:"Question Level",placeholder:"",fullWidth:!0}))}})),e==zi-1?o.a.createElement(w.a,{onClick:function(){return n.deleteRow(e)}},o.a.createElement(wi.a,null)):null))},t=0;t<zi;t++)e(t);return Li},n.state={AgeGroupValue:Bi,QuesLevelValue:ji,open:!1,openC:!1,openD:!1,countAQ:parseInt(localStorage.getItem("countAQ")),domains:$i,skills:ec,quesLevels:tc,ageGroups:ac,rerender:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ii[4].detail&&null!=Ii[5].detail){if(Bi=Ii[4].detail,ji=Ii[5].detail,qi=Bi.split(","),Ri=ji.split(","),""!=Ni)(Ni=Ni.toString()).includes(",")?Pi=Ni.split(","):Pi[0]=Ni;else if(null!=oc){var e=oc.toString();e.includes(",")?Pi=e.split(","):Pi[0]=e}else Pi=[];this.setState({countAQ:qi.length}),this.addComponent(),zi=qi.length}this.setState({rerender:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes;return void 0!=Ii[2].detail&&(Ii[2].detail.includes(",")?Gi=Ii[2].detail.split(","):Ii[2].detail.length>0&&(Gi[0]=Ii[2].detail)),o.a.createElement("div",{style:{paddingLeft:"2%"}},o.a.createElement(O.a,{variant:"h6",gutterBottom:!0}),o.a.createElement(Rt.a,{container:!0,spacing:3},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(et.a,{id:"caption",name:"caption",label:"Caption",fullWidth:!0,autoComplete:"cap",onChange:function(t){return e.handleChangeCaption(t.target.value)},defaultValue:Ii[0].detail}),o.a.createElement(at.a,{id:"errCap",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:7},o.a.createElement(ae.a,{classes:{tooltip:t.noMaxWidth},title:"Please include year in yyyy format at the start and language code at the end",arrow:!0},o.a.createElement(et.a,{id:"identifier",name:"identifier",label:"Identifier",fullWidth:!0,autoComplete:"cap",onChange:function(t){return e.handleChangeIdentifier(t.target.value)},defaultValue:Ii[1].detail})),o.a.createElement(at.a,{id:"errId",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:5},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:300}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Domain"),o.a.createElement(ka.a,{labelId:"domSelect",id:"domValue",open:this.state.openD,onClose:this.handleCloseDomain,onOpen:this.handleOpenDomain,value:Ii[3].detail,onChange:this.handleChangeDomain},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),this.state.domains.map((function(e){return o.a.createElement(T.a,{value:e},e)})))),o.a.createElement(at.a,{id:"errDomain",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:11},o.a.createElement(wa.a,{multiple:!0,id:"autoMul",options:this.state.skills,getOptionLabel:function(e){return e},defaultValue:Gi,onChange:this.handleChangeAuto,renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{variant:"standard",id:"classiValue",label:"Classification",placeholder:"",fullWidth:!0}))}}),o.a.createElement(at.a,{id:"errClassi",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),0!=qi.length?this.addComponent().map((function(e){return e})):null,o.a.createElement(Re.a,{onClick:function(){return e.increment()}},0!=zi?o.a.createElement(o.a.Fragment,null," Add "):o.a.createElement(o.a.Fragment,null,"See")," Age Groups")))}}]),a}(o.a.PureComponent),Mi=Object(Qe.a)((function(e){return{formControl:{minWidth:120},noMaxWidth:{maxWidth:"none"}}}))(_i);a(639);var Fi=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","CreateLink","Image","CreateTable","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e.quickItems=["Align","Caption","-","Display","AltText","Dimension"],e.quickToolbarSettings={image:e.quickItems},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ci[0].question){var e=(new DOMParser).parseFromString(Ci[0].question,"text/html").documentElement.querySelectorAll("div")[0].innerHTML;document.getElementById("questionContent").insertAdjacentHTML("beforeend",e)}}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{id:"questionContent",ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings,quickToolbarSettings:this.quickToolbarSettings},n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errQues",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent);var Ui=Si[0].desc,Qi="",Vi="",Wi="",Hi="";var Ki=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={CorrectValue:Si[0].desc,openC:!1,openA:!1,AnsText:null,AnsTextValue:"",file1:bi[0].imgURL,file2:bi[1].imgURL,file3:bi[2].imgURL,file4:bi[3].imgURL,imgValue:!1},e.handleChangeCorrect=function(t){e.setState({CorrectValue:t.target.value}),Si[0].desc=Ui=t.target.value,null==t.target.value?document.getElementById("errCorrectAns").style.display="block":document.getElementById("errCorrectAns").style.display="none",null!=bi[parseInt(Si[0].desc-1)]&&(Si[0].price=bi[parseInt(Si[0].desc-1)].desc)},e.handleCloseCorrect=function(){e.setState({openC:!1})},e.handleOpenCorrect=function(){e.setState({openC:!0})},e.handleChangeAnsText=function(e){document.getElementById("errAnsText").style.display=""==e?"block":"none"},e.handleCloseAns=function(){e.setState({openA:!1})},e.handleOpenAns=function(t){e.setState({openA:!0})},e.handleChangeOpt1Text=function(e){document.getElementById("errOption1").style.display=""==e?"block":"none"},e.handleChangeOpt2Text=function(e){document.getElementById("errOption2").style.display=""==e?"block":"none"},e.handleChangeOpt3Text=function(e){document.getElementById("errOption3").style.display=""==e?"block":"none"},e.handleChangeOpt4Text=function(e){document.getElementById("errOption4").style.display=""==e?"block":"none"},e.handleChangeExp=function(e){document.getElementById("err").style.display=""==e?"block":"none"},e.handleChangeOption1=function(t){t.target.files[0].name.length<=45?(e.setState({file1:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage1").style.display="flex",bi[0].imgURL=URL.createObjectURL(t.target.files[0]),Qi=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption2=function(t){t.target.files[0].name.length<=45?(e.setState({file2:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage2").style.display="flex",bi[1].imgURL=URL.createObjectURL(t.target.files[0]),Vi=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption3=function(t){t.target.files[0].name.length<=45?(e.setState({file3:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage3").style.display="flex",bi[2].imgURL=URL.createObjectURL(t.target.files[0]),Wi=t.target.files[0]):e.setState({openError:!0})},e.handleChangeOption4=function(t){t.target.files[0].name.length<=45?(e.setState({file4:URL.createObjectURL(t.target.files[0])}),document.getElementById("optionImage4").style.display="flex",bi[3].imgURL=URL.createObjectURL(t.target.files[0]),Hi=t.target.files[0]):e.setState({openError:!0})},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){"MCQS_WITH_IMAGES"===rc?this.setState({imgValue:!0,AnsText:!0,AnsTextValue:"Options"}):this.setState({imgValue:!1}),null==Si[1].desc&&""==Si[1].desc||(this.setState({AnsText:!1,AnsTextValue:"Answer Text"}),"Ans"),null!=Si[1].desc&&""!=Si[1].desc||(this.setState({AnsText:!0,AnsTextValue:"Options"}),"Opt");for(var e=0;e<bi.length;e++)Si[0].price==bi[e].desc&&(Si[0].desc=Ui=e+1,this.setState({CorrectValue:e+1}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Answer details"),o.a.createElement(Rt.a,{container:!0,spacing:3},this.state.AnsText?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeAnsText(t.target.value)},disabled:this.state.AnsText,id:"ansText",label:"Answer Text",defaultValue:Si[1].desc,fullWidth:!0,style:{marginTop:"15px"},InputProps:{readOnly:this.state.AnsText}}),o.a.createElement(at.a,{id:"errAnsText",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*")),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6})," "),this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,disabled:!this.state.AnsText,onChange:function(t){return e.handleChangeOpt1Text(t.target.value)},id:"option1",label:"Option 1",defaultValue:bi[0].desc,style:{marginTop:"15px"},fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption1",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file1",type:"file",onChange:this.handleChangeOption1}),o.a.createElement("label",{htmlFor:"contained-button-file1"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage1",src:bi[0].imgURL,height:"95px"})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt2Text(t.target.value)},disabled:!this.state.AnsText,id:"option2",label:"Option 2",defaultValue:bi[1].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption2",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file2",type:"file",onChange:this.handleChangeOption2}),o.a.createElement("label",{htmlFor:"contained-button-file2"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage2",src:bi[1].imgURL,height:"95px"})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt3Text(t.target.value)},disabled:!this.state.AnsText,id:"option3",label:"Option 3",defaultValue:bi[2].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption3",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file3",type:"file",onChange:this.handleChangeOption3}),o.a.createElement("label",{htmlFor:"contained-button-file3"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage3",src:bi[2].imgURL,height:"95px"})),o.a.createElement(Rt.a,{item:!0,xs:12,md:6},o.a.createElement(et.a,{required:!0,onChange:function(t){return e.handleChangeOpt4Text(t.target.value)},disabled:!this.state.AnsText,id:"option4",label:"Option 4",defaultValue:bi[3].desc,fullWidth:!0,InputProps:{readOnly:!this.state.AnsText}}),o.a.createElement(at.a,{id:"errOption4",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"),o.a.createElement("p",null),this.state.imgValue&&this.state.AnsText?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{accept:"image/*",className:t.input,id:"contained-button-file4",type:"file",onChange:this.handleChangeOption4}),o.a.createElement("label",{htmlFor:"contained-button-file4"},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"span",float:"left"},"Choose image"))):null),o.a.createElement(Rt.a,{item:!0,xs:12,sm:6},o.a.createElement("img",{id:"optionImage4",src:bi[3].imgURL,height:"100px"})),o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(nt.a,{className:t.formControl,style:{minWidth:200}},o.a.createElement(Ft.a,{id:"demo-controlled-open-select-label"},"Correct answer"),o.a.createElement(ka.a,{disabled:!this.state.AnsText,labelId:"correctSelect",id:"correctSelect",InputProps:{readOnly:!this.state.AnsText},open:this.state.openC,onClose:this.handleCloseCorrect,onOpen:this.handleOpenCorrect,value:this.state.CorrectValue,onChange:this.handleChangeCorrect},o.a.createElement(T.a,{value:""},o.a.createElement("em",null,"None")),o.a.createElement(T.a,{value:"1"},"Option 1"),o.a.createElement(T.a,{value:"2"},"Option 2"),o.a.createElement(T.a,{value:"3"},"Option 3"),o.a.createElement(T.a,{value:"4"},"Option 4"))),o.a.createElement(at.a,{id:"errCorrectAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))," "):null))}}]),a}(o.a.PureComponent),Yi=Object(Qe.a)((function(e){return{formControl:{minWidth:120},input:{display:"none"}}}))(Ki);var Xi=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;return Object(Oe.a)(this,a),(e=t.apply(this,arguments)).items=["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","CreateLink","Image","CreateTable","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","SuperScript","SubScript","|","ClearFormat","Print","|","Undo","Redo"],e.toolbarSettings={items:e.items},e.quickItems=["Align","Caption","-","Display","AltText","Dimension"],e.quickToolbarSettings={image:e.quickItems},e}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){if(null!=Ci[1].question){var e=(new DOMParser).parseFromString(Ci[1].question,"text/html").documentElement.querySelectorAll("div")[0].innerHTML;document.getElementById("answerContent").insertAdjacentHTML("beforeend",e)}}},{key:"handleFullScreen",value:function(e){var t,a,n=document.querySelector(".sb-content.e-view"),o=document.querySelector(".sb-header.e-view");_a.d.isDevice?(t=document.querySelector("#right-sidebar"),a=document.querySelector(".sample-browser.e-view.e-content-animation")):(t=document.querySelector("#left-sidebar"),a=document.querySelector("#right-pane")),"Maximize"===e.targetItem?(_a.d.isDevice&&_a.d.isIos&&Object(_a.t)([n,o],["hide-header"]),Object(_a.t)([t],["e-close"]),Object(_a.T)([t],["e-open"]),_a.d.isDevice||(a.style.marginLeft="0px"),a.style.transform="inherit"):"Minimize"===e.targetItem&&(_a.d.isDevice&&_a.d.isIos&&Object(_a.T)([n,o],["hide-header"]),Object(_a.T)([t],["e-close"]),_a.d.isDevice||(Object(_a.t)([t],["e-open"]),a.style.marginLeft=t.offsetWidth+"px"),a.style.transform="translateX(0px)")}},{key:"actionCompleteHandler",value:function(e){var t=this;!e.targetItem||"SourceCode"!==e.targetItem&&"Preview"!==e.targetItem?setTimeout((function(){t.rteObj.toolbarModule.refreshToolbarOverflow()}),400):(this.rteObj.sourceCodeModule.getPanel().style.display="none",this.mirrorConversion(e))}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"control-pane"},n.createElement("div",{className:"control-section"},n.createElement("div",{className:"rte-control-section"},n.createElement(Ma.a,{ref:function(t){e.rteObj=t},showCharCount:!0,actionBegin:this.handleFullScreen.bind(this),actionComplete:this.actionCompleteHandler.bind(this),toolbarSettings:this.toolbarSettings,quickToolbarSettings:this.quickToolbarSettings},n.createElement("div",{id:"answerContent"}),n.createElement(Fa.b,{services:[Ua.a,Qa.a,Va.a,Wa.a,Ha.a,Ka.a,Ya.a]})))),n.createElement(at.a,{id:"errAns",style:{color:"red",marginLeft:"13px",display:"none"}},"Required*"))}}]),a}(n.PureComponent),Ji=[{name:"Step1",desc:""},{name:"Step2",desc:""},{name:"Step3",desc:""},{name:"Step4",desc:""}],Zi=["Question Details","Question Explanation","Answers Details","Answer Explanation","Review Question"];var $i=[],ec=[],tc=[],ac=[],nc=[],oc="",rc="",lc=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){"clickaway"!==t&&"backdropClick"!==t&&n.setState({open:!1,activeStep:4})},n.displayAlertAgeGroups=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:!1,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},'Age Groups have not been created for this year. You will be redirected to "Create Age Groups" page. '))),o.a.createElement(ia.a,null,o.a.createElement(Re.a,{onClick:n.redirectToAgeGroups,color:"primary"},"OK"))))},n.rerenderDone=function(){n.setState({isProcessing:!0}),setTimeout((function(){n.setState({openRerender:!1,isProcessing:!1})}),3e3)},n.displayLoadingQues=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:n.state.openRerender,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},"Loading Question Data. Please Wait... ")))))},n.displayAlert=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:n.state.open,onClose:n.handleClose,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},o.a.createElement(pa.a,{id:"form-dialog-title"},"Alert"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,o.a.createElement(O.a,{variant:"h6"},"Do you really want to update the question?"))),o.a.createElement(ia.a,null,n.state.isProcessing?o.a.createElement(Gt.a,{size:26}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{onClick:n.insertQues,color:"primary"},"Yes"),o.a.createElement(Re.a,{onClick:n.handleClose,color:"primary"},"No")))))},n.insertQues=function(){n.setState({isProcessing:!0});var e=[],t=[],a=[],o=[],r=new FormData,l=Ci[0].question,s=l.match(/src/g),i="",c="",d=[],p=[],u=[],m=[],h="",g="",f="",y=[],E="",v="",b="",S=[],C=[],I=new Date,D=I.getFullYear()+"-"+(I.getMonth()+1)+"-"+I.getDate()+"_"+(I.getHours()+"-"+I.getMinutes()+"-"+I.getSeconds());if(null==s)i=l;else{for(var x=s.length,k=0;k<x;k++)if(0==k){p[0]=l.substring(0,l.search("src")+3),p[0]=p[0].substring(0,p[0].search("img")+3)+' style="max-height:100%;max-width:100%"'+p[0].substring(p[0].search("img")+3);var w=l.substring(l.search("src")+5,l.substring("src").indexOf(" ",l.indexOf("src"))-1);if(w.includes(V))m[k]=w.substring(w.indexOf("images/")+7),h=m[k],f="imageQuestion",g="-",u[0]=l.substring(l.substring("src").indexOf(" ",l.indexOf("src"))),i=p[0]+'="'+w+'"';else{var O=l.substring(l.search("alt")+5,l.substring("alt").indexOf(" ",l.indexOf("alt"))-1).split(".");m[k]=O[0]+"_"+D+"."+O[1],S[k]=l.substring(l.search("src")+5,l.substring("src").indexOf(" ",l.indexOf("src"))-1),h=m[k],f="imageQuestion",g=m[k],d[0]='="'+V+"media/images/"+m[k]+'" ',u[0]=l.substring(l.substring("src").indexOf(" ",l.indexOf("src"))),i=p[0]+d[0],e.push(S[k]),a.push(m[k])}}else{u[k]=u[k-1].substring(u[k-1].substring("src").indexOf(" ",u[k-1].indexOf("src"))),p[k]=u[k-1].substring(0,u[k-1].search("src")+5),p[k]=p[k].substring(0,p[k].search("img")+3)+' style="max-height:100%;max-width:100%"'+p[k].substring(p[k].search("img")+3);var A=u[k-1].substring(u[k-1].search("src")+5,u[k-1].substring("src").indexOf(" ",u[k-1].indexOf("src"))-1);if(A.includes(V))m[k]=A.substring(A.indexOf("images/")+7),h=h+","+m[k],f+=",imageQuestion",g+=",-",i+=p[k].substring(0,p[k].length-2)+'="'+A+'"';else{S[k]=u[k-1].substring(u[k-1].search("src")+5,u[k-1].substring("src").indexOf(" ",u[k-1].indexOf("src"))-1);O=u[k].substring(u[k].search("alt")+5,u[k].substring("alt").indexOf(" ",u[k].indexOf("alt"))-1).split(".");m[k]=O[0]+"_"+D+"."+O[1],h=h+","+m[k],f+=",imageQuestion",g+=",media/images/"+m[k],d[k]=V+"media/images/"+m[k]+'" ',i+=p[k]+d[k],e.push(S[k]),a.push(m[k])}}i+=u[x-1]}if(l=Ci[1].question,null==(s=Ci[1].question.match(/src/g)))c=l;else{for(var T=s.length,L=0;L<T;L++)if(0==L){p[0]=l.substring(0,l.search("src")+3),p[0]=p[L].substring(0,p[0].search("img")+3)+' style="max-height:100%;max-width:100%"'+p[0].substring(p[0].search("img")+3);var N=l.substring(l.search("src")+5,l.substring("src").indexOf(" ",l.indexOf("src"))-1);if(N.includes(V))y[L]=N.substring(N.indexOf("images/")+7),E=y[L],b="imageAnsExplanation",v="-",u[0]=l.substring(l.substring("src").indexOf(" ",l.indexOf("src"))),i=p[0]+'="'+N+'"';else{O=l.substring(l.search("alt")+5,l.substring("alt").indexOf(" ",l.indexOf("alt"))-1).split(".");y[L]=O[0]+"_"+D+"."+O[1],C[L]=l.substring(l.search("src")+5,l.substring("src").indexOf(" ",l.indexOf("src"))-1),E=y[L],b="imageAnsExplanation",v=y[L],d[0]='="'+V+"media/images/"+y[L]+'" ',u[0]=l.substring(l.substring("src").indexOf(" ",l.indexOf("src"))),c=p[0]+d[0],t.push(C[L]),o.push(y[L])}}else{u[L]=u[L-1].substring(u[L-1].substring("src").indexOf(" ",u[L-1].indexOf("src"))),p[L]=u[L-1].substring(0,u[L-1].search("src")+5),p[L]=p[L].substring(0,p[L].search("img")+3)+' style="max-height:100%;max-width:100%"'+p[L].substring(p[L].search("img")+3);var B=u[L-1].substring(u[L-1].search("src")+5,u[L-1].substring("src").indexOf(" ",u[L-1].indexOf("src"))-1);if(B.includes(V))i+=p[L].substring(0,p[L].length-2)+'="'+B+'"',y[L]=B.substring(B.indexOf("images/")+7),E=y[L],b="imageAnsExplanation",v+=",-";else{C[L]=u[L-1].substring(u[L-1].search("src")+5,u[L-1].substring("src").indexOf(" ",u[L-1].indexOf("src"))-1);O=u[L].substring(u[L].search("alt")+5,u[L].substring("alt").indexOf(" ",u[L].indexOf("alt"))-1).split(".");y[L]=O[0]+"_"+D+"."+O[1],E=E+","+y[L],v+=",media/images/"+y[L],b+=",imageAnsExplanation",d[L]=V+"media/images/"+y[L]+'" ',c+=p[L]+d[L],t.push(C[L]),o.push(y[L])}}c+=u[T-1]}var j="";j=""==Si[0].desc?"":bi[Si[0].desc-1].desc,n.returnBLOB(e,a,r),n.returnBLOB(t,o,r);for(var q,P=[],R=[],G=0,z=0;z<bi.length;z++)if(""!=bi[z].price){O=bi[z].price.name.split(".");P[z]=O[0]+"_"+D+"."+O[1],R[G]=z,G+=1}else P[z]="";q={questionTranslationID:{questionID:{countryID:{name:n.state.dataX.countryName},domainCodeID:{codeName:Ii[3].detail},questionTypeCodeID:{codeName:n.state.dataX.questionType}},languageCodeID:{codeName:n.state.dataX.language},modified_by:localStorage.getItem("username"),Identifier:Ii[1].detail,translation:{translation:{caption:Ii[0].detail,background:i,explanation:c},quesAgeID:{quesData:Ti,DeletedQuesData:Ai},quescsskills:Ii[2].detail,imageID:{ImageName:h,ImageTypeCodeID:{codeName:f},uploadedFile:"media/images/"+g},imageAnsID:{ImageName:E,ImageTypeCodeID:{codeName:b},uploadedFile:"media/images/"+v}}},optionTranslationID:{languageCodeID:{codeName:n.state.dataX.language},translationO:{translationO:{option1:{caption:{option:bi[0].desc},imageID:{ImageName:P[0],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+P[0]}},option2:{caption:{option:bi[1].desc},imageID:{ImageName:P[1],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+P[1]}},option3:{caption:{option:bi[2].desc},imageID:{ImageName:P[2],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+P[2]}},option4:{caption:{option:bi[3].desc},imageID:{ImageName:P[3],ImageTypeCodeID:{codeName:"imageOption"},uploadedFile:"media/images/"+P[3]}},correctOption:j,ansText:Si[1].desc}}}},r.append("data",JSON.stringify(q));for(var _=0;_<R.length;_++)r.append("image",bi[R[_]].price,P[R[_]]);setTimeout((function(){Q.a.post(V+"api/cmp/updateQuestion/"+n.state.dataX.quesTransID+"/",r,{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.clearData(),setTimeout((function(){n.setState({uploadSuccess:!0,isProcessing:!1,open:!1,activeStep:5})}),2e3),setTimeout((function(){n.redirect()}),2e3)})).catch((function(e){n.setState({openError:!0,isProcessing:!1,open:!1,activeStep:4})}))}),1e4)},n.clearData=function(){bi[0].desc="",bi[0].price="",bi[0].imgURL="",bi[1].desc="",bi[1].price="",bi[1].imgURL="",bi[2].desc="",bi[2].price="",bi[2].imgURL="",bi[3].desc="",bi[3].price="",bi[3].imgURL="",Ci[1].question=null,Ci[0].question=null,Ii[0].detail="",Ii[1].detail="",Ii[2].detail="",Ii[3].detail="",Ii[4].detail="",Ii[5].detail="",Si[1].desc="",Si[0].desc="",Si[0].price="",Ti.length=0,Ai.length=0},n.handleNext=function(){switch(n.state.activeStep){case 0:if(function(){var e=!1;""==document.getElementById("caption").value&&(document.getElementById("errCap").style.display="block",e=!0),""==document.getElementById("identifier").value&&(document.getElementById("errCap").style.display="block",e=!0),""==Ii[3].detail&&(document.getElementById("errDomain").style.display="block",e=!0),null==Ii[2].detail&&(document.getElementById("errClassi").style.display="block",e=!0),Ji[0].desc=1==e?"error":""}(),"error"===Ji[0].desc)return;break;case 2:if(function(){var e=!1;null==document.getElementById("ansText")?(""==document.getElementById("option1").value&&(document.getElementById("errOption1").style.display="block",e=!0),""==document.getElementById("option2").value&&(document.getElementById("errOption2").style.display="block",e=!0),""==document.getElementById("option3").value&&(document.getElementById("errOption3").style.display="block",e=!0),""==document.getElementById("option4").value&&(document.getElementById("errOption4").style.display="block",e=!0),""==Ui&&(document.getElementById("errCorrectAns").style.display="block",e=!0)):""==document.getElementById("ansText").value&&(document.getElementById("errAnsText").style.display="block",e=!0),Ji[2].desc=1==e?"error":""}(),"error"===Ji[2].desc)return}switch(n.setState({activeStep:n.state.activeStep+1}),n.state.activeStep){case 0:return Oi();case 1:return function(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Ci[0].question=e.substring(t,a);var n=Ci[0].question.substring(0,Ci[0].question.indexOf("contenteditable")-1),o=Ci[0].question.substring(Ci[0].question.indexOf("tabindex")-2);Ci[0].question=n+o}();case 2:return void(null==document.getElementById("ansText")?(bi[0].desc=document.getElementById("option1").value,bi[0].price=Qi,bi[1].desc=document.getElementById("option2").value,bi[1].price=Vi,bi[2].desc=document.getElementById("option3").value,bi[2].price=Wi,bi[3].desc=document.getElementById("option4").value,bi[3].price=Hi,Si[1].desc=""):(Si[1].desc=document.getElementById("ansText").value,bi[0].desc="",bi[1].desc="",bi[2].desc="",bi[3].desc="",Si[0].desc=""));case 3:return function(){var e=document.getElementsByClassName("control-section")[0].outerHTML,t=e.indexOf("e-rte-content"),a=e.indexOf("e-rte-character-count");t-=12,a-=13,Ci[1].question=e.substring(t,a);var n=Ci[1].question.substring(0,Ci[1].question.indexOf("contenteditable")-1),o=Ci[1].question.substring(Ci[1].question.indexOf("tabindex")-2);Ci[1].question=n+o}();case 4:return n.setState({open:!0});case 5:return}},n.handleBack=function(){n.setState({activeStep:n.state.activeStep-1})},n.redirect=function(){setTimeout((function(){n.setState({onClick:!0})}),2e3)},n.redirectToAgeGroups=function(){n.setState({onClickAge:!0})},n.handleAlertClose=function(){n.setState({openError:!1})},n.state={dataX:n.props.location.data,activeStep:0,onClick:!1,onClickAge:!1,emailID:"",errorEmailID:!1,open:!1,isProcessing:!1,uploadSuccess:!1,rerender:!1,openRerender:!0,urlo1:"",urlo2:"",urlo3:"",urlo4:"",qimglist:[],url:"",openError:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s,i,c,d,p,u,m,h,g=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,rc=this.props.location.data.questionType,this.clearData(),e.next=5,Q.a.get(V+"api/com/getDomain/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 5:for(t=e.sent,$i.length=0,a=0;a<t.data.length;a++)$i.push(t.data[a].codeName);return e.next=10,Q.a.get(V+"api/com/getSkills/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 10:for(n=e.sent,ec.length=0,o=0;o<n.data.length;o++)ec.push(n.data[o].codeName);return e.next=15,Q.a.get(V+"api/com/getQuestionLevel/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 15:for(r=e.sent,tc.length=0,l=0;l<r.data.length;l++)tc.push(r.data[l].codeName);return e.next=20,Q.a.get(V+"api/cmp/viewAgeGroup/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 20:for(s=e.sent,ac.length=0,nc.length=0,i=0;i<s.data.length;i++)ac.push(s.data[i].AgeGroupName),nc.push(s.data[i].AgeGroupID);return e.next=26,Q.a.get(V+"api/cmp/getAgeGroupsPerQues/"+this.state.dataX.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){g.setState({openError:!0})}));case 26:if((c=e.sent).data.length>0)for(d=c.data[0].AgeGroupID.AgeGroupName,p=c.data[0].questionLevelCodeID.codeName,u=c.data[0].AgeGroupID.AgeGroupID,m=1;m<c.data.length;m++)d+=","+c.data[m].AgeGroupID.AgeGroupName,p+=","+c.data[m].questionLevelCodeID.codeName,u+=","+c.data[m].AgeGroupID.AgeGroupID;return Ii[0].detail=this.state.dataX.caption,Ii[1].detail=this.state.dataX.identifier,this.state.dataX.csSkills,Ii[2].detail=this.state.dataX.csSkills.join(),Ii[3].detail=this.state.dataX.domainName,Ci[0].question=this.state.dataX.background,Ci[1].question=this.state.dataX.explanation,Ii[4].detail=d,Ii[5].detail=p,oc=u,bi[0].desc=this.state.dataX.option1,bi[1].desc=this.state.dataX.option2,bi[2].desc=this.state.dataX.option3,bi[3].desc=this.state.dataX.option4,Si[0].price=this.state.dataX.correctOption,Si[1].desc=this.state.dataX.ansText,e.next=46,Q.a.get(V+"api/ques/getImages/"+this.state.dataX.questionID+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 46:"empty"!=(h=e.sent).data.oimg1&&h.data.oimg1.length>0&&h.data.oimg2.length>0&&h.data.oimg3.length>0&&h.data.oimg4.length>0&&(this.setState({urlo1:V+h.data.oimg1[0].uploadedFile,urlo2:V+h.data.oimg2[0].uploadedFile,urlo3:V+h.data.oimg3[0].uploadedFile,urlo4:V+h.data.oimg4[0].uploadedFile,opt1:"",opt2:"",opt3:"",opt4:""}),bi[0].oldName=h.data.oimg1[0].uploadedFile,bi[1].oldName=h.data.oimg2[0].uploadedFile,bi[2].oldName=h.data.oimg3[0].uploadedFile,bi[3].oldName=h.data.oimg4[0].uploadedFile),bi[0].imgURL=this.state.urlo1,bi[1].imgURL=this.state.urlo2,bi[2].imgURL=this.state.urlo3,bi[3].imgURL=this.state.urlo4,this.setState({openRerender:!1,rerender:!0}),e.next=58;break;case 55:e.prev=55,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 58:case"end":return e.stop()}}),e,this,[[0,55]])})));return function(){return e.apply(this,arguments)}}()},{key:"returnBLOB",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a,n){var o,r,l,s;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=11;break}return e.next=4,fetch(t[o]).then((function(e){return e.blob()}));case 4:r=e.sent,l="image/"+a[o].split(".")[1],s=new File([r],a[o],{type:l},{lastModified:Date.now()}),n.append("image",s,a[o]);case 8:o++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{open:this.state.open_error,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),this.displayLoadingQues(),this.state.onClick?o.a.createElement(y.a,{to:"/app/questions"}):null,o.a.createElement("main",{className:e.layout},o.a.createElement(Ze.a,{className:e.paper},o.a.createElement(O.a,{component:"h1",variant:"h4",align:"center"},"Question"),o.a.createElement(ya.a,{activeStep:this.state.activeStep,className:e.stepper,alternativeLabel:!0},Zi.map((function(e){return o.a.createElement(Ea.a,{key:e},o.a.createElement(va.a,null,e))}))),o.a.createElement(o.a.Fragment,null,this.state.activeStep===Zi.length?o.a.createElement(o.a.Fragment,null,this.state.open?o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Processing..."):o.a.createElement(O.a,{style:{marginLeft:"30%"},variant:"h5",gutterBottom:!0},"Your question has been updated successfully.")):o.a.createElement(o.a.Fragment,null,this.state.rerender?function(e){switch(e){case 0:return o.a.createElement(Mi,null);case 1:return o.a.createElement(Fi,null);case 2:return o.a.createElement(Yi,null);case 3:return o.a.createElement(Xi,null);case 4:return o.a.createElement(xi,null)}}(this.state.activeStep):null,o.a.createElement("div",{className:e.buttons},0!==this.state.activeStep&&o.a.createElement(Re.a,{onClick:this.handleBack,className:e.button},"Back"),o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button},this.state.activeStep===Zi.length-1?"Confirm question":"Next")))),this.displayAlert())))}}]),a}(o.a.PureComponent),sc=Object(Qe.a)((function(e){return{appBar:{position:"relative"},layout:Object(E.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{marginLeft:"160px",marginRight:"auto"}),paper:Object(E.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{width:"900px",marginTop:e.spacing(6),marginLeft:"2%",marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}))(lc);function ic(){var e=Object(xt.a)(["\n  width: ",";\n  height:",";\n  "]);return ic=function(){return e},e}var cc=Lt.a.div(ic(),(function(e){return e.width}),(function(e){return e.height})),dc=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,""==Kl[0].AddressLine1&&this.props.history.push("/app/dashboard"),t=new Tt.a,a=Kl[0].AddressLine1+", "+Kl[0].AddressLine2+", "+Kl[0].City+", "+Kl[0].District+", "+Kl[0].State+", "+Kl[0].Pincode,e.next=6,t.search({query:a});case 6:n=e.sent,this.map=wt.a.map("map",{center:[n[0].y,n[0].x],zoom:10,zoomControl:!0}),wt.a.tileLayer(K,{maxZoom:20,maxNativeZoom:17}).addTo(this.map),wt.a.control.scale().addTo(this.map),o=wt.a.icon({iconUrl:At.a,iconSize:[61,70],shadowSize:[50,64],iconAnchor:[22,49],shadowAnchor:[4,62],popupAnchor:[-3,-50]}),wt.a.marker([n[0].y,n[0].x],{icon:o}).addTo(this.map).bindPopup("<b>"+Kl[0].schoolName+"</b><br></br>"+Kl[0].AddressLine1+" "+Kl[0].AddressLine2+" "+Kl[0].City),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(cc,{width:"95%",height:"90%",id:"map"}),o.a.createElement("div",{className:"sidenav"},o.a.createElement("a",{href:"#/app/school/directions",className:"directions"},o.a.createElement(zl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Directions"),o.a.createElement("a",{href:"#/app/school/ContactInfo",className:"contact"},o.a.createElement(Ul.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Contact Info"),o.a.createElement("a",{href:"#/app/school/RegisteredBy",className:"registeredBy"},o.a.createElement(Ml.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Registered By"),o.a.createElement("a",{href:"#/app/school/StudentDetails",className:"studentsEnrolled"},o.a.createElement(Vl.a,{style:{marginLeft:"-40px",marginRight:"20px"}}),"Student Details"),o.a.createElement("a",{href:"#/app/school/download",className:"download"},o.a.createElement(Hl.a,{style:{marginLeft:"-40px",marginRight:"50px"}}),"Download")))}}]),a}(n.Component),pc=a(684),uc=a.n(pc),mc=a(683),hc=a.n(mc),gc=a(150),fc=a.n(gc),yc=[{value:"National Toppers",label:"National Toppers"},{value:"School Toppers",label:"School Toppers"},{value:"Participants",label:"Participants"}],Ec="",vc="",bc="",Sc="",Cc="",Ic="",Dc="",xc="",kc="",wc="",Oc="",Ac=[];function Tc(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var Lc=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleToggle=function(){n.setState({openprogress:!0})},n.handleCloseProgress=function(){n.setState({openprogress:!1})},n.handleCloseS1=function(e,t){"clickaway"!==t&&n.setState({openS1:!1})},n.handleCloseS2=function(e,t){"clickaway"!==t&&n.setState({openS2:!1})},n.handleCloseS3=function(e,t){"clickaway"!==t&&n.setState({openS3:!1})},n.handleCloseS4=function(e,t){"clickaway"!==t&&n.setState({openS4:!1})},n.handleCloseS5=function(e,t){"clickaway"!==t&&n.setState({openS5:!1})},n.handleCloseS6=function(e,t){"clickaway"!==t&&n.setState({openS6:!1})},n.handleCloseS7=function(e,t){"clickaway"!==t&&n.setState({openS7:!1})},n.handleCloseS8=function(e,t){"clickaway"!==t&&n.setState({openS8:!1})},n.handleCloseS9=function(e,t){"clickaway"!==t&&n.setState({openS9:!1})},n.handleCloseS10=function(e,t){"clickaway"!==t&&n.setState({openS10:!1})},n.handleCloseS11=function(e,t){"clickaway"!==t&&n.setState({openS11:!1})},n.handleCloseError=function(){n.setState({openError:!1})},n.componentDidMount=function(){Ec="",wc="",vc="",bc="",Sc="",Cc="",Ic="",Dc="",xc="",Oc="",kc="",n.setState({rerenderer:!n.state.rerenderer}),document.getElementById("filename").innerHTML="No file chosen",xc="Select Certificate Category..",Q()({method:"get",url:V+"api/cmp/viewAgeGroup/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){Ac.length=0;for(var t=0;t<e.data.length;t++)Ac.push({value:e.data[t].AgeGroupID,label:e.data[t].AgeGroupName})})).catch((function(e){n.setState({openError:!0})}))},n.onFileChange=function(e){if(null!=(Ec=e.target.files[0])){document.getElementById("filename").innerHTML=Ec.name;var t=Ec.name.substring(Ec.name.length-5,Ec.name.length);if(".pptx"!=t)n.setState({openError:!0});else{var a=new Date,o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+"_"+(a.getHours()+"-"+a.getMinutes()+"-"+a.getSeconds());"Participants"==xc.value?kc="Bebras_Certificate_Participation_"+o+t:"School Toppers"==xc.value?kc="Bebras_Certificate_School_Toppers_"+o+t:"National Toppers"==xc.value&&(kc="Bebras_Certificate_National_Toppers_"+o+t)}}},n.handlePreview=function(){var e;""==wc?n.setState({openS1:!0}):(n.handleToggle(),"Participants"==wc.value&&(e="Participation"),"School Toppers"==wc.value&&(e="School_Toppers"),"National Toppers"==wc.value&&(e="National_Toppers"),Q()({method:"get",url:V+"api/cmp/getLatestTemplate/"+e+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){var t=e.data;fetch(V+"media/ppt/"+e.data,{headers:{"Content-Type":"application/pdf"}}).then((function(e){return e.blob().then((function(e){var a=window.URL.createObjectURL(e),o=document.createElement("a");o.href=a,o.download=t,o.click(),wc="",n.handleCloseProgress(),n.setState({openS2:!0})}))}))})).catch((function(e){n.handleCloseProgress(),n.setState({openS3:!0})})))},n.handlePreviewTypeChange=function(e){n.setState({previewType:e}),wc=e},n.check=function(){null==xc.value&&(n.setState({openS1:!0}),document.getElementById("file").disabled=!0)},n.handleTypeChange=function(e){n.setState({uploadType:e}),xc=e,document.getElementById("file").disabled=!1,document.getElementById("filename").innerHTML="No file chosen"},n.handleUpload=function(){if(""==Ec)n.setState({openS4:!0});else if("No file chosen"==document.getElementById("filename").innerHTML)n.setState({openS4:!0});else{n.handleToggle();var e=new FormData;e.append("ppt",Ec,kc),Q()({method:"post",url:V+"api/cmp/customizePPT/",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){n.handleCloseProgress(),xc="",n.setState({openS5:!0})})).catch((function(e){n.handleCloseProgress(),n.setState({openS6:!0})}))}},n.handleAgeGroupInsert=function(){n.props.history.push({pathname:"/app/competitions/addGroups"})},n.handleAgeGroupUpdate=function(){if(""==Oc)n.setState({openS10:!0});else{var e=new FormData;e.append("AgeID",Oc.value),Q()({method:"post",url:V+"api/cmp/checkUpdateAgeGrp/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){"Update"==e.data?n.props.history.push({pathname:"/app/updateAgeGrps",data:Oc.value+","+Oc.label}):"AgeGroup can't be updated"==e.data&&n.setState({openS11:!0})})).catch((function(e){n.setState({openError:!0})}))}},n.handleAgeGroupChange=function(e){Oc=e,n.setState({rerenderer:!n.state.rerenderer})},n.handleLanguageInsert=function(){if(Dc="Language",n.setState({rerenderer:!n.state.rerenderer}),""==bc)n.setState({openS7:!0});else{var e=new FormData;e.append("language",bc),Q()({method:"post",url:V+"api/com/insertLanguage/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.data?(document.getElementById("language").value="",bc="",n.setState({openS8:!0})):-1==e.data&&(document.getElementById("language").value="",bc="",n.setState({openS9:!0}))})).catch((function(e){n.setState({openError:!0})}))}},n.handleSkillInsert=function(){if(Dc="Skill",n.setState({rerenderer:!n.state.rerenderer}),""==vc)n.setState({openS7:!0});else{var e=new FormData;e.append("skill",vc),Q()({method:"post",url:V+"api/com/insertSkill/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.data?(document.getElementById("skill").value="",vc="",n.setState({openS8:!0})):-1==e.data&&(document.getElementById("skill").value="",vc="",n.setState({openS9:!0}))})).catch((function(e){n.setState({openError:!0})}))}},n.handleLevelInsert=function(){if(Dc="Question Level",n.setState({rerenderer:!n.state.rerenderer}),""==Cc)n.setState({openS7:!0});else{var e=new FormData;e.append("level",Cc),Q()({method:"post",url:V+"api/com/insertLevel/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.data?(document.getElementById("level").value="",Cc="",n.setState({openS8:!0})):-1==e.data&&(document.getElementById("level").value="",Cc="",n.setState({openS9:!0}))})).catch((function(e){n.setState({openError:!0})}))}},n.goToPortalPage=function(){window.location.replace("http://54.196.61.229:3001/bulkresponseupload")},n.handleSchoolGroupInsert=function(){if(Dc="School Group",n.setState({rerenderer:!n.state.rerenderer}),""==Ic)n.setState({openS7:!0});else{var e=new FormData;e.append("schoolGroup",Ic),Q()({method:"post",url:V+"api/com/insertSchoolGrps/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.data?(document.getElementById("schgrp").value="",Ic="",n.setState({openS8:!0})):-1==e.data&&(document.getElementById("schgrp").value="",Ic="",n.setState({openS9:!0}))})).catch((function(e){n.setState({openError:!0})}))}},n.handleDomainInsert=function(){if(Dc="Domain",n.setState({rerenderer:!n.state.rerenderer}),""==Sc)n.setState({openS7:!0});else{var e=new FormData;e.append("domain",Sc),Q()({method:"post",url:V+"api/com/insertDomain/",data:e,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.data?(document.getElementById("domain").value="",Sc="",n.setState({openS8:!0})):-1==e.data&&(document.getElementById("domain").value="",Sc="",n.setState({openS9:!0}))})).catch((function(e){n.setState({openError:!0})}))}},n.handleLanguage=function(e){bc=e,n.setState({rerenderer:!n.state.rerenderer})},n.handleDomain=function(e){Sc=e,n.setState({rerenderer:!n.state.rerenderer})},n.handleSkill=function(e){vc=e,n.setState({rerenderer:!n.state.rerenderer})},n.handleLevel=function(e){Cc=e,n.setState({rerenderer:!n.state.rerenderer})},n.handleGroup=function(e){Ic=e,n.setState({rerenderer:!n.state.rerenderer})},n.downloadTemplate=function(){fetch(V+"media/csv/BulkUploadTemplate.csv",{headers:{"Content-Type":"application/pdf"}}).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="Bulk Upload Template.csv",a.click(),n.handleCloseProgress(),n.setState({openS2:!0})}))})).catch((function(e){n.handleCloseProgress(),n.setState({openS3:!0})}))},n.state={uploadType:"",previewType:"",openS1:!1,openS2:!1,openS3:!1,openS4:!1,openS5:!1,openS6:!1,openS7:!1,openS8:!1,openS9:!1,openS10:!1,openS11:!1,openError:!1,rerenderer:!1},n}return Object(Ae.a)(a,[{key:"handleDownload",value:function(){var e,t=this;fetch(V+"media/ppt/output006.pdf",{headers:{"Content-Type":"application/pdf"}}).then((function(a){a.blob().then((function(a){var n=window.URL.createObjectURL(a);(e=document.createElement("a")).href=n,e.download="Certificate PDF.pdf",e.click(),wc="",t.setState({rerenderer:!t.state.rerenderer})}))}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",null,o.a.createElement(Je,{title:"Settings"}),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS1,severity:"warning"},"Select Certificate Category!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS2,severity:"success"},"Download Successful!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleCloseS3,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS3,severity:"error"},"Error Occured! Download Failed!")),o.a.createElement(D.a,{open:this.state.openS4,autoHideDuration:3e3,onClose:this.handleCloseS4,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS4,severity:"warning"},"Select File First!")),o.a.createElement(D.a,{open:this.state.openS5,autoHideDuration:3e3,onClose:this.handleCloseS5,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS5,severity:"success"},"File Upload Successful!")),o.a.createElement(D.a,{open:this.state.openS6,autoHideDuration:3e3,onClose:this.handleCloseS6,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS6,severity:"error"},"Error Occured! Upload Failed!")),o.a.createElement(D.a,{open:this.state.openS7,autoHideDuration:3e3,onClose:this.handleCloseS7,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS7,severity:"warning"},"Enter ",Dc," First!")),o.a.createElement(D.a,{open:this.state.openS8,autoHideDuration:3e3,onClose:this.handleCloseS8,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS8,severity:"success"},"Successfully Added ",Dc," !")),o.a.createElement(D.a,{open:this.state.openS9,autoHideDuration:3e3,onClose:this.handleCloseS9,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS9,severity:"warning"},Dc," already exists!")),o.a.createElement(D.a,{open:this.state.openS10,autoHideDuration:3e3,onClose:this.handleCloseS10,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS10,severity:"warning"},"Select AgeGroup First!")),o.a.createElement(D.a,{open:this.state.openS11,autoHideDuration:3e3,onClose:this.handleCloseS10,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Tc,{onClose:this.handleCloseS11,severity:"warning"},"Update Not Possible!")),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Download Template for Bulk Upload of Questions"),o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",style:{margin:"2%"},startIcon:o.a.createElement(Hl.a,null),onClick:this.downloadTemplate},"Download Bulk Upload Template"))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Download Existing Certificate Template")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{width:"30%",zIndex:"300"}},o.a.createElement(dt.a,{value:wc,onChange:this.handlePreviewTypeChange,options:yc,placeholder:"Select Certificate Category.."})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",startIcon:o.a.createElement(Hl.a,null),onClick:this.handlePreview},"Download Existing Template")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Upload New Certificate Template")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{width:"30%",zIndex:"200"}},o.a.createElement(dt.a,{value:xc,onChange:this.handleTypeChange,options:yc,placeholder:"Select Certificate Category.."})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",onClick:this.check,startIcon:o.a.createElement(hc.a,null)},"Choose File",o.a.createElement("input",{id:"file",type:"file",accept:".pptx",style:{display:"none"},onChange:this.onFileChange,disabled:!1}))),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"-1%",marginTop:"1.5%"}},o.a.createElement("p",{id:"filename",style:{marginTop:"1.5%"}},"No file Chosen")),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleUpload,startIcon:o.a.createElement(uc.a,null),component:"label"},"Upload")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Add New Language")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(et.a,{id:"language",placeholder:"Enter New Language",variant:"outlined",onChange:function(t){return e.handleLanguage(t.target.value)},defaultValue:bc,label:"Language",style:{width:"120%"},InputProps:{classes:{input:t.input1}},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"1%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleLanguageInsert,startIcon:o.a.createElement(ko.a,null),component:"label"},"Add Language")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Add New Domain")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(et.a,{id:"domain",placeholder:"Enter New Domain",variant:"outlined",label:"Domain",onChange:function(t){return e.handleDomain(t.target.value)},defaultValue:Sc,style:{width:"120%"},InputProps:{classes:{input:t.input1}},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"1%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleDomainInsert,startIcon:o.a.createElement(ko.a,null),component:"label"},"Add Domain")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Add New Question Level")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(et.a,{id:"level",placeholder:"Enter New Question Level",variant:"outlined",defaultValue:Cc,onChange:function(t){return e.handleLevel(t.target.value)},label:"Question Level",style:{width:"120%"},InputProps:{classes:{input:t.input1}},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"1%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleLevelInsert,startIcon:o.a.createElement(ko.a,null),component:"label"},"Add Question Level")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Add New Skill")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(et.a,{id:"skill",placeholder:"Enter New Skill",variant:"outlined",defaultValue:vc,label:"Skill",onChange:function(t){return e.handleSkill(t.target.value)},style:{width:"120%"},InputProps:{classes:{input:t.input1}},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"1%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleSkillInsert,startIcon:o.a.createElement(ko.a,null),component:"label"},"Add Skill")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Add New School Group")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(et.a,{id:"schgrp",placeholder:"Enter New School Group",variant:"outlined",defaultValue:Ic,label:"School Group",onChange:function(t){return e.handleGroup(t.target.value)},style:{width:"120%"},InputProps:{classes:{input:t.input1}},InputLabelProps:{shrink:!0}})),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"5%",marginTop:"1%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleSchoolGroupInsert,startIcon:o.a.createElement(ko.a,null),component:"label"},"Add School Group")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{marginTop:"15px"}},"Add Offline Responses")),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"10%",marginTop:"2.5%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.goToPortalPage,startIcon:o.a.createElement(fc.a,null),component:"label"},"Proceed")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{marginTop:"15px"}},"Add New Age Group")),o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"11.5%",marginTop:"2.5%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleAgeGroupInsert,startIcon:o.a.createElement(fc.a,null),component:"label"},"Proceed")))),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",marginLeft:"100px"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement(O.a,{variant:"h6",color:"textSecondary",style:{margin:"20px"}},"Update Age Group")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",style:{marginTop:"-3%"},p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{width:"30%",zIndex:"300"}},o.a.createElement(dt.a,{value:Oc,onChange:this.handleAgeGroupChange,options:Ac,placeholder:"Select Age Group.."})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",startIcon:o.a.createElement(fc.a,null),onClick:this.handleAgeGroupUpdate},"Proceed")))),o.a.createElement(Do.a,{className:t.backdrop,open:this.state.openprogress,onClick:this.handleCloseProgress},o.a.createElement(Gt.a,{color:"primary"})))}}]),a}(n.Component),Nc=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},input1:{height:6}}}))(Lc);function Bc(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var jc="",qc=[],Pc=[],Rc="",Gc=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleCloseS1=function(e,t){"clickaway"!==t&&n.setState({openS1:!1})},n.handleCloseS2=function(e,t){"clickaway"!==t&&n.setState({openS2:!1})},n.handleGroupNameChange=function(e){n.setState({group:e,error_groupname:!1})},n.handleChange=function(e){n.setState({selectedOption:e,error_class:!1}),n.setState({rerenderer:!n.state.rerenderer})},n.handleChangeLang=function(e){n.setState({lang:e,error_groupname:!1})},n.onSubmit=function(){if(jc=[],""==n.state.group&&n.setState({error_groupname:!0}),null==n.state.selectedOption)n.setState({error_class:!0});else{for(var e=0;e<n.state.selectedOption.length;e++)jc.push(n.state.selectedOption[e].value);0==n.state.error_groupname&&0==n.state.error_class&&(Rc=n.state.group+"-"+n.state.lang,n.fetchData())}},n.state={error_groupname:!1,error_class:!1,error_lang:!1,selectedOption:null,selectedLang:null,PrevClassList:[],classList:[],rerenderer:!1,ageId:"",group:"",lang:"",openS1:!1,openS2:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o,r,l,s=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({ageId:this.props.location.data.split(",")[0]}),e.next=4,Q.a.get(V+"api/cmp/getClassAgeWise/"+this.props.location.data.split(",")[0]+"/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openS2:!0})}));case 4:for(t=e.sent,this.setState({PrevClassList:t.data}),qc.length=0,a=0;a<this.state.PrevClassList.length;a++)n=this.state.PrevClassList[a].ClassID.classNo,qc.push({value:n,label:n});return this.setState({selectedOption:qc}),e.next=11,Q.a.get(V+"api/com/getClasses/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){s.setState({openS2:!0})}));case 11:for(o=e.sent,this.setState({classList:o.data}),Pc.length=0,r=0;r<this.state.classList.length;r++)l=this.state.classList[r].classNo,Pc.push({value:l,label:l});Rc=this.props.location.data.split(",")[1].split("-"),this.setState({group:Rc[0],lang:Rc[1]}),this.setState({rerenderer:!this.state.rerenderer}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),this.props.history.push("/app/dashboard");case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post(V+"api/cmp/updateAgeGrp/",{AgeID:this.state.ageId,AgeGroupName:this.state.group+"-"+this.state.lang,classes:jc},{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){t.setState({openS1:!0}),setTimeout((function(){t.props.history.push("/app/settings")}),2e3)})).catch((function(e){t.setState({openS2:!0})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Je,{title:"Update Age Group"}),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Bc,{onClose:this.handleCloseS1,severity:"success"},"Update Successful!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Bc,{onClose:this.handleCloseS2,severity:"error"},"Error Occurred!")),o.a.createElement(Ze.a,{elevation:3,style:{width:"1000px",margin:"100px"}},o.a.createElement("div",null,o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"40px"}},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Group Name")),o.a.createElement($e.a,{p:1,style:{marginTop:"30px"}},o.a.createElement(et.a,{id:"outlined-textarea",label:this.state.error_groupname?"Enter Group Name":"",helperText:this.state.error_groupname?"Required* ":"",error:this.state.error_groupname,onChange:function(t){return e.handleGroupNameChange(t.target.value)},value:this.state.group,style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter Group Name",multiline:!0,variant:"outlined",InputProps:{endAdornment:o.a.createElement(tt.a,{position:"end"},this.state.error_groupname?o.a.createElement(Ir.a,{style:{color:"red"}}):"")}}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Language")),o.a.createElement($e.a,{p:1,style:{marginLeft:"30px",width:"320px"}},o.a.createElement(et.a,{disabled:!0,id:"outlined-textarea",value:this.state.lang,style:{marginLeft:"130px",width:"300px",display:"flex"},placeholder:"Enter Language",variant:"outlined"}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h4",color:"textSecondary"},"Classes")),o.a.createElement($e.a,{p:1,style:{marginLeft:"180px",width:"320px"}},o.a.createElement(dt.a,{style:{color:"red"},value:this.state.selectedOption,onChange:this.handleChange,options:Pc,placeholder:"Select Classes...",isMulti:!0}),this.state.error_class?o.a.createElement(at.a,{style:{color:"red",marginLeft:"13px"}}," Required*"):"")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(Re.a,{onClick:this.onSubmit,variant:"contained",color:"primary",style:{marginLeft:"290px",width:"300px",display:"flex"}},"Update"))))))}}]),a}(o.a.PureComponent),zc="",_c="",Mc={value:99,label:"INDIA"},Fc="Select State..",Uc="",Qc="",Vc="",Wc="",Hc="",Kc=[],Yc="",Xc=["Student Name","Gender","Class","School","Score","Bonus","Total Score","Max. Marks","Time Taken","Rank"],Jc=[{value:"National Toppers",label:"National Toppers"},{value:"State Toppers",label:"State Toppers"},{value:"District Toppers",label:"District Toppers"},{value:"School Toppers",label:"School Toppers"},{value:"School Group Toppers",label:"School Group Toppers"},{value:"School Type Toppers",label:"School Type Toppers"}];function Zc(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var $c=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={rerender:!1,selectedcmp:"",selectedAge:"",studentsList:[],openS1:!1,openS2:!1,openS3:!1,openS4:!1,openError:!1,isProcessing:!0,noStudents:!1,competition:[],compAgeGrp:[],country:[],states:[],schools:[],groups:[],districts:[],types:[]},e.handleCloseS1=function(t,a){"clickaway"!==a&&e.setState({openS1:!1})},e.handleCloseS2=function(t,a){"clickaway"!==a&&e.setState({openS2:!1})},e.handleCloseS3=function(t,a){"clickaway"!==a&&e.setState({openS3:!1})},e.handleCloseS4=function(t,a){"clickaway"!==a&&e.setState({openS4:!1})},e.handleCloseError=function(){e.setState({openError:!1})},e.handleChangeCmp=function(t){e.setState({selectedcmp:t}),_c="",zc="",Fc="",Wc="",Uc="",Qc="",Vc="",e.setState({isProcessing:!0}),""!=(Hc=t)&&e.fetch(),_c="Select Age Group.."},e.handleChangeAge=function(t){e.setState({selectedAge:t}),e.setState({isProcessing:!0}),zc="",Fc="",Wc="",Uc="",Vc="",Qc="",_c=t,zc="Select Option..",e.fetchTotal()},e.handleCountryChange=function(t){e.setState({selectedOptionCountry:t}),Fc="",Wc="",Uc="",Vc="",Qc="",Mc=t,zc==Jc[0]?e.fetchStudents("country"):zc==Jc[1]&&(e.fetchState(),Fc="Select State.."),e.setState({rerender:!e.state.rerender})},e.handleStateChange=function(t){Wc="",Uc="",Vc="",Qc="","Select State.."!=(Fc=t)&&zc==Jc[2]?(Wc="Select District..",e.fetchDistrict()):"Select State.."!=Fc&&zc==Jc[1]&&e.fetchStudents("state"),Wc="Select District..",e.setState({rerender:!e.state.rerender})},e.handleDistrictChange=function(t){e.setState({rerender:!e.state.rerender}),Uc="",Vc="",Qc="",""!=(Wc=t)&&e.fetchStudents("district")},e.handleSchoolChange=function(t){e.setState({rerender:!e.state.rerender}),Vc="",Qc="",""!=(Uc=t)&&e.fetchStudents("school")},e.handleSchoolGroupChange=function(t){e.setState({rerender:!e.state.rerender}),""!=(Vc=t)&&e.fetchStudents("schoolgroup")},e.handleSchoolTypeChange=function(t){e.setState({rerender:!e.state.rerender}),""!=(Qc=t)&&e.fetchStudents("schooltype")},e.handleChange=function(t){document.getElementById("table").style.display="none",""!=Hc||""!=_c&&"Select Age Group.."!=_c?""==Hc?e.setState({openS2:!0}):""==_c||"Select Age Group.."==_c?e.setState({openS1:!0}):(e.setState({isProcessing:!1,studentsList:[]}),Fc="Select State..",Wc="",Vc="",Qc="",Uc="",(zc=t)==Jc[0]?(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("Type").style.display="none",document.getElementById("District").style.display="none",e.fetchCountry(),e.fetchStudents("country")):zc==Jc[1]?(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="block",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("Type").style.display="none",document.getElementById("District").style.display="none",e.fetchCountry(),e.fetchState()):zc==Jc[2]?(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="block",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("Type").style.display="none",document.getElementById("District").style.display="block",e.fetchCountry(),e.fetchState(),"Select State.."!=Fc&&e.fetchDistrict()):zc==Jc[3]?(document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("School").style.display="block",document.getElementById("Group").style.display="none",document.getElementById("Type").style.display="none",document.getElementById("District").style.display="none",e.fetchSchool()):zc==Jc[4]?(document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Type").style.display="none",document.getElementById("Group").style.display="block",document.getElementById("District").style.display="none",e.fetchGroup()):zc==Jc[5]&&(document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Type").style.display="block",document.getElementById("Group").style.display="none",document.getElementById("District").style.display="none",e.fetchType())):e.setState({openS3:!0})},e}return Object(Ae.a)(a,[{key:"calculateToppers",value:function(){return Kc.sort((function(e,t){var a=new Date,n=new Date,o=a.setHours(e.time.split(":")[0]),r=a.setMinutes(e.time.split(":")[1]),l=a.setMilliseconds(e.time.split(":")[2]),s=n.setHours(t.time.split(":")[0]),i=n.setMinutes(t.time.split(":")[1]),c=n.setMilliseconds(t.time.split(":")[2]);return t.total-e.total||o-s||r-i||l-c}))}},{key:"fetchTotal",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getTotalMarks/"+Hc.value+"&"+_c.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:t=e.sent,Yc=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({openError:!0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c="",zc="",Uc="",Qc="",Hc="",Vc="",Wc="",Fc="",this.setState({openError:!1}),this.state.competition.length=0,e.prev=10,e.next=13,Q.a.get(V+"api/cmp/getCompetition/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 13:for(t=e.sent,a=0;a<t.data.length;a++)t.data[a].competitionName.toString().includes(t.data[a].startDate.toString().split("-")[0])?this.setState((function(e){return{competition:[].concat(Object(Pt.a)(e.competition),[{value:t.data[a].competitionID,label:t.data[a].competitionName}])}})):this.setState((function(e){return{competition:[].concat(Object(Pt.a)(e.competition),[{value:t.data[a].competitionID,label:t.data[a].competitionName+" "+t.data[a].startDate.toString().split("-")[0]}])}}));e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),this.props.history.push("/app/dashboard");case 20:case"end":return e.stop()}}),e,this,[[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hc.value,this.state.compAgeGrp.length=0,e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getAgeGrpCmpWise/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:for(t=e.sent,n=0;n<t.data.AgeGrp.length;n++)this.setState((function(e){return{compAgeGrp:[].concat(Object(Pt.a)(e.compAgeGrp),[{value:t.data.AgeGrp[n].AgeGroupID,label:t.data.AgeGrp[n].AgeGroupName}])}}));e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({openError:!0});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCountry",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.country.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getCountry/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(t=e.sent,a=0;a<t.data.length;a++)this.setState((function(e){return{country:[].concat(Object(Pt.a)(e.country),[{value:t.data[a].countryID,label:t.data[a].nicename}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchState",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.states.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getStateCountryWise/"+Mc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:if(0!=(t=e.sent).data.length)for(a=0;a<t.data.length;a++)this.setState((function(e){return{states:[].concat(Object(Pt.a)(e.states),[{value:t.data[a].stateID,label:t.data[a].name}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchDistrict",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.districts.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getDistrictStateWise/"+Fc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:if(0!=(t=e.sent).data.length)for(a=0;a<t.data.length;a++)this.setState((function(e){return{districts:[].concat(Object(Pt.a)(e.districts),[{value:t.data[a].districtID,label:t.data[a].name}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSchool",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.schools.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getSchool/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(t=e.sent,a=0;a<t.data.length;a++)this.setState((function(e){return{schools:[].concat(Object(Pt.a)(e.schools),[{value:t.data[a].schoolID,label:t.data[a].schoolName+","+t.data[a].addressID.city+","+t.data[a].addressID.stateID.name+","+t.data[a].addressID.pincode}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchGroup",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.groups.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getSchoolGroups/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(t=e.sent,a=0;a<t.data.data.length;a++)this.setState((function(e){return{groups:[].concat(Object(Pt.a)(e.groups),[{value:t.data.data[a].codeID,label:t.data.data[a].codeName}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchType",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.types.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/com/getSchoolTypes/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(t=e.sent,a=0;a<t.data.data.length;a++)this.setState((function(e){return{types:[].concat(Object(Pt.a)(e.types),[{value:t.data.data[a].codeID,label:t.data.data[a].codeName}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchStudents",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("country"!=t){e.next=12;break}return e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getCountryWiseToppers/"+Hc.value+"&"+_c.value+"&"+Mc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({openError:!0});case 10:e.next=70;break;case 12:if("state"!=t){e.next=24;break}return e.prev=13,e.next=16,Q.a.get(V+"api/cmp/getStateWiseStudents/"+Hc.value+"&"+_c.value+"&"+Mc.value+"&"+Fc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 16:a=e.sent,e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),this.setState({openError:!0});case 22:e.next=70;break;case 24:if("district"!=t){e.next=36;break}return e.prev=25,e.next=28,Q.a.get(V+"api/cmp/getDistrictWiseStudents/"+Hc.value+"&"+_c.value+"&"+Mc.value+"&"+Fc.value+"&"+Wc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 28:a=e.sent,e.next=34;break;case 31:e.prev=31,e.t2=e.catch(25),this.setState({openError:!0});case 34:e.next=70;break;case 36:if("school"!=t){e.next=48;break}return e.prev=37,e.next=40,Q.a.get(V+"api/cmp/getAgeGrpWiseToppers/"+Hc.value+"&"+_c.value+"&"+Uc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 40:a=e.sent,e.next=46;break;case 43:e.prev=43,e.t3=e.catch(37),this.setState({openError:!0});case 46:e.next=70;break;case 48:if("schoolgroup"!=t){e.next=60;break}return e.prev=49,e.next=52,Q.a.get(V+"api/cmp/getSchoolGroupWiseStudents/"+Hc.value+"&"+_c.value+"&"+Vc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 52:a=e.sent,e.next=58;break;case 55:e.prev=55,e.t4=e.catch(49),this.setState({openError:!0});case 58:e.next=70;break;case 60:if("schooltype"!=t){e.next=70;break}return e.prev=61,e.next=64,Q.a.get(V+"api/cmp/getSchoolTypeWiseStudents/"+Hc.value+"&"+_c.value+"&"+Qc.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 64:a=e.sent,e.next=70;break;case 67:e.prev=67,e.t5=e.catch(61),this.setState({openError:!0});case 70:if(Kc.length=0,this.state.studentsList.length=0,0==a.data.length){e.next=86;break}for(this.setState({noStudents:!1}),n=0;n<a.data.length;n++)Kc.push({username:a.data[n].userID.username,gender:a.data[n].userID.gender.codeName,class:a.data[n].schoolClassID.classNumber,school:a.data[n].schoolClassID.schoolID.schoolName+","+a.data[n].schoolClassID.schoolID.addressID.city+","+a.data[n].schoolClassID.schoolID.addressID.stateID.name.charAt(0)+a.data[n].schoolClassID.schoolID.addressID.stateID.name.substring(1).toLowerCase()+","+a.data[n].schoolClassID.schoolID.addressID.pincode,score:a.data[n].score,bonus:a.data[n].bonusMarks,total:a.data[n].score+a.data[n].bonusMarks,max:Yc,time:a.data[n].timeTaken});this.calculateToppers(),n=0;case 77:if(!(n<Kc.length)){e.next=86;break}if(!(n>=3)){e.next=82;break}return e.abrupt("break",86);case 82:this.setState((function(e){return{studentsList:[].concat(Object(Pt.a)(e.studentsList),[{username:Kc[n].username,gender:Kc[n].gender,class:Kc[n].class,school:Kc[n].school,score:Kc[n].score,bonus:Kc[n].bonus,total:Kc[n].total,max:Kc[n].max,time:Kc[n].time,rank:n+1}])}}));case 83:n++,e.next=77;break;case 86:0!=this.state.studentsList.length?(this.setState({isProcessing:!1}),document.getElementById("table").style.display="block"):(this.setState({openS4:!0,isProcessing:!0,noStudents:!0}),document.getElementById("table").style.display="none");case 87:case"end":return e.stop()}}),e,this,[[1,7],[13,19],[25,31],[37,43],[49,55],[61,67]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Je,{title:"Toppers"}),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:3e3,onClose:this.handleCloseError,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Zc,{onClose:this.handleCloseError,severity:"error"},"Error occured! Please try again.")),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Zc,{onClose:this.handleCloseS1,severity:"warning"},"Select Age Group!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Zc,{onClose:this.handleCloseS2,severity:"warning"},"Select Competition!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleCloseS3,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Zc,{onClose:this.handleCloseS3,severity:"warning"},"Select Competition and Age Group!")),o.a.createElement(D.a,{open:this.state.openS4,autoHideDuration:3e3,onClose:this.handleCloseS4,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(Zc,{onClose:this.handleCloseS4,severity:"warning"},"No students enrolled for this criteria!")),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{width:"20%",zIndex:"200"}},o.a.createElement(dt.a,{value:Hc,onChange:this.handleChangeCmp,options:this.state.competition,placeholder:"Select Competition.."})),o.a.createElement($e.a,{p:1,m:1,style:{width:"20%",zIndex:"200"}},o.a.createElement(dt.a,{value:_c,onChange:this.handleChangeAge,options:this.state.compAgeGrp,placeholder:"Select Age Group.."})),o.a.createElement($e.a,{p:1,m:1,style:{width:"20%",zIndex:"200"}},o.a.createElement(dt.a,{value:zc,onChange:this.handleChange,options:Jc,placeholder:"Select Option.."})),o.a.createElement($e.a,{id:"Country",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200"}},o.a.createElement(dt.a,{value:Mc,onChange:this.handleCountryChange,options:this.state.country,placeholder:"Select Country..",style:{zIndex:"200"}})),o.a.createElement($e.a,{id:"State",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200",marginLeft:"0.5%"}},o.a.createElement(dt.a,{value:Fc,onChange:this.handleStateChange,options:this.state.states,placeholder:"Select State.."})),o.a.createElement($e.a,{id:"District",p:1,m:1,style:{width:"20%",display:"none",marginLeft:"0.5%",zIndex:"200"}},o.a.createElement(dt.a,{value:Wc,onChange:this.handleDistrictChange,options:this.state.districts,placeholder:"Select District.."})),o.a.createElement($e.a,{id:"School",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200"}},o.a.createElement(dt.a,{value:Uc,onChange:this.handleSchoolChange,options:this.state.schools,placeholder:"Select School.."})),o.a.createElement($e.a,{id:"Group",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200"}},o.a.createElement(dt.a,{value:Vc,onChange:this.handleSchoolGroupChange,options:this.state.groups,placeholder:"Select School Group.."})),o.a.createElement($e.a,{id:"Type",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200"}},o.a.createElement(dt.a,{value:Qc,onChange:this.handleSchoolTypeChange,options:this.state.types,placeholder:"Select School Type.."}))),o.a.createElement(Rt.a,{container:!0,spacing:4,id:"table",style:{display:"none"}},o.a.createElement(Rt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{title:"Toppers List",data:this.state.studentsList.map((function(e){return[e.username,e.gender,e.class,e.school,e.score,e.bonus,e.total,e.max,e.time,e.rank]})),columns:Xc,options:{selectableRows:!1,pagination:!1,print:!1,download:!1,viewColumns:!1,textLabels:{body:{noMatch:o.a.createElement(Gt.a,{variant:"indeterminate",style:{color:"primary"}})}}}}))))}}]),a}(n.Component),ed=a(525),td=a(1223),ad=a(345),nd=a.n(ad),od=nd.a.ExcelFile,rd=nd.a.ExcelFile.ExcelSheet,ld=nd.a.ExcelFile.ExcelColumn;function sd(e){return o.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))}var id="",cd="",dd="",pd="",ud="",md=[],hd=[],gd="",fd=[],yd="",Ed="",vd="",bd="",Sd="",Cd="",Id="",Dd="",xd="",kd="",wd="",Od="",Ad="",Td={value:99,label:"India"},Ld="Select State..",Nd="",Bd="",jd="",qd="",Pd="",Rd="",Gd=[],zd=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(Oe.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={expanded:!1,value:"",openS1:!1,school:[],competition:[],country:[],states:[],groups:[],districts:[],agegroup:[],openS2:!1,openS3:!1,openS4:!1,openS5:!1,openS6:!1,rerender:!1,labels:[],valueTopperCategory:"",openError:!1},e.handleCloseError=function(){e.setState({openError:!1})},e.handleToggle=function(){e.setState({openprogress:!0})},e.handleCloseProgress=function(){e.setState({openprogress:!1})},e.handleCloseS1=function(t,a){"clickaway"!==a&&e.setState({openS1:!1})},e.handleCloseS2=function(t,a){"clickaway"!==a&&e.setState({openS2:!1})},e.handleCloseS3=function(t,a){"clickaway"!==a&&e.setState({openS3:!1})},e.handleCloseS4=function(t,a){"clickaway"!==a&&e.setState({openS4:!1})},e.handleCloseS5=function(t,a){"clickaway"!==a&&e.setState({openS5:!1})},e.handleCloseS6=function(t,a){"clickaway"!==a&&e.setState({openS6:!1})},e.handleSchoolChange=function(t){yd=t,document.getElementById("SchoolC").style.display="none",e.setState({rerender:!e.state.rerender}),e.fetch("panel2")},e.handleAllSchoolStudentsList=function(t){Ad=t,document.getElementById("List").style.display="none",e.setState({rerender:!e.state.rerender}),e.fetchAllStudentsSchoolWise(Ad),pd="Students-"+Ad.label,dd="Students-"+Ad.label},e.handleCompetitionChange=function(t){bd=t,document.getElementById("Toppers").style.display="none",vd="",e.setState({rerender:!e.state.rerender}),e.fetch("panel6")},e.handleAgeGroupChange=function(t){""!=bd?(vd=t,Td={value:99,label:"India"},Ld="Select State..",jd="",Bd="",Nd="",e.setState({rerender:!e.state.rerender}),Pd=vd.value,e.fetchTotal(bd),"National Toppers"==cd&&(e.handleToggle(),e.sleep(5e3).then((function(){e.fetchStudents("National")})),e.handleCloseProgress(),pd="National Toppers-"+Td.label+"-"+bd.label+"-"+vd.label,dd="National Toppers-"+Td.label+"-"+bd.label+"-"+vd.label)):e.setState({openS2:!0})},e.handleSchoolChangeList=function(t){""!=wd?(kd=t,e.setState({rerender:!e.state.rerender})):e.setState({openS2:!0}),document.getElementById("List").style.display="none",""!=wd&&e.fetchStudentsSchoolCmpWise(kd,wd),pd="Students-"+kd.label+"-"+wd.label,dd="Students-"+kd.label+"-"+wd.label},e.handleCmpChangeList=function(t){wd=t,Od="Select Age Group..",kd="Select School..",e.setState({rerender:!e.state.rerender}),e.fetch("panel4")},e.handleAgeGroupChangeList=function(t){""!=wd?(e.setState({selectedAgeGroupList:t}),Od=t):e.setState({openS2:!0}),document.getElementById("List").style.display="none",""!=Od&&e.fetchStudentsCmpAgeWise(wd,Od),pd="Students-"+wd.label+"-"+Od.label,dd="Students-"+wd.label+"-"+Od.label},e.handleSchoolChangeRes=function(t){""==Id?e.setState({openS2:!0}):""!=Sd&&(Sd=t,document.getElementById("Res").style.display="none",e.setState({rerender:!e.state.rerender}),""!=Sd&&(e.fetchStudentsSchoolCmpWise(Sd,Id),pd="Results-"+Sd.label+"-"+Id.label,dd="Results-"+Sd.label+"-"+Id.label))},e.handleCmpChangeRes=function(t){Id=t,Cd="Select Age Group..",Sd="Select School..",e.setState({rerender:!e.state.rerender}),e.fetch("panel5")},e.handleAgeGroupChangeRes=function(t){""==Id?e.setState({openS2:!0}):(e.setState({selectedAgeGroupRes:t}),Cd=t,document.getElementById("Res").style.display="none",""!=Cd&&(e.handleToggle(),Pd=Cd.value,e.fetchTotal(Id),e.sleep(5e3).then((function(){e.fetchStudentsCmpAgeWise(Id,Cd),e.handleCloseProgress()})),pd="Results-"+Id.label+"-"+Cd.label,dd="Results-"+Id.label+"-"+Cd.label))},e.handleCountryChange=function(t){Td=t,"National Toppers"==cd?e.fetch("panel6"):("State Toppers"==cd||"District Toppers"==cd)&&(e.handleToggle(),e.fetchState(),e.handleCloseProgress(),Ld="Select State.."),e.setState({rerender:!e.state.rerender})},e.handleStateChange=function(t){Ld=t,e.setState({rerender:!e.state.rerender}),"Select State.."!=Ld&&"District Toppers"==cd?(jd="Select District..",e.handleToggle(),e.fetchDistrict(),e.handleCloseProgress()):"Select State.."!=Ld&&"State Toppers"==cd&&(e.handleToggle(),e.sleep(5e3).then((function(){e.fetchStudents("State"),e.handleCloseProgress()})),pd="State Toppers-"+Td.label+"-"+Ld.label+"-"+bd.label+"-"+vd.label,dd="State Toppers-"+Td.label+"-"+Ld.label+"-"+bd.label+"-"+vd.label),e.setState({rerender:!e.state.rerender})},e.handleDistrictChange=function(t){jd=t,e.setState({rerender:!e.state.rerender}),""!=jd&&(e.handleToggle(),e.sleep(5e3).then((function(){e.fetchStudents("District"),e.handleCloseProgress()})),pd="District Toppers-"+Td.label+"-"+Ld.label+"-"+jd.label+"-"+bd.label+"-"+vd.label,dd="District Toppers-"+Td.label+"-"+Ld.label+"-"+jd.label+"-"+bd.label+"-"+vd.label)},e.handleSchoolChangeToppers=function(t){Nd=t,e.setState({rerender:!e.state.rerender}),""!=Nd&&(e.handleToggle(),e.sleep(5e3).then((function(){e.fetchStudents("School"),e.handleCloseProgress()})),null!=Nd.value&&(pd="School Toppers-"+Nd.value.split(",")[1]+","+Nd.value.split(",")[3]+","+Nd.value.split(",")[4]+","+Nd.value.split(",")[5]+"-"+bd.label+"-"+vd.label,dd="School Toppers-"+Nd.value.split(",")[1]+","+Nd.value.split(",")[3]+","+Nd.value.split(",")[4]+","+Nd.value.split(",")[5]+"-"+bd.label+"-"+vd.label))},e.handleSchoolGroupChange=function(t){Bd=t,e.setState({rerender:!e.state.rerender}),""!=Bd&&(e.handleToggle(),e.sleep(5e3).then((function(){e.fetchStudents("School Group"),e.handleCloseProgress()})),pd="School Group Toppers-"+Bd.label+"-"+bd.label+"-"+vd.label,dd="School Group Toppers-"+Bd.label+"-"+bd.label+"-"+vd.label)},e.handleRadioChangeToppers=function(t){""!=bd&&""!=vd?(e.setState({valueTopperCategory:t.target.value}),cd=t.target.value,document.getElementById("Toppers").style.display="none",Td={value:99,label:"India"},Ld="Select State..",jd="",Bd="",Nd="",e.fetch("panel6")):""==bd&&""==vd?e.setState({openS4:!0}):""==bd?e.setState({openS2:!0}):""==vd&&e.setState({openS3:!0})},e.handleRadioChangeRes=function(t){Dd=t.target.value,Sd="",Id="",Cd="",document.getElementById("Res").style.display="none",e.setState({rerender:!e.state.rerender}),e.fetch("panel5")},e.handleRadioChangeList=function(t){xd=t.target.value,kd="",Ad="",wd="",Od="",e.setState({rerender:!e.state.rerender}),e.fetch("panel4")},e.handleRadioChange=function(t){e.setState({value:t.target.value}),id=t.target.value},e.handleChange=function(t){return function(a,n){e.setState({expanded:!!n&&t}),ud=t,gd=n,n&&(yd=wd=Od=kd=Ad=Id=Cd=Sd=Dd=xd=id="",bd=vd=cd="",document.getElementById("schRes").style.display="none",document.getElementById("ageGrpRes").style.display="none",document.getElementById("cmpRes").style.display="none",document.getElementById("schList").style.display="none",document.getElementById("allSchList").style.display="none",document.getElementById("ageGrpList").style.display="none",document.getElementById("cmpList").style.display="none",document.getElementById("List").style.display="none",document.getElementById("Res").style.display="none",document.getElementById("SchoolC").style.display="none",document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("District").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("Toppers").style.display="none",e.fetch(t))}},e.studentData=function(t,a){var n="";if(null!=a&&(n=a),0!=t.data.length){for(var o=0;o<t.data.length;o++)n==t.data[o].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName&&999!=t.data[o].score&&("panel5"==ud&&"School Wise"==Dd?hd.push({username:t.data[o].userID.username,gender:t.data[o].userID.gender.codeName,class:t.data[o].schoolClassID.classNumber,school:t.data[o].schoolClassID.schoolID.schoolName+","+t.data[o].schoolClassID.schoolID.addressID.city+","+t.data[o].schoolClassID.schoolID.addressID.districtID.name+","+t.data[o].schoolClassID.schoolID.addressID.stateID.name.charAt(0)+t.data[o].schoolClassID.schoolID.addressID.stateID.name.substring(1).toLowerCase()+","+t.data[o].schoolClassID.schoolID.addressID.countryID.nicename+","+t.data[o].schoolClassID.schoolID.addressID.pincode,score:t.data[o].score,bonus:t.data[o].bonusMarks,total:t.data[o].score+t.data[o].bonusMarks,max:Gd[t.data[o].userID.userID],time:t.data[o].timeTaken,competition:t.data[o].competitionAgeID.competitionID.competitionName,agegrp:t.data[o].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName}):hd.push({username:t.data[o].userID.username,gender:t.data[o].userID.gender.codeName,class:t.data[o].schoolClassID.classNumber,school:t.data[o].schoolClassID.schoolID.schoolName+","+t.data[o].schoolClassID.schoolID.addressID.city+","+t.data[o].schoolClassID.schoolID.addressID.districtID.name+","+t.data[o].schoolClassID.schoolID.addressID.stateID.name.charAt(0)+t.data[o].schoolClassID.schoolID.addressID.stateID.name.substring(1).toLowerCase()+","+t.data[o].schoolClassID.schoolID.addressID.countryID.nicename+","+t.data[o].schoolClassID.schoolID.addressID.pincode,score:t.data[o].score,bonus:t.data[o].bonusMarks,total:t.data[o].score+t.data[o].bonusMarks,max:Rd,time:t.data[o].timeTaken,competition:t.data[o].competitionAgeID.competitionID.competitionName,agegrp:t.data[o].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName}));0==hd.length&&e.setState({openS5:!0}),e.calculateToppers()}},e.handleClick=function(){""==id?e.setState({openS1:!0}):e.props.history.push({pathname:"/app/certificate",data:id})},e.handleExcel=function(){e.setState({openS6:!0})},e}return Object(Ae.a)(a,[{key:"calculateToppers",value:function(){return hd.sort((function(e,t){var a=new Date,n=new Date,o=a.setHours(e.time.split(":")[0]),r=a.setMinutes(e.time.split(":")[1]),l=a.setMilliseconds(e.time.split(":")[2]),s=n.setHours(t.time.split(":")[0]),i=n.setMinutes(t.time.split(":")[1]),c=n.setMilliseconds(t.time.split(":")[2]);return t.score-e.score||o-s||r-i||l-c}))}},{key:"fetchTotalMarks",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a){var n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getTotalMarks/"+n+"&"+Pd+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:o=e.sent,Gd[a]=o.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchTotal",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getTotalMarks/"+a+"&"+Pd+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:n=e.sent,Rd=n.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n,o,r=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.labels.length=0,md.length=0,"panel3"!=t){e.next=19;break}return pd="Administrators",dd="Administrators",this.setState({labels:[{label:"Username",value:"username"},{label:"LoginID",value:"loginID"},{label:"Email",value:"email"},{label:"Gender",value:"gender"},{label:"Birth Date",value:"birthdate"},{label:"Created On",value:"created_On"},{label:"Created By",value:"created_By"},{label:"Modified On",value:"modified_On"},{label:"Modified By",value:"modified_By"},{label:"Phone",value:"phone"},{label:"Role",value:"role"},{label:"Status",value:"is_active"}]}),e.prev=6,e.next=9,Q.a.get(V+"api/usr/getAdmins/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 9:for(a=e.sent,n=0;n<a.data.length;n++)"Admin"==a.data[n].RoleID.RoleName&&md.push({username:a.data[n].userID.username,loginID:a.data[n].userID.loginID,email:a.data[n].userID.email,gender:a.data[n].userID.gender.codeName,birthdate:a.data[n].userID.birthdate,created_On:a.data[n].userID.created_on,created_By:a.data[n].userID.created_by,modified_On:a.data[n].userID.modified_on,modified_By:a.data[n].userID.modified_by,phone:a.data[n].userID.phone,role:a.data[n].RoleID.RoleName,is_active:a.data[n].userID.is_active.codeName});document.getElementById("admintext").innerHTML="Total number of administrators : "+md.length,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),this.setState({openError:!0});case 17:e.next=57;break;case 19:if("panel2"!=t){e.next=39;break}if(md.length=0,0==fd.length&&this.fetchSchools(),null==yd.value){e.next=37;break}return pd="School Coordinators-"+yd.label,dd="School Coordinators-"+yd.label,this.setState({labels:[{label:"Username",value:"username"},{label:"LoginID",value:"loginID"},{label:"Email",value:"email"},{label:"Gender",value:"gender"},{label:"Birth Date",value:"birthdate"},{label:"Created On",value:"created_On"},{label:"Created By",value:"created_By"},{label:"Modified On",value:"modified_On"},{label:"Modified By",value:"modified_By"},{label:"Phone",value:"phone"},{label:"Role",value:"role"},{label:"Status",value:"is_active"},{label:"School Name",value:"school"},{label:"UDISE Code",value:"udise"},{label:"Country",value:"country"},{label:"State",value:"state"},{label:"District",value:"district"},{label:"City",value:"city"},{label:"Pincode",value:"pincode"}]}),e.prev=26,e.next=29,Q.a.get(V+"api/usr/getUserRoleLocation/"+yd.value.split(",")[0]+"&school/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 29:for(a=e.sent,n=0;n<a.data.length;n++)md.push({username:a.data[n].userRoleID.userID.username,loginID:a.data[n].userRoleID.userID.loginID,email:a.data[n].userRoleID.userID.email,gender:a.data[n].userRoleID.userID.gender.codeName,birthdate:a.data[n].userRoleID.userID.birthdate,created_On:a.data[n].userRoleID.userID.created_on,created_By:a.data[n].userRoleID.userID.created_by,modified_On:a.data[n].userRoleID.userID.modified_on,modified_By:a.data[n].userRoleID.userID.modified_by,phone:a.data[n].userRoleID.userID.phone,role:a.data[n].userRoleID.RoleID.RoleName,is_active:a.data[n].userRoleID.userID.is_active.codeName,school:yd.value.split(",")[1],udise:yd.value.split(",")[2],city:yd.value.split(",")[3],state:yd.value.split(",")[4],country:yd.value.split(",")[5],pincode:yd.value.split(",")[6],district:yd.value.split(",")[7]});document.getElementById("SchoolC").style.display="block",e.next=37;break;case 34:e.prev=34,e.t1=e.catch(26),this.setState({openError:!0});case 37:e.next=57;break;case 39:if("panel7"!=t){e.next=56;break}return pd="Schools",dd="Schools",e.prev=42,e.next=45,Q.a.get(V+"api/com/getSchool/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 45:Ed=e.sent,e.next=51;break;case 48:e.prev=48,e.t2=e.catch(42),this.setState({openError:!0});case 51:for(this.setState({labels:[{label:"School Name",value:"school"},{label:"School Type",value:"schooltype"},{label:"School Group",value:"schoolgroup"},{label:"UDISE Code",value:"udise"},{label:"Phone",value:"phone"},{label:"Address Line 1",value:"line1"},{label:"Address Line 2",value:"line2"},{label:"Country",value:"country"},{label:"State",value:"state"},{label:"District",value:"district"},{label:"City",value:"city"},{label:"Pincode",value:"pincode"},{label:"Registered By",value:"registered_by"},{label:"Registered On",value:"registered_on"},{label:"Modified By",value:"modified_by"},{label:"Modified On",value:"modified_on"}]}),n=0;n<Ed.data.length;n++)md.push({school:Ed.data[n].schoolName,country:Ed.data[n].addressID.countryID.nicename,state:Ed.data[n].addressID.stateID.name,district:Ed.data[n].addressID.districtID.name,line1:Ed.data[n].addressID.line1,line2:Ed.data[n].addressID.line2,phone:Ed.data[n].phone,registered_by:Ed.data[n].registered_By,registered_on:Ed.data[n].registered_On,modified_by:Ed.data[n].modified_by,modified_on:Ed.data[n].modified_on,schoolgroup:Ed.data[n].schoolGroupID.codeName,schooltype:Ed.data[n].schoolTypeCodeID.codeName,city:Ed.data[n].addressID.city,udise:Ed.data[n].UDISEcode,pincode:Ed.data[n].addressID.pincode});document.getElementById("schooltext").innerHTML="Total number of schools : "+Ed.data.length,e.next=57;break;case 56:"panel6"==t?(this.fetchCompetition(),null!=bd.value&&(o=bd.value,this.fetchAgeGroup(o)),this.setState({labels:[{label:"Username",value:"username"},{label:"Gender",value:"gender"},{label:"Class",value:"class"},{label:"Competition",value:"competition"},{label:"Age Group",value:"group"},{label:"School Name",value:"schoolname"},{label:"School City",value:"schoolcity"},{label:"School District",value:"schooldistrict"},{label:"School State",value:"schoolstate"},{label:"School Country",value:"schoolcountry"},{label:"School Pincode",value:"schoolpincode"},{label:"Score",value:"score"},{label:"Bonus",value:"bonus"},{label:"Total Score",value:"total"},{label:"Max. Marks",value:"max"},{label:"Time Taken",value:"time"},{label:"Rank",value:"rank"}]}),"National Toppers"==cd&&(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("District").style.display="none",0==this.state.country.length&&this.fetchCountry(),1==gd&&(this.handleToggle(),this.sleep(5e3).then((function(){r.fetchStudents("National"),r.handleCloseProgress()}))),pd="National Toppers-"+Td.label+"-"+bd.label+"-"+vd.label,dd="National Toppers-"+Td.label+"-"+bd.label+"-"+vd.label),"State Toppers"==cd&&(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="block",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("District").style.display="none",0==this.state.country.length&&this.fetchCountry(),0==this.state.states.length&&(this.handleToggle(),this.fetchState(),this.handleCloseProgress())),"District Toppers"==cd&&(document.getElementById("Country").style.display="block",document.getElementById("State").style.display="block",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="none",document.getElementById("District").style.display="block",0==this.state.country.length&&this.fetchCountry(),0==this.state.states.length&&(this.handleToggle(),this.fetchState(),this.handleCloseProgress()),"Select State.."!=Ld&&0==this.state.districts.length&&(this.handleToggle(),this.fetchDistrict(),this.handleCloseProgress())),"School Toppers"==cd&&(document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("School").style.display="block",document.getElementById("Group").style.display="none",document.getElementById("District").style.display="none",this.fetchSchools()),"School Group Toppers"==cd&&(document.getElementById("Country").style.display="none",document.getElementById("State").style.display="none",document.getElementById("School").style.display="none",document.getElementById("Group").style.display="block",document.getElementById("District").style.display="none",this.fetchGroup())):"panel4"==t?(this.fetchCompetition(),null!=wd.value&&(o=wd.value,this.fetchAgeGroup(o)),this.setState({labels:[{label:"Username",value:"username"},{label:"Gender",value:"gender"},{label:"Class",value:"class"},{label:"Competition",value:"competition"},{label:"Age Group",value:"group"},{label:"School Name",value:"schoolname"},{label:"School City",value:"schoolcity"},{label:"School District",value:"schooldistrict"},{label:"School State",value:"schoolstate"},{label:"School Country",value:"schoolcountry"},{label:"School Pincode",value:"schoolpincode"}]}),"All"==xd&&(document.getElementById("allSchList").style.display="block",document.getElementById("schList").style.display="none",document.getElementById("List").style.display="none",document.getElementById("cmpList").style.display="none",document.getElementById("ageGrpList").style.display="none",this.fetchSchools()),"School Wise"==xd?(document.getElementById("schList").style.display="block",document.getElementById("cmpList").style.display="block",document.getElementById("ageGrpList").style.display="none",document.getElementById("List").style.display="none",document.getElementById("allSchList").style.display="none",this.fetchSchools()):"Competition Wise"==xd&&(document.getElementById("schList").style.display="none",document.getElementById("cmpList").style.display="block",document.getElementById("ageGrpList").style.display="block",document.getElementById("List").style.display="none",document.getElementById("allSchList").style.display="none")):"panel5"==t&&(this.fetchCompetition(),null!=Id.value&&(o=Id.value,this.fetchAgeGroup(o)),this.setState({labels:[{label:"Username",value:"username"},{label:"Gender",value:"gender"},{label:"Class",value:"class"},{label:"Competition",value:"competition"},{label:"Age Group",value:"group"},{label:"School Name",value:"schoolname"},{label:"School City",value:"schoolcity"},{label:"School District",value:"schooldistrict"},{label:"School State",value:"schoolstate"},{label:"School Country",value:"schoolcountry"},{label:"School Pincode",value:"schoolpincode"},{label:"Score",value:"score"},{label:"Bonus",value:"bonus"},{label:"Total Score",value:"total"},{label:"Max. Marks",value:"max"},{label:"Time Taken",value:"time"},{label:"Achievement",value:"achievement"}]}),"School Wise"==Dd?(document.getElementById("schRes").style.display="block",document.getElementById("cmpRes").style.display="block",document.getElementById("ageGrpRes").style.display="none",document.getElementById("Res").style.display="none",this.fetchSchools()):"Competition Wise"==Dd&&(document.getElementById("schRes").style.display="none",document.getElementById("cmpRes").style.display="block",document.getElementById("ageGrpRes").style.display="block",document.getElementById("Res").style.display="none"));case 57:case"end":return e.stop()}}),e,this,[[6,14],[26,34],[42,48]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStudentsSchoolCmpWise",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a){var n,o,r,l=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"panel5"==ud&&"School Wise"==Dd&&this.handleToggle(),e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getSchoolStudentsCmpWise/"+t.value.split(",")[0]+"&"+a.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({openError:!0});case 10:if(null!=n)if(0==n.data.length)this.setState({openS5:!0}),this.handleCloseProgress(),document.getElementById("List").style.display="none";else{for(o={},r=0;r<n.data.length;r++)o[n.data[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName]=1+(o[n.data[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName]||0);if(hd.length=0,"panel5"==ud){for(r=0;r<n.data.length;r++)Pd=n.data[r].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupID,this.fetchTotalMarks(Id,n.data[r].userID.userID);this.sleep(5e3).then((function(){for(var e in o)hd.length=0,l.studentData(n,e),l.fillDataSet();l.handleCloseProgress()}))}"panel4"==ud&&this.fillDataSetList(n),document.getElementById("List").style.display="block"}case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchStudentsCmpAgeWise",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getStudentsAgeGrpWise/"+a.value+"&"+t.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({openError:!0});case 9:hd.length=0,null!=n&&(0==n.data.length?(this.setState({openS5:!0}),document.getElementById("List").style.display="none"):(this.studentData(n,a.label),"panel5"==ud?this.fillDataSet():this.fillDataSetList(n),document.getElementById("List").style.display="block"));case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fillDataSetList",value:function(e){md.length=0;for(var t=0;t<e.data.length;t++)md.push({username:e.data[t].userID.username,gender:e.data[t].userID.gender.codeName,class:e.data[t].schoolClassID.classNumber,competition:e.data[t].competitionAgeID.competitionID.competitionName,group:e.data[t].competitionAgeID.AgeGroupClassID.AgeGroupID.AgeGroupName,schoolname:e.data[t].schoolClassID.schoolID.schoolName,schoolcity:e.data[t].schoolClassID.schoolID.addressID.city,schooldistrict:e.data[t].schoolClassID.schoolID.addressID.districtID.name,schoolstate:e.data[t].schoolClassID.schoolID.addressID.stateID.name,schoolcountry:e.data[t].schoolClassID.schoolID.addressID.countryID.nicename,schoolpincode:e.data[t].schoolClassID.schoolID.addressID.pincode})}},{key:"fillDataSet",value:function(){var e;"School Wise"!=Dd&&(md.length=0);for(var t=0;t<hd.length;t++)0==t?e=("School Wise"==Dd?"School":hd[t].agegrp)+" Topper":1==t?e=("School Wise"==Dd?"School":hd[t].agegrp)+" First Runner Up":2==t?e=("School Wise"==Dd?"School":hd[t].agegrp)+" Second Runner Up":t>2&&(e="Participant"),md.push({username:hd[t].username,gender:hd[t].gender,class:hd[t].class,competition:hd[t].competition,group:hd[t].agegrp,schoolname:hd[t].school.split(",")[0],schoolcity:hd[t].school.split(",")[1],schooldistrict:hd[t].school.split(",")[2],schoolstate:hd[t].school.split(",")[3],schoolcountry:hd[t].school.split(",")[4],schoolpincode:hd[t].school.split(",")[5],score:hd[t].score,bonus:hd[t].bonus,total:hd[t].total,max:hd[t].max,time:hd[t].time,achievement:e});0!=md.length&&(document.getElementById("Res").style.display="block")}},{key:"fetchAllStudentsSchoolWise",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getAllStudentsSchoolWise/"+Ad.value.split(",")[0]+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({openError:!0});case 9:null!=t&&(0==t.data.length?(this.setState({openS5:!0}),document.getElementById("List").style.display="none"):(this.fillDataSetList(t),document.getElementById("List").style.display="block"));case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCompetition",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/cmp/getCompetition/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.state.competition.length=0,a=0;a<t.data.length;a++)t.data[a].competitionName.toString().includes(t.data[a].startDate.toString().split("-")[0])?this.setState((function(e){return{competition:[].concat(Object(Pt.a)(e.competition),[{value:t.data[a].competitionID,label:t.data[a].competitionName}])}})):this.setState((function(e){return{competition:[].concat(Object(Pt.a)(e.competition),[{value:t.data[a].competitionID,label:t.data[a].competitionName+" "+t.data[a].startDate.toString().split("-")[0]}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchAgeGroup",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.agegroup.length=0,e.prev=1,e.next=4,Q.a.get(V+"api/cmp/getAgeGrpCmpWise/"+t+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 4:for(a=e.sent,n=0;n<a.data.AgeGrp.length;n++)this.setState((function(e){return{agegroup:[].concat(Object(Pt.a)(e.agegroup),[{value:a.data.AgeGrp[n].AgeGroupID,label:a.data.AgeGrp[n].AgeGroupName}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCountry",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getCountry/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.state.country.length=0,a=0;a<t.data.length;a++)this.setState((function(e){return{country:[].concat(Object(Pt.a)(e.country),[{value:t.data[a].countryID,label:t.data[a].nicename}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchState",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getStateCountryWise/"+Td.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:if(t=e.sent,this.state.states.length=0,0!=t.data.length)for(a=0;a<t.data.length;a++)this.setState((function(e){return{states:[].concat(Object(Pt.a)(e.states),[{value:t.data[a].stateID,label:t.data[a].name}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchDistrict",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getDistrictStateWise/"+Ld.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:if(t=e.sent,this.state.districts.length=0,0!=t.data.length)for(a=0;a<t.data.length;a++)this.setState((function(e){return{districts:[].concat(Object(Pt.a)(e.districts),[{value:t.data[a].districtID,label:t.data[a].name}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchGroup",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getSchoolGroups/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(t=e.sent,this.state.groups.length=0,a=0;a<t.data.data.length;a++)this.setState((function(e){return{groups:[].concat(Object(Pt.a)(e.groups),[{value:t.data.data[a].codeID,label:t.data.data[a].codeName}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSchools",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.get(V+"api/com/getSchool/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 3:for(Ed=e.sent,this.state.school.length=0,t=0;t<Ed.data.length;t++)this.setState((function(e){return{school:[].concat(Object(Pt.a)(e.school),[{value:Ed.data[t].schoolID+","+Ed.data[t].schoolName+","+Ed.data[t].UDISEcode+","+Ed.data[t].addressID.city+","+Ed.data[t].addressID.stateID.name+","+Ed.data[t].addressID.countryID.nicename+","+Ed.data[t].addressID.pincode+","+Ed.data[t].addressID.districtID.name,label:Ed.data[t].schoolName+","+Ed.data[t].addressID.city+","+Ed.data[t].addressID.stateID.name+","+Ed.data[t].addressID.pincode}])}}));e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({openError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchStudents",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(md.length=0,"National"!=t){e.next=13;break}return e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getCountryWiseToppers/"+bd.value+"&"+vd.value+"&"+Td.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:qd=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.setState({openError:!0});case 11:e.next=59;break;case 13:if("State"!=t){e.next=25;break}return e.prev=14,e.next=17,Q.a.get(V+"api/cmp/getStateWiseStudents/"+bd.value+"&"+vd.value+"&"+Td.value+"&"+Ld.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 17:qd=e.sent,e.next=23;break;case 20:e.prev=20,e.t1=e.catch(14),this.setState({openError:!0});case 23:e.next=59;break;case 25:if("District"!=t){e.next=37;break}return e.prev=26,e.next=29,Q.a.get(V+"api/cmp/getDistrictWiseStudents/"+bd.value+"&"+vd.value+"&"+Td.value+"&"+Ld.value+"&"+jd.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 29:qd=e.sent,e.next=35;break;case 32:e.prev=32,e.t2=e.catch(26),this.setState({openError:!0});case 35:e.next=59;break;case 37:if("School"!=t){e.next=49;break}return e.prev=38,e.next=41,Q.a.get(V+"api/cmp/getAgeGrpWiseToppers/"+bd.value+"&"+vd.value+"&"+Nd.value.split(",")[0]+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 41:qd=e.sent,e.next=47;break;case 44:e.prev=44,e.t3=e.catch(38),this.setState({openError:!0});case 47:e.next=59;break;case 49:if("School Group"!=t){e.next=59;break}return e.prev=50,e.next=53,Q.a.get(V+"api/cmp/getSchoolGroupWiseStudents/"+bd.value+"&"+vd.value+"&"+Bd.value+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 53:qd=e.sent,e.next=59;break;case 56:e.prev=56,e.t4=e.catch(50),this.setState({openError:!0});case 59:if(null==qd){e.next=78;break}if(0!=qd.data.length){e.next=65;break}this.setState({openS5:!0}),document.getElementById("Toppers").style.display="none",e.next=78;break;case 65:hd.length=0,this.studentData(qd,vd.label),a=0;case 68:if(!(a<hd.length)){e.next=77;break}if(!(a>=3)){e.next=73;break}return e.abrupt("break",77);case 73:md.push({username:hd[a].username,gender:hd[a].gender,class:hd[a].class,competition:hd[a].competition,group:hd[a].agegrp,schoolname:hd[a].school.split(",")[0],schoolcity:hd[a].school.split(",")[1],schooldistrict:hd[a].school.split(",")[2],schoolstate:hd[a].school.split(",")[3],schoolcountry:hd[a].school.split(",")[4],schoolpincode:hd[a].school.split(",")[5],score:hd[a].score,bonus:hd[a].bonus,total:hd[a].total,max:hd[a].max,time:hd[a].time,rank:a+1});case 74:a++,e.next=68;break;case 77:document.getElementById("Toppers").style.display="block";case 78:case"end":return e.stop()}}),e,this,[[2,8],[14,20],[26,32],[38,44],[50,56]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(Je,{title:"Export"}),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:3e3,onClose:this.handleCloseError,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseError,severity:"warning"},"Select Certificate Category!")),o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS1,severity:"warning"},"Select Certificate Category!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS2,severity:"warning"},"Select Competition!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleCloseS3,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS3,severity:"warning"},"Select Age Group!")),o.a.createElement(D.a,{open:this.state.openS4,autoHideDuration:3e3,onClose:this.handleCloseS4,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS4,severity:"warning"},"Select Competition and Age Group !")),o.a.createElement(D.a,{open:this.state.openS5,autoHideDuration:3e3,onClose:this.handleCloseS5,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS5,severity:"warning"},"No students!")),o.a.createElement(D.a,{open:this.state.openS6,autoHideDuration:3e3,onClose:this.handleCloseS6,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(sd,{onClose:this.handleCloseS6,severity:"success"},"Download Successful!")),o.a.createElement("div",{className:e.root},o.a.createElement(yo.a,{expanded:"panel3"===this.state.expanded,onChange:this.handleChange("panel3")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel3bh-content",id:"panel3bh-header"},o.a.createElement(O.a,{className:e.heading},"Administrators"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Administrators List")),o.a.createElement(vo.a,null,o.a.createElement(O.a,{id:"admintext"}),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleExcel,style:{marginLeft:"225px",marginTop:"-1%"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})})))))),o.a.createElement(yo.a,{expanded:"panel7"===this.state.expanded,onChange:this.handleChange("panel7")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel7bh-content",id:"panel7bh-header"},o.a.createElement(O.a,{className:e.heading},"Schools"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Schools List")),o.a.createElement(vo.a,null,o.a.createElement(O.a,{id:"schooltext"}),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleExcel,style:{marginLeft:"270px",marginTop:"-1%"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})})))))),o.a.createElement(yo.a,{expanded:"panel2"===this.state.expanded,onChange:this.handleChange("panel2")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null)},o.a.createElement(O.a,{className:e.heading},"School Coordinators"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download School Coordinators List")),o.a.createElement(vo.a,null,o.a.createElement(O.a,{id:"coordinatortext",component:"h6",style:{marginTop:"1%"}},"Select School"),o.a.createElement($e.a,{p:1,m:1,style:{width:"30%",marginLeft:"3%",marginTop:"-1%",zIndex:"300"}},o.a.createElement(dt.a,{value:yd,onChange:this.handleSchoolChange,options:this.state.school,placeholder:"Select School.."})),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{id:"SchoolC",variant:"contained",color:"primary",onClick:this.handleExcel,style:{marginLeft:"56px",marginTop:"-1%",display:"none"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})})))))),o.a.createElement(yo.a,{expanded:"panel4"===this.state.expanded,onChange:this.handleChange("panel4")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel4bh-content",id:"panel4bh-header"},o.a.createElement(O.a,{className:e.heading},"Students"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Students List")),o.a.createElement(vo.a,null,o.a.createElement(nt.a,{component:"fieldset",className:e.formControl},o.a.createElement(td.a,{component:"legend"},"Select Category"),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-3%",marginBottom:"-5%"}},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ed.a,{value:xd,onChange:this.handleRadioChangeList},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"All",control:o.a.createElement(rt.a,{color:"primary"}),label:"School Wise"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"School Wise",control:o.a.createElement(rt.a,{color:"primary"}),label:"School-Competition Wise"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"Competition Wise",control:o.a.createElement(rt.a,{color:"primary"}),label:"Competition-Age Group Wise"})))))))),o.a.createElement(vo.a,null,o.a.createElement($e.a,{id:"cmpList",p:1,m:1,style:{width:"30%",zIndex:"200",marginLeft:"6%",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:wd,onChange:this.handleCmpChangeList,options:this.state.competition,placeholder:"Select Competition.."})),o.a.createElement($e.a,{id:"schList",p:1,m:1,style:{width:"30%",zIndex:"200",marginLeft:"0.5%",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:kd,onChange:this.handleSchoolChangeList,options:this.state.school,placeholder:"Select School..",style:{zIndex:"200"}})),o.a.createElement($e.a,{id:"ageGrpList",p:1,m:1,style:{width:"30%",marginLeft:"0.5%",zIndex:"200",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:Od,onChange:this.handleAgeGroupChangeList,options:this.state.agegroup,placeholder:"Select Age Group.."})),o.a.createElement($e.a,{id:"allSchList",p:1,m:1,style:{width:"30%",zIndex:"200",marginLeft:"7%",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:Ad,onChange:this.handleAllSchoolStudentsList,options:this.state.school,placeholder:"Select School..",style:{zIndex:"200"}})),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{id:"List",variant:"contained",color:"primary",onClick:this.handleExcel,style:{display:"none",marginLeft:"30px",marginTop:"-13%"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})})))))),o.a.createElement(yo.a,{expanded:"panel5"===this.state.expanded,onChange:this.handleChange("panel5")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel5bh-content",id:"panel5bh-header"},o.a.createElement(O.a,{className:e.heading},"Results"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Results List")),o.a.createElement(vo.a,null,o.a.createElement(nt.a,{component:"fieldset",className:e.formControl},o.a.createElement(td.a,{component:"legend"},"Select Category"),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-3%",marginBottom:"-5%"}},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ed.a,{value:Dd,onChange:this.handleRadioChangeRes},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"School Wise",control:o.a.createElement(rt.a,{color:"primary"}),label:"School Wise"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"Competition Wise",control:o.a.createElement(rt.a,{color:"primary"}),label:"Competition Wise"})))))))),o.a.createElement(vo.a,null,o.a.createElement($e.a,{id:"cmpRes",p:1,m:1,style:{width:"30%",zIndex:"200",marginLeft:"6%",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:Id,onChange:this.handleCmpChangeRes,options:this.state.competition,placeholder:"Select Competition.."})),o.a.createElement($e.a,{id:"schRes",p:1,m:1,style:{width:"30%",zIndex:"200",marginLeft:"0.5%",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:Sd,onChange:this.handleSchoolChangeRes,options:this.state.school,placeholder:"Select School..",style:{zIndex:"200"}})),o.a.createElement($e.a,{id:"ageGrpRes",p:1,m:1,style:{width:"30%",marginLeft:"0.5%",zIndex:"200",marginTop:"-4%",display:"none"}},o.a.createElement(dt.a,{value:Cd,onChange:this.handleAgeGroupChangeRes,options:this.state.agegroup,placeholder:"Select Age Group.."})),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{id:"Res",variant:"contained",color:"primary",onClick:this.handleExcel,style:{display:"none",marginLeft:"30px",marginTop:"-13%"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})})))))),o.a.createElement(yo.a,{expanded:"panel1"===this.state.expanded,onChange:this.handleChange("panel1")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null)},o.a.createElement(O.a,{className:e.heading},"Certificates"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Certificates")),o.a.createElement(vo.a,null,o.a.createElement(nt.a,{component:"fieldset",className:e.formControl},o.a.createElement(td.a,{component:"legend"},"Select Category"),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-3%",marginBottom:"-5%"}},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ed.a,{"aria-label":"quiz",name:"quiz",value:id,onChange:this.handleRadioChange},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"National Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"National Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"School Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"School Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"Participation",control:o.a.createElement(rt.a,{color:"primary"}),label:"Participation"}))))),o.a.createElement($e.a,{p:1,m:1,style:{marginTop:"5%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:this.handleClick,startIcon:o.a.createElement(fc.a,null)},"Proceed")))))),o.a.createElement(yo.a,{expanded:"panel6"===this.state.expanded,onChange:this.handleChange("panel6")},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(So.a,null),"aria-controls":"panel6bh-content",id:"panel6bh-header"},o.a.createElement(O.a,{className:e.heading},"Toppers"),o.a.createElement(O.a,{style:{marginLeft:"20%"},className:e.secondaryHeading},"Download Toppers List")),o.a.createElement(vo.a,null,o.a.createElement($e.a,{p:1,m:1,style:{width:"35%",marginLeft:"8%",marginTop:"-1%",zIndex:"300"}},o.a.createElement(dt.a,{value:bd,onChange:this.handleCompetitionChange,options:this.state.competition,placeholder:"Select Competition.."})),o.a.createElement($e.a,{p:1,m:1,style:{width:"35%",marginLeft:"5%",marginTop:"-1%",zIndex:"300"}},o.a.createElement(dt.a,{value:vd,onChange:this.handleAgeGroupChange,options:this.state.agegroup,placeholder:"Select Age Group.."}))),o.a.createElement(vo.a,null,o.a.createElement(nt.a,{component:"fieldset",className:e.formControl},o.a.createElement(td.a,{component:"legend"},"Select Category"),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1,style:{marginTop:"-3%",marginBottom:"-5%"}},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ed.a,{"aria-label":"quiz",name:"quiz",value:cd,onChange:this.handleRadioChangeToppers},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"National Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"National Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"State Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"State Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"District Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"District Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"School Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"School Toppers"})),o.a.createElement($e.a,{p:1,m:1},o.a.createElement(ot.a,{value:"School Group Toppers",control:o.a.createElement(rt.a,{color:"primary"}),label:"School Group Toppers"})))))))),o.a.createElement(vo.a,null,o.a.createElement($e.a,{id:"Country",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200",marginLeft:"6%"}},o.a.createElement(dt.a,{value:Td,onChange:this.handleCountryChange,options:this.state.country,placeholder:"Select Country..",style:{zIndex:"200"}})),o.a.createElement($e.a,{id:"State",p:1,m:1,style:{width:"20%",display:"none",zIndex:"200",marginLeft:"0.5%"}},o.a.createElement(dt.a,{value:Ld,onChange:this.handleStateChange,options:this.state.states,placeholder:"Select State.."})),o.a.createElement($e.a,{id:"District",p:1,m:1,style:{width:"20%",display:"none",marginLeft:"0.5%",zIndex:"200"}},o.a.createElement(dt.a,{value:jd,onChange:this.handleDistrictChange,options:this.state.districts,placeholder:"Select District.."})),o.a.createElement($e.a,{id:"School",p:1,m:1,style:{width:"30%",display:"none",zIndex:"200",marginLeft:"5%"}},o.a.createElement(dt.a,{value:Nd,onChange:this.handleSchoolChangeToppers,options:this.state.school,placeholder:"Select School.."})),o.a.createElement($e.a,{id:"Group",p:1,m:1,style:{width:"30%",display:"none",zIndex:"200",marginLeft:"5%"}},o.a.createElement(dt.a,{value:Bd,onChange:this.handleSchoolGroupChange,options:this.state.groups,placeholder:"Select School Group.."})),o.a.createElement(od,{filename:dd,element:o.a.createElement(Re.a,{id:"Toppers",variant:"contained",color:"primary",onClick:this.handleExcel,style:{marginLeft:"30px",marginTop:"8%"}},"Download Data")},o.a.createElement(rd,{data:md,name:pd},this.state.labels.map((function(e){return o.a.createElement(ld,{label:e.label,value:e.value})}))))))),o.a.createElement(Do.a,{className:e.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"}),o.a.createElement(O.a,{component:"h1",style:{color:"black"}},o.a.createElement("b",null," Please Wait.."))))}}]),a}(n.Component),_d=Object(Qe.a)((function(e){return{root:{width:"80%",marginLeft:"10%",marginTop:"5%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}))(zd),Md="",Fd={value:99,label:"India"},Ud="",Qd="Select Age Group..",Vd="",Wd=[],Hd=[],Kd=[],Yd=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleToggle=function(){n.setState({openprogress:!0})},n.handleCloseLoad=function(){n.setState({loadingData:!1})},n.handleCloseStudents=function(e,t){"clickaway"!==t&&n.setState({openNoStudents:!1})},n.handleCloseProgress=function(){n.setState({openprogress:!1})},n.handleCloseS1=function(e,t){"clickaway"!==t&&n.setState({openS1:!1})},n.handleCloseS2=function(e,t){"clickaway"!==t&&n.setState({openS2:!1})},n.handleCloseS3=function(e,t){"clickaway"!==t&&n.setState({openS3:!1})},n.handleCloseS4=function(e,t){"clickaway"!==t&&n.setState({openS4:!1})},n.handleCloseS5=function(e,t){"clickaway"!==t&&n.setState({openS5:!1})},n.handleCloseS6=function(e,t){"clickaway"!==t&&n.setState({openS6:!1})},n.handleCloseError=function(){n.setState({openError:!1})},n.handleCountryChange=function(e){n.setState({rerender:!n.state.rerender}),Fd=e},n.handleSchoolChange=function(e){n.setState({rerender:!n.state.rerender}),Vd=e},n.handleCompetitionChange=function(e){""!=(Ud=e)&&(n.setState({loadingData:!0}),n.fetch()),Qd="  ",n.setState({rerender:!n.state.rerender})},n.handleChangeAge=function(e){n.setState({rerender:!n.state.rerender}),Qd=e},n.handleDownload=function(){""==Ud&"Select Age Group.."==Qd?n.setState({openS3:!0}):""==Ud?n.setState({openS1:!0}):"Select Age Group.."==Qd?n.setState({openS2:!0}):(n.handleToggle(),n.sleep(5e3).then((function(){})),Q()({method:"get",url:V+"api/cmp/getNationalTopperCertificates/"+Ud.value+"&"+Qd.value+"&"+Fd.value+"/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){200==e.status&&n.sleep(5e3).then((function(){fetch(V+"media/output/National Toppers-"+Qd.label+"-"+Ud.label.toString().split(" ")[2]+".zip",{headers:{"Content-Type":"application/pdf"}}).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="National Toppers-"+Qd.label+"-"+Ud.label.toString().split(" ")[2]+".zip",a.click(),n.handleCloseProgress(),n.setState({openS4:!0}),Q()({url:V+"api/cmp/deleteFiles/0&0&"+Qd.label+"&"+Ud.label.toString().split(" ")[2]+"&nationalToppers/",headers:{Authorization:"Token "+localStorage.getItem("id_token")}}).then((function(e){Qd="",Vd="",Ud=""})).catch((function(e){n.setState({openError:!0})}))}))})).catch((function(e){return n.setState({openError:!0})}))})),204==e.status&&(n.handleCloseProgress(),n.setState({openNoStudents:!0}))})).catch((function(e){n.handleCloseProgress(),204==e.status?n.setState({openNoStudents:!0}):500==e.status?n.setState({openError:!0}):n.setState({openS5:!0})})))},n.proceed=function(){""==Vd?n.setState({openS6:!0}):n.props.history.push({pathname:"/app/school/download",data:Vd.value+"_"+Md.data})},Md=e.location,n.state={rerender:!1,agegroup:[],openS1:!1,openS2:!1,openS3:!1,openS4:!1,openS5:!1,openS6:!1,openError:!1,openNoStudents:!1,competitionOpts:[],loadingData:!1},n}return Object(Ae.a)(a,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"fetch",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ud.value,this.setState({agegroup:[]}),e.prev=2,e.next=5,Q.a.get(V+"api/cmp/getAgeGrpCmpWise/"+a+"/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.setState({openError:!0});case 11:for(n=0;n<t.data.AgeGrp.length;n++)this.setState((function(e){return{agegroup:[].concat(Object(Pt.a)(e.agegroup),[{value:t.data.AgeGrp[n].AgeGroupID,label:t.data.AgeGrp[n].AgeGroupName}])}}));this.setState({loadingData:!1});case 13:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,n,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qd="",Vd="",Ud="",Wd.length=Hd.length=0,this.setState({selectedAge:""}),"National Toppers"!=Md.data){e.next=33;break}return document.getElementById("nationalToppers").style.display="block",document.getElementById("school").style.display="none",e.prev=8,e.next=11,Q.a.get(V+"api/com/getCountry/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 11:t=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),this.setState({openError:!0});case 17:return e.prev=17,e.next=20,Q.a.get(V+"api/cmp/getCompetition/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 20:a=e.sent,e.next=26;break;case 23:e.prev=23,e.t1=e.catch(17),this.setState({openError:!0});case 26:for(Wd.length=0,n=0;n<t.data.length;n++)Wd.push({value:t.data[n].countryID,label:t.data[n].name});for(Hd.length=0,this.state.competitionOpts.length=0,n=0;n<a.data.length;n++)a.data[n].competitionName.toString().includes(a.data[n].startDate.toString().split("-")[0])?this.setState((function(e){return{competitionOpts:[].concat(Object(Pt.a)(e.competitionOpts),[{value:a.data[n].competitionID,label:a.data[n].competitionName}])}})):this.setState((function(e){return{competitionOpts:[].concat(Object(Pt.a)(e.competitionOpts),[{value:a.data[n].competitionID,label:a.data[n].competitionName+" "+a.data[n].startDate.toString().split("-")[0]}])}}));e.next=46;break;case 33:return document.getElementById("nationalToppers").style.display="none",document.getElementById("school").style.display="block",e.prev=35,e.next=38,Q.a.get(V+"api/com/getSchool/",{headers:{Authorization:"Token "+localStorage.getItem("id_token")}});case 38:o=e.sent,e.next=44;break;case 41:e.prev=41,e.t2=e.catch(35),this.setState({openError:!0});case 44:for(Kd.length=0,n=0;n<o.data.length;n++)Kd.push({value:o.data[n].schoolName+","+o.data[n].addressID.city+","+o.data[n].schoolID+","+o.data[n].addressID.stateID.name+","+o.data[n].addressID.pincode,label:o.data[n].schoolName+","+o.data[n].addressID.city+","+o.data[n].addressID.stateID.name+","+o.data[n].addressID.pincode});case 46:case"end":return e.stop()}}),e,this,[[8,14],[17,23],[35,41]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(Ze.a,{elevation:3,style:{width:"50%",marginLeft:"20%",marginTop:"5%"}},o.a.createElement(D.a,{open:this.state.openS1,autoHideDuration:3e3,onClose:this.handleCloseS1,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS1,severity:"warning"},"Select Competition!")),o.a.createElement(D.a,{open:this.state.openS2,autoHideDuration:3e3,onClose:this.handleCloseS2,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS2,severity:"warning"},"Select Age Group!")),o.a.createElement(D.a,{open:this.state.openS3,autoHideDuration:3e3,onClose:this.handleCloseS3,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS3,severity:"warning"},"Select Competition and Age Group !")),o.a.createElement(D.a,{open:this.state.openS4,autoHideDuration:3e3,onClose:this.handleCloseS4,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS4,severity:"success"},"Download Successful!")),o.a.createElement(D.a,{open:this.state.openS5,autoHideDuration:3e3,onClose:this.handleCloseS5,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS5,severity:"error"},"Error Occured! Download Failed!")),o.a.createElement(D.a,{open:this.state.openS6,autoHideDuration:3e3,onClose:this.handleCloseS6,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseS6,severity:"warning"},"Select School!")),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:3e3,onClose:this.handleCloseError,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{onClose:this.handleCloseError,severity:"error"},"Error Occured!")),o.a.createElement(D.a,{open:this.state.openNoStudents,autoHideDuration:3e3,onClose:this.handleCloseStudents,anchorOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(j.a,{elevation:6,variant:"filled",onClose:this.handleCloseStudents,severity:"warning"},"No students Present!")),o.a.createElement($e.a,{flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1},o.a.createElement(O.a,{variant:"h5",style:{marginLeft:"35%"}},Md.data))),o.a.createElement("div",{id:"nationalToppers",style:{display:"none"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"10%",marginTop:"0%"}},o.a.createElement(O.a,{variant:"h6"},"Select Country:")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginLeft:"10%",marginTop:"-1%",zIndex:"300"}},o.a.createElement(dt.a,{value:Fd,onChange:this.handleCountryChange,options:Wd,placeholder:"Select Country.."}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"10%",marginTop:"0%"}},o.a.createElement(O.a,{variant:"h6"},"Select Competition:")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginLeft:"3.5%",marginTop:"-1%",zIndex:"250"}},o.a.createElement(dt.a,{value:Ud,onChange:this.handleCompetitionChange,options:this.state.competitionOpts,placeholder:"Select Competition.."}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"10%",marginTop:"0%"}},o.a.createElement(O.a,{variant:"h6"},"Select Category:")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginLeft:"8%",marginTop:"-1%",zIndex:"200"}},o.a.createElement(dt.a,{value:Qd,onChange:this.handleChangeAge,options:this.state.agegroup,placeholder:"Select Category.."}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"27%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",startIcon:o.a.createElement(Hl.a,null),onClick:this.handleDownload},"Download Certificates")))),o.a.createElement("div",{id:"school",style:{display:"none"}},o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"10%",marginTop:"0%"}},o.a.createElement(O.a,{variant:"h6"},"Select School:")),o.a.createElement($e.a,{p:1,m:1,style:{width:"40%",marginLeft:"10%",marginTop:"-1%",zIndex:"300"}},o.a.createElement(dt.a,{value:Vd,onChange:this.handleSchoolChange,options:Kd,placeholder:"Select School.."}))),o.a.createElement($e.a,{display:"flex",flexDirection:"row",p:1,m:1},o.a.createElement($e.a,{p:1,m:1,style:{marginLeft:"35%"}},o.a.createElement(Re.a,{variant:"contained",color:"primary",component:"label",startIcon:o.a.createElement(fc.a,null),onClick:this.proceed},"Proceed"))))),o.a.createElement(Do.a,{className:e.backdrop,open:this.state.openprogress},o.a.createElement(Gt.a,{color:"primary"})))}}]),a}(n.Component),Xd=Object(Qe.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(Yd),Jd=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(Oe.a)(this,a),t.apply(this,arguments)}return Object(Ae.a)(a,[{key:"render",value:function(){var e={fontSize:"18px"},t={padding:"10px 0px"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Je,{title:" The 'How Tos' of the Portal"}),o.a.createElement(Ze.a,{style:{padding:"5px"}},o.a.createElement("ul",null,o.a.createElement("li",{style:t},o.a.createElement("span",{style:e},"General Instructions:"),o.a.createElement("ul",null,o.a.createElement("li",null,"You'll be logged out after 10 hours automatically. This is a security feature that'll be implemented everytime you log in. When this happens, please log in again to continue your work."),o.a.createElement("li",null,"Please do not refresh the portal without coming back to the main modules or Dashboard."),o.a.createElement("li",null,"Loading of data may take time. Please wait for few seconds and then try again."),o.a.createElement("li",null,"The positioning of the tables is not maintained. You'll have to navigate to the particular record again from the start of the table. Sorry for the inconvenience."),o.a.createElement("li",null,"Expand the Sidebar and click on options to see sub-options."),o.a.createElement("li",null,"If any errors occur, you'll be redirected automatically to the main page."))),o.a.createElement("li",{style:t},o.a.createElement("span",{style:e},"Questions Module Instructions:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Question Identifier Format - YYYY-CountryCode-QuestionNumber-Caption_LanguageCode"),o.a.createElement("li",null,"Currently search feature for Questions works only for the English language only."),o.a.createElement("li",null,"Currently images ",o.a.createElement("b",null,"cannot")," be added while adding its translations. The images added while inserting original question will be shown. You can rearrange it in the question accordingly."),o.a.createElement("li",null,"For inserting translations of a question, please go to the details of the question and add it via the 'Translations' tab."),o.a.createElement("li",null,"Please keep the image names shorter than 45 letters."),o.a.createElement("li",null,"Please download the template given in the Settings page for uploading questions in bulk.",o.a.createElement("ul",null,o.a.createElement("li",null,"P.S. Currently bulk upload of questions can be done only for questions containing no images. For reference, you can view the different ",o.a.createElement("a",{href:"#/app/quesAttributes"},"lists of domain, countries, etc. ")))))),o.a.createElement("li",{style:t},o.a.createElement("span",{style:e},"Competitions Module Instructions:"),o.a.createElement("ul",null,o.a.createElement("li",null,"On clicking on a language of an age group, results can be seen but only after the competition ends."),o.a.createElement("li",null,"After a competition gets started, you cannot edit the competitions. The options will be disabled."),o.a.createElement("li",null,"Please insert ",o.a.createElement("b",null,"-")," (negative) sign while entering incorrect marks"))),o.a.createElement("li",{style:t},o.a.createElement("span",{style:e},"Settings Instructions:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Upload of a template:",o.a.createElement("br",null),"\xa0 \xa0 Please check existing template and keep the tokens i.e. [Name],[Year] etc as it is."))))))}}]),a}(o.a.PureComponent),Zd=a(1307),$d=function(e){Object(Te.a)(a,e);var t=Object(Le.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).handleAlertClose=function(){n.setState({openError:!1})},n.openClose=function(e){return function(t,a){n.setState({expanded:!!a&&e})}},n.state={domains:[],csSkills:[],ageGroups:[],quesLevels:[],countries:[],typesOfQues:[],languages:[],masterList:[],openError:!1},n}return Object(Ae.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Me.a.mark((function e(){var a,n,o,r,l,s,i,c,d,p,u,m,h,g,f,y,E,v,b,S,C;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(V+"api/com/getCountry/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 2:for(a=e.sent,n=function(e){t.setState((function(t){return{countries:[].concat(Object(Pt.a)(t.countries),[a.data[e].nicename])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[a.data[e].nicename])}}))},o=0;o<a.data.length;o++)n(o);return e.next=7,Q.a.get(V+"api/com/getDomain/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 7:for(r=e.sent,l=function(e){t.setState((function(t){return{domains:[].concat(Object(Pt.a)(t.domains),[r.data[e].codeName])}}))},s=0;s<r.data.length;s++)l(s);return e.next=12,Q.a.get(V+"api/com/getSkills/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 12:for(i=e.sent,c=function(e){t.setState((function(t){return{csSkills:[].concat(Object(Pt.a)(t.csSkills),[i.data[e].codeName])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[i.data[e].codeName])}}))},d=0;d<i.data.length;d++)c(d);return e.next=17,Q.a.get(V+"api/com/getQuestionType/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 17:for(p=e.sent,u=function(e){t.setState((function(t){return{typesOfQues:[].concat(Object(Pt.a)(t.typesOfQues),[p.data[e].codeName])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[p.data[e].codeName])}}))},m=0;m<p.data.length;m++)u(m);return e.next=22,Q.a.get(V+"api/com/getQuestionLevel/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 22:for(h=e.sent,g=function(e){t.setState((function(t){return{quesLevels:[].concat(Object(Pt.a)(t.quesLevels),[h.data[e].codeName])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[h.data[e].codeName])}}))},f=0;f<h.data.length;f++)g(f);return e.next=27,Q.a.get(V+"api/com/getLanguage/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 27:for(y=e.sent,E=function(e){t.setState((function(t){return{languages:[].concat(Object(Pt.a)(t.languages),[y.data[e].codeName])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[y.data[e].codeName])}}))},v=0;v<y.data.length;v++)E(v);return e.next=32,Q.a.get(V+"api/cmp/viewAgeGroup/",{headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("id_token")}}).catch((function(e){t.setState({openError:!0})}));case 32:for(b=e.sent,S=function(e){t.setState((function(t){return{ageGroups:[].concat(Object(Pt.a)(t.ageGroups),[b.data[e].AgeGroupName])}})),t.setState((function(t){return{masterList:[].concat(Object(Pt.a)(t.masterList),[b.data[e].AgeGroupName])}}))},C=0;C<b.data.length;C++)S(C);case 35:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),this.setState({openError:!0});case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Je,{title:"Question Attributes"}),o.a.createElement(D.a,{open:this.state.openError,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:this.handleAlertClose},o.a.createElement(j.a,{onClose:this.handleAlertClose,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error Occured!"))),o.a.createElement(Rt.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginLeft:"50%",marginTop:"-6%"}},o.a.createElement(Rt.a,{item:!0},o.a.createElement(zt.a,null)),o.a.createElement(Rt.a,{item:!0,style:{width:"60%"}},o.a.createElement(wa.a,{id:"search",options:this.state.masterList.map((function(e){return e})),renderInput:function(e){return o.a.createElement(et.a,Object.assign({},e,{label:"Search from All Lists",margin:"normal",style:{width:"60%"},InputProps:Object(c.a)(Object(c.a)({},e.InputProps),{},{type:"search"})}))}}))),o.a.createElement(yo.a,{expanded:1===this.state.expanded,onChange:this.openClose(1),style:{marginTop:"20px"}},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel1-content",id:"panel1-header"},o.a.createElement(O.a,null,"List of Countries")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.countries.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:2===this.state.expanded,onChange:this.openClose(2)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel2-content",id:"panel2-header"},o.a.createElement(O.a,null,"List of Languages")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.languages.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:3===this.state.expanded,onChange:this.openClose(3)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel3-content",id:"panel3-header"},o.a.createElement(O.a,null,"List of Domains")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.domains.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:4===this.state.expanded,onChange:this.openClose(4)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel4-content",id:"panel4-header"},o.a.createElement(O.a,null,"List of Computational Skills")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.csSkills.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:5===this.state.expanded,onChange:this.openClose(5)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel5-content",id:"panel5-header"},o.a.createElement(O.a,null,"List of Types of Questions")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.typesOfQues.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:6===this.state.expanded,onChange:this.openClose(6)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel6-content",id:"panel6-header"},o.a.createElement(O.a,null,"List of Age Groups")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.ageGroups.map((function(e){return o.a.createElement("li",null,e)}))))),o.a.createElement(yo.a,{expanded:7===this.state.expanded,onChange:this.openClose(7)},o.a.createElement(Eo.a,{expandIcon:o.a.createElement(Zd.a,null),"aria-controls":"panel7-content",id:"panel7-header"},o.a.createElement(O.a,null,"List of Question Levels")),o.a.createElement(vo.a,null,o.a.createElement("ul",null,this.state.quesLevels.map((function(e){return o.a.createElement("li",null,e)}))))))}}]),a}(o.a.PureComponent);var ep=Object(y.g)((function(e){var t=C(),a=_();return o.a.createElement("div",{className:t.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(te,{history:e.history}),o.a.createElement(we,null),o.a.createElement("div",{className:b()(t.content,Object(E.a)({},t.contentShift,a.isSidebarOpened))},o.a.createElement("div",{className:t.fakeToolbar}),o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"/app/dashboard",component:ze}),o.a.createElement(y.b,{path:"/app/users",component:ra}),o.a.createElement(y.b,{path:"/app/user/add",component:Xt}),o.a.createElement(y.b,{path:"/app/user/update",component:Dt}),o.a.createElement(y.b,{path:"/app/questions",component:ga}),o.a.createElement(y.b,{path:"/app/question/preview",component:Bn}),o.a.createElement(y.b,{path:"/app/question/add",component:kn}),o.a.createElement(y.b,{path:"/app/userProfile",component:po}),o.a.createElement(y.b,{path:"/app/competition",component:Io}),o.a.createElement(y.b,{path:"/app/competitions/create/3/",component:Ro}),o.a.createElement(y.b,{path:"/app/competitions/create/2/",component:Lr}),o.a.createElement(y.b,{path:"/app/competitions/create/1/",component:Sr}),o.a.createElement(y.b,{path:"/app/competitions/info",component:sr}),o.a.createElement(y.b,{path:"/app/competitions/addQues",component:Ko}),o.a.createElement(y.b,{path:"/app/competitions/update/1/",component:Mr}),o.a.createElement(y.b,{path:"/app/competitions/update/2/",component:Lr}),o.a.createElement(y.b,{path:"/app/competitions/update/3/",component:Ro}),o.a.createElement(y.b,{path:"/app/competitions/edit/1/",component:Mr}),o.a.createElement(y.b,{path:"/app/competitions/edit/2/",component:Lr}),o.a.createElement(y.b,{path:"/app/competitions/edit/3/",component:Ro}),o.a.createElement(y.b,{path:"/app/competitions/preview",component:pr}),o.a.createElement(y.b,{path:"/app/competitions/test",component:Zo}),o.a.createElement(y.b,{path:"/app/competitions/results",component:ol}),o.a.createElement(y.b,{path:"/app/competitions/removeParticipants",component:Rl}),o.a.createElement(y.b,{path:"/app/schools",component:os}),o.a.createElement(y.b,{path:"/app/school/school-detail",component:as}),o.a.createElement(y.b,{path:"/app/school/ContactInfo",component:us}),o.a.createElement(y.b,{path:"/app/school/RegisteredBy",component:ms}),o.a.createElement(y.b,{path:"/app/school/StudentDetails",component:Ts}),o.a.createElement(y.b,{path:"/app/school/download",component:Hs}),o.a.createElement(y.b,{path:"/app/ui/maps",component:qt}),o.a.createElement(y.b,{path:"/app/question/details",component:Wn}),o.a.createElement(y.b,{path:"/app/competitions/addGroups",component:Nl}),o.a.createElement(y.b,{path:"/app/question/detail/add",component:vi}),o.a.createElement(y.b,{path:"/app/question/edit",component:sc}),o.a.createElement(y.b,{path:"/app/settings",component:Nc}),o.a.createElement(y.b,{path:"/app/updateAgeGrps",component:Gc}),o.a.createElement(y.b,{path:"/app/toppers",component:$c}),o.a.createElement(y.b,{path:"/app/export",component:_d}),o.a.createElement(y.b,{path:"/app/certificate",component:Xd}),o.a.createElement(y.b,{path:"/app/analysisPage",component:bl}),o.a.createElement(y.b,{path:"/app/analysisRedirect",component:kl}),o.a.createElement(y.b,{path:"/app/faqs",component:Jd}),o.a.createElement(y.b,{path:"/app/quesAttributes",component:$d}),o.a.createElement(y.b,{path:"/app/school/directions",component:dc})))))})),tp=Object(S.a)((function(e){return{container:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.primary.main,position:"absolute",top:0,left:0},logotype:Object(E.a)({display:"flex",alignItems:"center",marginBottom:e.spacing(12)},e.breakpoints.down("sm"),{display:"none"}),logotypeText:{fontWeight:500,color:"white",marginLeft:e.spacing(2)},logotypeIcon:{width:70,marginRight:e.spacing(2)},paperRoot:{boxShadow:e.customShadows.widgetDark,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(8),paddingBottom:e.spacing(8),paddingLeft:e.spacing(6),paddingRight:e.spacing(6),maxWidth:404},textRow:{marginBottom:e.spacing(10),textAlign:"center"},errorCode:{fontSize:148,fontWeight:600},safetyText:{fontWeight:300,color:e.palette.text.hint},backButton:{boxShadow:e.customShadows.widget,textTransform:"none",fontSize:22}}})),ap=a(685),np=a.n(ap);function op(){var e=tp();return o.a.createElement(Rt.a,{container:!0,className:e.container},o.a.createElement("div",{className:e.logotype},o.a.createElement("img",{className:e.logotypeIcon,src:np.a,alt:"logo"}),o.a.createElement(O.a,{variant:"h3",color:"white",className:e.logotypeText},"Bebras Admin")),o.a.createElement(Ze.a,{classes:{root:e.paperRoot}},o.a.createElement(O.a,{variant:"h1",color:"primary",className:b()(e.textRow,e.errorCode)},"404"),o.a.createElement(O.a,{variant:"h5",color:"primary",className:e.textRow},"Oops. Looks like the page you're looking for no longer exists"),o.a.createElement(O.a,{variant:"h6",color:"text",colorBrightness:"secondary",className:b()(e.textRow,e.safetyText)},"But we're here to bring you back to safety"),o.a.createElement(Re.a,{variant:"contained",color:"primary",component:f.b,to:"/",size:"large",className:e.backButton},"Back to Home")))}var rp=a(690),lp=Object(S.a)((function(e){var t;return{container:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0},logotypeContainer:(t={backgroundColor:e.palette.primary.main,width:"60%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Object(E.a)(t,e.breakpoints.down("md"),{width:"50%"}),Object(E.a)(t,e.breakpoints.down("md"),{display:"none"}),t),logotypeImage:{width:265,marginBottom:e.spacing(4)},logotypeText:Object(E.a)({color:"white",fontWeight:500,fontSize:60},e.breakpoints.down("md"),{fontSize:38}),formContainer:Object(E.a)({width:"40%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.down("md"),{width:"50%"}),form:{width:320},tab:{fontWeight:400,fontSize:18},greeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(4)},subGreeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(2)},googleButton:{marginTop:e.spacing(6),boxShadow:e.customShadows.widget,backgroundColor:"white",width:"100%",textTransform:"none"},googleButtonCreating:{marginTop:0},googleIcon:{width:30,marginRight:e.spacing(2)},creatingButtonContainer:{marginTop:e.spacing(2.5),height:46,display:"flex",justifyContent:"center",alignItems:"center"},createAccountButton:{height:46,textTransform:"none"},formDividerContainer:{marginTop:e.spacing(4),marginBottom:e.spacing(4),display:"flex",alignItems:"center"},formDividerWord:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},formDivider:{flexGrow:1,height:1,backgroundColor:e.palette.text.hint+"40"},errorMessage:{textAlign:"center"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},textField:{borderBottomColor:e.palette.background.light},formButtons:{width:"100%",marginTop:e.spacing(4),display:"flex",justifyContent:"space-between",alignItems:"center"},forgetButton:{textTransform:"none",fontWeight:400},loginLoader:{marginLeft:e.spacing(4)},copyright:Object(E.a)({marginTop:e.spacing(4),whiteSpace:"nowrap"},e.breakpoints.up("md"),{position:"absolute",bottom:e.spacing(2)})}})),sp=a(686),ip=a.n(sp);a(1210);var cp=Object(y.g)((function(e){var t=lp(),a=$(),r=Object(n.useState)(!1),l=Object(I.a)(r,2),s=l[0],i=l[1],c=Object(n.useState)(!1),d=Object(I.a)(c,2),p=d[0],u=d[1],m=Object(n.useState)(null),h=Object(I.a)(m,2),g=h[0],f=h[1],y=Object(n.useState)(""),E=Object(I.a)(y,2),v=E[0],b=E[1],S=Object(n.useState)(""),C=Object(I.a)(S,2),D=C[0],x=C[1],k=o.a.useState(!1),w=Object(I.a)(k,2),A=w[0],T=w[1],L=o.a.useState(!1),N=Object(I.a)(L,2),B=N[0],j=N[1],q=o.a.useState(""),P=Object(I.a)(q,2),R=P[0],G=P[1],z=o.a.useState(!1),_=Object(I.a)(z,2),M=_[0],F=_[1],U=o.a.useState(!1),W=Object(I.a)(U,2),H=W[0],K=W[1],Y=function(){T(!1),K(!1),j(!1),window.location.reload()};return o.a.createElement(Rt.a,{container:!0,className:t.container},o.a.createElement("div",{className:t.logotypeContainer},o.a.createElement("img",{src:ip.a,alt:"logo",className:t.logotypeImage,width:"1000px"}),o.a.createElement(O.a,{className:t.logotypeText},"Bebras India")),o.a.createElement("div",{className:t.formContainer},o.a.createElement("div",{className:t.form},o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h1",className:t.greeting},"Welcome User"),o.a.createElement(rp.a,{in:g},o.a.createElement(O.a,{color:"secondary",className:t.errorMessage},"Something is wrong with your login or password :(")),o.a.createElement(et.a,{id:"email",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:v,onChange:function(e){return b(e.target.value)},margin:"normal",placeholder:"Enter Login ID",type:"text",fullWidth:!0}),o.a.createElement(et.a,{id:"password",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:D,onChange:function(e){return x(e.target.value)},margin:"normal",placeholder:"Password",type:"password",fullWidth:!0}),o.a.createElement("div",{className:t.formButtons},s?o.a.createElement(Gt.a,{size:26,className:t.loginLoader}):o.a.createElement(Re.a,{disabled:0===v.length||0===D.length,onClick:function(){!function(e,t,a,n,o,r,l){var s,i;r(!1),o(!0),Q.a.post(V+"api/usr/login/",{loginID:t,password:a},{headers:{"content-type":"application/json"}}).then((function(a){var c=a.data.expiry/3600,d=new Date;d.setHours(d.getHours()+c),s=a.status,null!=(i=a.data.token)&&setTimeout((function(){localStorage.setItem("id_token",i),localStorage.setItem("username",t),localStorage.setItem("tokenExpiry",d),localStorage.setItem("timeRemaining",0),localStorage.setItem("helpDialog",1),r(!1),o(!1),e({type:"LOGIN_SUCCESS",payload:t}),n.push("/app/dashboard")}),2e3),200==s&&null==i&&(o(!1),l(!0))})).catch((function(e){r(!0),o(!1)}))}(a,v,D,e.history,i,f,K)},variant:"contained",color:"primary",size:"large"},"Login"),o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{color:"primary",size:"large",onClick:function(){T(!0)},className:t.forgetButton},"Forget Password"),o.a.createElement(sa.a,{open:A,onClose:Y,"aria-labelledby":"form-dialog-title",style:{backgroundColor:"rgba(0,0,0,0.5"}},B?o.a.createElement(pa.a,{id:"form-dialog-title"},"Email sent successfully"):o.a.createElement(pa.a,{id:"form-dialog-title"},"Send Mail"),B?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(ca.a,null,o.a.createElement(da.a,null,"Please enter your registered email ID below. We'll send you a reset password link shortly."),o.a.createElement(et.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",value:R,helperText:M?"Please try again!":"",error:M,onChange:function(e){G(e.target.value),F(!1)},fullWidth:!0})),o.a.createElement(ia.a,null,p?o.a.createElement(Gt.a,{size:26,className:t.loginLoader}):o.a.createElement(Re.a,{onClick:function(){u(!0),""!=R?Q.a.post(V+"api/usr/reset_password/",{emailID:R},{headers:{"content-type":"application/json"}}).then((function(e){200==e.status&&(j(!0),setTimeout((function(){j(!1),Y()}),2e3)),u(!1),F(!1)})).catch((function(e){F(!0)})):F(!0)},color:"primary"},"Send"),o.a.createElement(Re.a,{onClick:Y,color:"primary"},"Cancel"))))),o.a.createElement(o.a.Fragment,null,o.a.createElement(sa.a,{open:H,onClose:Y,"aria-labelledby":"form-dialog-title"},o.a.createElement(pa.a,{id:"form-dialog-title"},"Redirect to Bebras Portal"),o.a.createElement(ca.a,null,o.a.createElement(da.a,null,"Please go to the below link given to access your account:",o.a.createElement("br",null),o.a.createElement("a",{href:"http://54.196.61.229:3001/",target:"_blank"},"Bebras User Site"))))))))))})),dp=Object(S.a)((function(e){var t;return{container:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0},logotypeContainer:(t={backgroundColor:e.palette.primary.main,width:"60%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Object(E.a)(t,e.breakpoints.down("md"),{width:"50%"}),Object(E.a)(t,e.breakpoints.down("md"),{display:"none"}),t),logotypeImage:{width:265,marginBottom:e.spacing(4)},logotypeText:Object(E.a)({color:"white",fontWeight:500,fontSize:60},e.breakpoints.down("md"),{fontSize:38}),formContainer:Object(E.a)({width:"40%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.down("md"),{width:"50%"}),form:{width:320},tab:{fontWeight:400,fontSize:18},greeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(4),color:"#828583"},subGreeting:{fontWeight:500,textAlign:"center",marginTop:e.spacing(2)},googleButton:{marginTop:e.spacing(6),boxShadow:e.customShadows.widget,backgroundColor:"white",width:"100%",textTransform:"none"},googleButtonCreating:{marginTop:0},googleIcon:{width:30,marginRight:e.spacing(2)},creatingButtonContainer:{marginTop:e.spacing(2.5),height:46,display:"flex",justifyContent:"center",alignItems:"center"},createAccountButton:{height:46,textTransform:"none"},formDividerContainer:{marginTop:e.spacing(4),marginBottom:e.spacing(4),display:"flex",alignItems:"center"},formDividerWord:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},formDivider:{flexGrow:1,height:1,backgroundColor:e.palette.text.hint+"40"},errorMessage:{textAlign:"center"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},textField:{borderBottomColor:e.palette.background.light},formButtons:{width:"100%",marginTop:e.spacing(4),display:"flex",justifyContent:"space-between",alignItems:"center"},forgetButton:{textTransform:"none",fontWeight:400},loginLoader:{marginLeft:e.spacing(4)},copyright:Object(E.a)({marginTop:e.spacing(4),whiteSpace:"nowrap"},e.breakpoints.up("md"),{position:"absolute",bottom:e.spacing(2)})}})),pp=a(687),up=a.n(pp);var mp=Object(y.g)((function(e){var t=dp(),a=($(),Object(n.useState)(!1)),r=Object(I.a)(a,2),l=r[0],s=(r[1],Object(n.useState)(null)),i=Object(I.a)(s,2),c=i[0],d=i[1],p=Object(n.useState)(""),u=Object(I.a)(p,2),m=u[0],h=u[1],g=Object(n.useState)(""),f=Object(I.a)(g,2),E=f[0],v=f[1],b=Object(n.useState)(!1),S=Object(I.a)(b,2),C=S[0],x=S[1],k=Object(n.useState)(!1),A=Object(I.a)(k,2),T=A[0],L=A[1],N=Object(n.useState)(!1),B=Object(I.a)(N,2),q=B[0],P=B[1],R=Object(n.useState)(""),G=Object(I.a)(R,2),z=G[0],_=G[1],M=Object(n.useState)(""),F=Object(I.a)(M,2),U=F[0],W=F[1],H=Object(n.useState)(!1),K=Object(I.a)(H,2),Y=K[0],X=K[1],J=Object(n.useState)(!1),Z=Object(I.a)(J,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(I.a)(ae,2),oe=ne[0],re=ne[1];Object(n.useEffect)((function(){var t=e.location.search,a=t.match(new RegExp("=(.*)&token")),n=t.substring(t.lastIndexOf("token")+6);_(a[1]),W(n)}),[]);var le=function(){d(!1),re(!1)};return o.a.createElement(Rt.a,{container:!0,className:t.container},q?o.a.createElement(y.a,{to:"/login"}):null,o.a.createElement(D.a,{open:oe,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:le},o.a.createElement(j.a,{onClose:le,variant:"filled",severity:"info"},o.a.createElement("b",null,"Please check if your password length is abover 8 characters and contains atleast one lowercase letter, one uppercase letter, one numeric digit, and one special character!"))),o.a.createElement(D.a,{open:C,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:le},o.a.createElement(j.a,{onClose:le,variant:"filled",severity:"success"},o.a.createElement("b",null,"Password has been Reset Successfully!"))),o.a.createElement(D.a,{open:T,autoHideDuration:4e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:le},o.a.createElement(j.a,{onClose:le,variant:"filled",severity:"error"},o.a.createElement("b",null,"Error occured. Try Again!"))),o.a.createElement("div",{className:t.logotypeContainer},o.a.createElement("img",{src:up.a,alt:"logo",className:t.logotypeImage,width:"1000px"}),o.a.createElement(O.a,{className:t.logotypeText},"Bebras India")),o.a.createElement("div",{className:t.formContainer},o.a.createElement("div",{className:t.form},o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h4",className:t.greeting},"Reset Password"),o.a.createElement("br",null),o.a.createElement(rp.a,{in:c},o.a.createElement(O.a,{color:"secondary",className:t.errorMessage},"Passwords don't match. Please try again...")),o.a.createElement(et.a,{id:"password",type:Y?"text":"password",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){return X(!Y)},onMouseDown:function(e){e.preventDefault()},edge:"end"},Y?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))},value:E,onChange:function(e){v(e.target.value),d(!1)},margin:"normal",placeholder:"Enter New Password",fullWidth:!0}),o.a.createElement(et.a,{id:"passwordConfirm",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField},endAdornment:o.a.createElement(tt.a,{position:"end"},o.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:function(){return te(!ee)},onMouseDown:function(e){e.preventDefault()},edge:"end"},ee?o.a.createElement(Qt.a,null):o.a.createElement(Vt.a,null)))},value:m,onChange:function(e){h(e.target.value),d(!1)},margin:"normal",placeholder:"Confirm Password",type:ee?"text":"password",fullWidth:!0}),o.a.createElement("div",{className:t.formButtons},l?o.a.createElement(Gt.a,{size:26,className:t.loginLoader}):o.a.createElement(Re.a,{disabled:0===m.length||0===E.length,onClick:function(){E.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/)?E!=m?d(!0):Q.a.post(V+"api/usr/reset_password_confirm/(%3FP"+z+"%5B0-9A-Za-z%5D+)-(%3FP"+U+".+)/$",{password:E},{headers:{"content-type":"application/json"}}).then((function(e){setTimeout((function(){x(!0)}),1e3),setTimeout((function(){x(!1),P(!0)}),4e3)})).catch((function(e){setTimeout((function(){L(!0)}),1e3),setTimeout((function(){L(!1)}),4e3)})):re(!0)},variant:"contained",color:"primary",size:"large"},"Reset"))))))}));function hp(){var e=function(){var e=o.a.useContext(Y);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e}().isAuthenticated;return o.a.createElement(f.a,null,o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:"/",render:function(){return o.a.createElement(y.a,{to:"/app/dashboard"})}}),o.a.createElement(y.b,{exact:!0,path:"/app",render:function(){return o.a.createElement(y.a,{to:"/app/dashboard"})}}),o.a.createElement(a,{exact:!0,path:"/resetPassword",render:function(){return o.a.createElement(y.a,{to:"/resetPassword"})},component:mp}),o.a.createElement(t,{path:"/app",component:ep}),o.a.createElement(a,{path:"/login",component:cp}),o.a.createElement(y.b,{component:op})));function t(t){var a=t.component,n=Object(g.a)(t,["component"]);return o.a.createElement(y.b,Object.assign({},n,{render:function(t){return e?o.a.createElement(a,t):o.a.createElement(y.a,{to:{pathname:"/login",state:{from:t.location}}})}}))}function a(t){var a=t.component,n=Object(g.a)(t,["component"]);return o.a.createElement(y.b,Object.assign({},n,{render:function(t){return e?o.a.createElement(y.a,{to:{pathname:"/"}}):o.a.createElement(a,t)}}))}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(z,null,o.a.createElement(Z,null,o.a.createElement(s.a,{theme:h.default},o.a.createElement(i.a,null),o.a.createElement(hp,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},197:function(e,t,a){},331:function(e,t,a){e.exports=a.p+"static/media/map-redmarker.95475eee.png"},526:function(e,t,a){},638:function(e,t,a){},639:function(e,t,a){},654:function(e,t){},665:function(e,t,a){e.exports=a.p+"static/media/online exam.55b42a95.jpg"},669:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUSExMVFRUWGRgYGBgYFxgXGRcaGRgdGhoaFxkaHSggHhsmGxgXITEhJSkrLi4uFx8zODMsNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAKgBLAMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAADBAABAgUGBwj/xAA+EAABAgQDBQUFBwQCAgMAAAABAhEAAyExEkFRBGFxgZEFIjKhsRNCwdHwBhRSYnLh8SOSorKCwjPSBxVT/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APj8rZcMtZWQFEoThL0SQpRKmqC6E0vU2hfbU99TjDWwsBkA9QGZr0iSy8pb3xoP+MyL2lTqBLnuozv3AL8mgN7SnFLEyhIwoXXNjgPNKW4oOsKIQSQBUmgAqSdwEESsBRBFC4OrfMFjyg0/YsC8AWhRoykqdBxAGiqWduMAooQxsisLzMxRLgEYjuNKBzxaBlBKsLVJoONo1tSxRKbJDO7ucyKWsOW+A0dqGEpKXLggu2RBBGb93Tw74JP7QJcISlCMkhzTQknvc6boRiQDkiaVJKLEOUsAP1JoMwH4jfDPZ+2KY4iVBFcJUpiMk0NsR/yjlpUQQRQioMdJADpNEic4NgEm3IYi/BoAxKDKOIMpwyk0H5nSKWMoghmre0K7POUhbKZRLYcRThqQxOIEFJD6CtbQTaKqQkMAU6i8yozySUD/AIwHZkYmQpjWneDjUXtu+cB2Ja5SEkY0ABrHGVEAswD3Znycc+XPnEnFivyHAM4fz3wjMQRer1fIxSVEWLQHpvsigL2pClkASwVlRJLABiVZsHflHse0u2NkmAJWFKRkTLVUDN21fhyj5nI7RUhC0gJ7+EEtVkuWazPhP/EQOXtDnvqLMbB27psKCA68/YNnxKMmaVIOSkkFJIsFWUGfhSF+0FtLa1cIGjX9WjCNtlhLAKYHQCmWerud4gG1bR7TD3SkAG5d1E3FBkw5b4BNF6Xg0qUCpnvnkBck6sAekRMks9EJ1OfBqnlSHNmKcKkJAxKAAK3BYHEoJYsm2bvWogJ2hP8AaS0KZgj+mA5LJAdN8yVKOl45hjoyZXcnILJISlYClBJJSoJZL+I4VqLCvdhBg1/KAxEjWHhGkJqMQLZtQtmxa8A1IlKCQoBiXwk0DChIffiHXSOt9n+0/us0zGSRhKVgYnVSly3jCTnHL2ReKmlQBpZv9esA2yb7osLnU/IW66wDXa3acyefazC5KlBskhkskDSESskBLlgScLlnLAkDUsOggiqywfzH0HyhaAsiIksXhjZ5YJGMlKSbgOTwGfH+IZ7U2BKf6ko4pRORcoewVn1/kEJiGJFDwII6iKT8/SKg2zbMpZAAvTnpAZ2dTK3Gh3vBtplkqfVIJOWj8IVBjqp2iWUoRMQGDsoYhR3GJjWir5CkAmjaCk9wsRnrk3D64bxEIVU+4BWtSVfDyjofcZRbus+8nmC8EndnowFPeClEKFQcIANwwJfFrRt8BxlKCqmh1Gu8fWd4x7BWQxDUVEMTthUhwbH3sny4aVa8LCVvA5wBpc/uKThHul6g0cZFve00ibQBhQa+E/7q/aGPujhRSHBHu1zB4i2f8nl9lqKEguhiolw9CEswBd3BoWalbsHMIBLPz+cFKcQ/TTlkeR9RpHWXscmUAT31mwUC1hUgPTjpzC6kLWxLHDyCZdcQALMkOS35jALzzgSCalYLV8IqFEHIki2lWqIUEgkEpcgX/L+rQb7Q7MRclClIcYTbCCKOwrQZH3YEpe5QazCg4MRAKez1IHn6Ra5YyL0F6ZVz1ccoZ9mF6g64T5gP5dDFL2dg5NAWfi5ArXI5QCoQXAaph3ZAJkz2RUEpWUpClEBKSKBaibC7mwBJyjEqalLm5A7tHDuBV2YM5sagauAA0KtaDnduVOcBva8RWpTEd40zTWx0a3KB7R4ida9a/GGdoPtECaPElkr1P4V82Y7w/vQFcwlKTe4rW1fj5QGJcxqGoOXxG+KXLaoqDY/A6GJiGnQ/ONS1AZ0NwRQ9IAUWBDiuzV4PbM0okJxHUvQZq8KqilMrQD2iRRI5mA1KdINWBvWh4teD7MQD7S4Qx72r90AWZ/IGE1LJMMbScICPw1VvWb8h4eR1gMLmFaitZdRJJPx+QjHtauKMzcosqDBqHOtzu3N8YGeEAwqc3dIxJyByBsxuKRUzZxhK0mgIBBuHBI3N3TGZhGFJBc1BDGjWL2Lg+UWuicO7EeJIbybrAAjQLc4xGlQDWw7UUYyMNUtVIUwKkuxIdJ3pY3rWMnCdEnQ25EfHrGZcuiiC4wh9xcFj84ErWAaCDgKSn3gzPV0qt0gRCU3DnR6DjSp3fxBJE5SZamOaabiFA8HGmUFkypZQVqCsQYhAZlCuJWK4Zh3WLhy4aoLIllaqYieDt8hD2ESyiYFhZUVBaQ+EAAM6gWVdVA47ly9Epu0FScIISPwAMncXd1G/i6waSgmWsAVSR0Lp9TAZEzF4cKVH3WDE/lJtw6QrMKn7zuKV/eNYQLlzoLcz8oudMUWURSwpSmT5kOL1YjdADNYMqssbj8P4gIPKHNklYkLd8IwkkZVsN5y4bjAa2DazKGIgKFcKVOxP4uA8ywrVujsc8zZZUEYpgVUAmoIowLkqfFnXKorw5q3L2yA0GQjq/ZqayyP0q5hTf9vKAIjapgLsUcUN/ssR2/tb9ll7LNQhbYlypcxQEhBCVKBC0gggMFJVkOdz5/7P9qS5O0yZ0+WZyZawsgKwqOEuHLHExALG7AOHj7/sn227L2hCZqpqEkgd2allpzY3GeRIrAfm7Z5ypZCkqKV5EEggHhqMo60rt5RSykEzKBKkln4pYgm1mEceVLKiw4k6DUk2EbVNCQyL5rzO5Og8zutAN7dtCgQykqUR3rkpLkMp6EsAXD3a4aEjtS/xq5EjyEBjTvfr84BlG0JKWUklQLhQOFhVwQ1asbhmN3pYIIphG9n6u7eUKgNwiWMASelY8TsbaHhlAmhqROBSULDhiUtRlejFq8BAlyyA7ODR6s9C3HdvgBGCT74fw055+fwiSaOrS3HL58oFAH2SfgU5DpNFDVJuOOY0IBgk3ZykqRfwqSfxA0BHHEOkKhMdTZ5gIElklYxMpySQq8uimYVUGzJDlxAc2YkCxfXR92vGD7PswbGuichmptN2p9TSNo7oClpSx8KGDq3k3Cd9zYZkYn7Ws3IfcAGGQDCg3QG5s8rlqegCkBIFkhl0HrvJc1heTJJPhURWw3QeXNV7JfePiRmdFwuFEuSSaetPjAMyJCkJM4pICThSSLrIcX0Dq5DWE4sFotSM/wCekBiLCo3KUAXKQoVoSRcMDQvQ15QOAPs0sKUEuz6sGapLnc8UtTqU4Z3ppmB5RkUD605Z/XGCSl0Lh2BHUMGPm26AxIlYjcBg4fM6Dfx0jCkNf4xsZNf6aDTMOR4gjuvmzFwIAezFiWPuq9H+EERLcKVQYQ5GRcgU31dtAdIuTKc90g0VRx+E8/KNLQUYZZDK8SgaMSKYuCcvzHmGtmlpwrxufCaMKvSmb8teIVFSe8DmkpItQG3ClIvHRYGQB495NTv/AGi5CyETALEJLZHvfuYDE6WPGKA3H4VacMxu4GJsyqLS5ZSTuDp7wfoesSRMAoXwqoR6Ebwf5rFyZRTNSk50fIpVRxuYwA9nmEFxRgqoofCc7wNCm3jT6zjUuyuHxEDgDTZYFUnEGFSGqwcEObFxerPEkTAkuoEjCoMC1SkgF2NiQWzZqXgaFN8tY6A7HmmR96Sgqk4ilSk1wKDFpjWoQXsXFXpAc4B46XYpwTkPnS9C4oOrQkEk3IA9OQ+MO7PNkowFSZmIKxAhYACaMCnAS7gl3sRSAWmAlalKqxN8zkOFOg4QBS6vcnOOjtsySVKYTMGIsoKSXc3IwhidDuhYpk/imf2JP/aAFOnOMKRhTpmd6jmfSAxag0VASJEiQFpU0bIBqKQOC7PJUslKQ5YnIeEEm+4GAvZ01L0orLRJIgbvBpBLLLEgJ6OoC/OL2XZVLJwgqCQVKYeFIuVaCwc0qIAcygCeZ528vUxjDr0hvGA+JWIkuQmz8TQGpqH5RkTnohkPvY/3n9hAUmQRVZCNAb/236tlFInJQQUCoqFKyIzCbdXik7OpRAALWBILcSYKnZgL4TlVTB9wBxE55cDAWuf7RS5kxsRdRIZJJJAomxvYNQHSFzJJqk4uF+nyeHR2cbqwpGqnSOWMpfk8UoSE3WVn8iQB1UHHQwC8j/xzB+k/5N8YCkUPEDfmfgOsdT/7VKpa5YkoZQHeU6pjJUFFl0GWlsWsc6dLDYk+H0O/663IBeIkxUSA2lTEG7MWNjx3QREsKtTX9teF/WMSgD4iwH0wiLmPYMBYafvvgCqQFHuuMgC2W+g1PPOMmVk4Db84pM3V3yzc7/Mvu5jaFpB7wLhha2tzcUpvyaoSZLIBNHzqKCzAPC0bHrGIA+yTGUCwLA0NjQ0O6NzCwIu/ie43P9V4QLZZ5QoLSzizpSoWaqVAg8xDCZ6TX2YfPCSk9C6W5QGJAdKm/DbPxAxmV4V/p/7p/eOn2Zs3tlTPZhTiVMWsYAQlCRiWrEK0Ad8MC2fZS0xwlbSyXStKSA6S5Cqkbmet4DlKhvZSpQCcxVBP+vWo30zgbgZpHAEnrbzg2zTEtMU2IhFMTZqSKCrGtwYDO2pSCsA1K6Dd3qvzHWFvZnOnH5Xh2ftaZpcj2SmSHS5ScKQl1AkqBLOSCRdkwtO2VSQ905KBdJ55Hca7oAfdGp8hH1n/AOE9sBk7TKLAJUhe5lpKS+7uDrHyRt8dDs7tRcpE6UhRSmekJWQasC7PobHcdHgOn9r52yzdqX90lplykmpS7La6kpslN2AvfNh56atyT9DQQbAUpOprwAOY4/6iAKGYzgKSoi0axDMdC0E+7t4zh3XV/b82goQMkJI/OtldAoNw84BYVDZ5fKMRtxoev7RJhBs+/i+XJoDESNLWTUl6AcgGA6CNJRR1WyGZ4bt8BSEPWwzP1nBlNhIDio5s7vvt/MDUt65Cwyillm68z+zQA4kbmJ+tDGICQ+e2JtPAGCU0lShRKQkOyKlgKmpuawhEgG1dorNSJZ4ypX/rG19qzCEgYUYQzy0Ilk94l1KQASatwAGUIxIDRJJrUmNKY7vN98ZtzioDSXBBGUEU6CCLKDjeDRjzBHKApfKDpWGwkA76hvh5ZQF/d8QdHR6/P65QL2R3UvUU5RDhGR/uHyhvZ54Nyafi7xVbuimdXcig3MQWlysWbJF1afMnSMTinEcIITk5BPMgCDbVMsABhFmty+n9AB90Bcu76V+Xm0ZEbcYTd3GeXSJKS71A4vXLIc+UBgmIqDS9ncsHUalkpKqAOdLAE8orACO6SVB6EM43VveAFEBaGJGwTVpxIlrWlyHSkqANCxYbxApkhSSyklP6gR6wBdmPeChRQdVNQHDcxFp2ghYJrhpXRmKTuIcc4whYDi73OlQach5mMYnvfX5/OAvaZeFRALi4OoIcHoRBtnA9nNUSH7iQK1dWLRvcziygql54pdP+JqOQL/3JjJRhlqSSArGAU5jCC781NyMAuFlm4eT584JImLS5SWYVqKhwGINw5FKwNt4jWIYSHLkjKjB8319IA2OWvxDAr8SapPFOXFPSINhU4YYkn3k94a5VBbIsd0KwSTPUnFhUpOIYVMSMSSxKS1w4FN0A2UDE6ixFMKaqaw3BhTWloqRMJogCWDTF81M/JItkYVK8PhUWoTlVtM2L1jZmkuosLsBQDFoMgzwGCoC1d/y0gcSJAWBGsLXPIQeavuAGhvRKQ7tQkNRm1qTrCzQDXgSlTjvg0BNsRSQs/wDF8OhELqcmp57oKQ8sflUf8gG/0PWBmzfXCAwoweZ7MksVbnYUys+ULxYMAwQDxOZUD5MC8YXsqxdKhepBApepgcxZJKizkk0AAroBQcBFmo4QF+z1IHN/R4gCdSeTef7QONDWAuYz90ECly9WrkM3/e8ZSWLihEVEgCrmuSSE8Gt8esaMsFGIAhiytA4pluV5QGCybKG5+h+TwA3yEMbHsxWXPhF9+4QGQkFQBUEjWp9BeOmNtlJAAdhoPmRWAD2vRSS1MLDcxtyDQstIAYEOQCag3DgOKO19HI1g+2bWhaQGU4NLChFddB5wpjGSRzc/t5QFBRFCKaH684hRmK6jMfWsWqaWZ6EuwoKbhxMZQ7hrwERpr9esQw92jLBWkslCSiV4RdpaQVYdSQSbBybQjNIctbJ4CkmCKL1HPdv4RgKoRSrZVpoYiFMYD0X2d+0CNnTMxpKiopIAapALkvbJzV6UvGe0ftfPmUSoy06JNeai56NHAWnMWP00YgGlbaS+IBRL1N65uln5vAvvByYcAIwEnQxpgL1OmXMwDnZ08laQpTJJwlTVSFUJGpHibUCEVgAkAuHodd8F2dTrSTlXpX4QCAkSJEgJEiRICQaclgEuHub0JyO8ADrEHcH5svy7+MBgJEiRIAqlPU5ku3KwgUGmSiEg0YkgEEGwHPMQLCWdqWfjb0PSAPs8wBK0s5IBBdsJBuzV7pUMrvAAY1LNYyoVgIpTknWtAAOQFBFRZZt8VASLSWiARduMBpcu2iqjq1ehjCjBsYwsQ5IoXtUv1oIDAaSQzML3z4cIyREgksjME82rraAHBtkNTyruBD7rekZVQOwz1fmH3xkTSLUuKAChofKAyd0VEiQEiRIsGAhhlMxPiSChkhNCS5IZR3PU7ngailVWY7vgIuchgKgjzc1tezdDAF2xJKZRv3PRaxxsBCcNbSHlyj+pPRWL/vAPaHOvGAxFiNUOo8x9dYN9zV7MLFQVFNCLgA+F8Wd2a0AFCsjY/TxpcgpbFQEOC3iFnTqHBruMDIahjaqpB0LcjUeeKAb7P2pjgNEK1qHyJ9Oe6Dzuz0mzpOlx8xHJjqff+4khOJXhUSaPkWFS4ze4MABGxrBNCQyqio8JgQCU1PeP+IPx9OMNDaFlC8SiHDMKBsSXcDleEVL0p6wEnFTkqDE1sBergNasYeDAApqWIpbUuH/y6DWBqlkVIobHItevMdYDLwSQplA0pWwNq2IY2gUbl5nQHzp8YDJMbmS2tazmlQA9HOsYSKwVc9RZy4AYA1CQ5UwewdRNMyYAUSN4hmnoW9Xg8jYVLDoSsh2okH4wF9o7MUYC3dUl00LUUQQCQxqC7Ozs7ggKAwRU1SgEqUSEg4QSS1SSBo5JPEwKA0i4iGw6fX1lEGsbWllKTQ1NrU0ev8wAo0hD/ONIluHNAG41ew5GMqVlYafWcAWZLS7JVTeCCRlZx5xFSSwAS5qSQXvYFju84wkOGzHof39YsAEknwjz0EBmbdtAPSMQY7Qo373GrCzDQNppFpCCa93hUPpWw3uYAIEWC1oi3tbdGYAkxBYKYsp2OrXgcNKqnB+EAjpiV6/4iFYCRIkSAkSJEgCSLubCp5Zc7c40BiNPEctTu3xmyePoP39IqVLKiEpBJNgIAyx/RR+tf+qPkYWjoTsAlezK3mFYVQAoSnCQXUDVT4bAhnqY58BI6ex7ShIKFChcvcFgKM2ZGufOOfKvdv2tEmBqaD9/jAPzZWKspQI/BfolX1pC8tT4klItlSorwFHyhdtYIZ6ioKUSpmuXoMqwEwo1I8x1Hyg2zkgkAhlAg4TVj/lyztCsxLEjQxmAe2h0hSTlhTq9SSxzDi4hNxpBEzlYSjEcLglLljhdiRZwFKY6KMDCXLU5kAecASU1Q7Ag3GlRbNw3OBExCYqAkbRY8h5v8IxDCJmFDZKLkcKAtzVABR84qGESwXcMGooWuLvuegaMLQkWVitk2Vb76coAUVG+Xx9IrHw6CAMJCf8A9UdJn/pE2rZwkhlpU4Cu7iDPkcaRXg4qKxaNnBNC+tGLC9Iik4nDh76ZVvAClorVwMyz03DMxqYqoI3dYikmyXbdnvpBpezKUl2ZI95XdSMjXM0FA5pALEB6u3UtGYb2iUjCMBUpQJxE0S1Gwi9C7ktcUDGFWgNSVNXQetPjFzyHYWFnz3kamK9pRqMSDYZO3qYtQdL6UPqPj0gBxUXEaAKDiDe8Lbxpx/jSMoSCQNTf9opSCCxBBBq9CCIbkbYpLrK1FXu5kk+KpqKE9YAMlaseJILuTR88qdIra5JSqxAIxJcNQ/RHEGCr25bsWI3jzcV84HNmu9AMwGy0DuYAEa9maUNail+HQ9IvGdTwi50wm1Ach9Oa6wFKltcjq/VopKQSz+UVhg2y7T7MlQSlRYjvpCgHDOAfeFwdYAqtnHiUShDDCDVag10ppQ6lhvJgc3aqYUDAk3DuVfqVnwoN0AmLKiSSSTckuTzjMBaoLs8oFwSxI7vG9dzP9XyU0BoXHSpFekXIUygTrXgaGAoSjiwkViFetfhwhwpyJIIcA6ag7r/V01oILKDQGVJzv9ZxUaBOR3UjMAWemiVOC4qz90hwxpdgDnfiAKjb/r9oNs8tRyOE3yHU0eLnbLhVhKgXALh2Yh82tnwMAAGLV5GOtsfba5SQgHHLSSyFZPUqSWoTxO8GO3se1ypwISmWo5oVLl4x+l097iOYEB40iKj1PbGwFf8AUlhIUwdKUJSFhIAdKUgALAAcC97vi87jN8R6wAkSybAw3NlWwjEwAsQLOaFiavCy5pOZbjA4BkoUaKpo7Bv2gZkm1P7h84zKBJYQ9MSBhCglLBmZ1q7xuAaGoFWoBdoBMSvzB+ZPkIb+6tfC/wCZWE9CHbfGDtQRRCEg5lyVcAp6cQ0LlYzSnqr5wBCXSVZ2PAZ9Wg+yArUE4ST7ygwISwcv1cndbOTpKZau+SCKBCfFvxE0TV6FzqIPKSuYUplo7qlpGFILCvvHMvYqOsBlWxS0qVhImM96JSB+NqnIUo5FTaAmapZAWrup7tXCZYOgFg5JYCtaPDUiSMTYx3TiOAuTWrq8ITXU3s5aNdrzpeAS0JAV7yjkz0SG7orU37oFGaA5RUU4Tu5GpjM1DGljUfWsWstQ2YelxGkBxhyNUnfpzt0gARIsiKgCLkqCQopUEqfCogsprsbFo1sxTVKgO8GCiT3S96FmNi+rwwmesISlKlDulQYke8XFNw8oENqUXcIVq6UucrhlE8DAYmSzjINGJfdWBrU59N0dOeUEFKkMpIBOBdFJZxU4nIG+3AQl7OWbLI/UmnVJPpACOR5dPoRCshTgkF7iHNk7PUsnAUKYYj30pYJvRRB5NWFigAsXJ0ZvWvlACCYN7Og+Pyuc4NttFHBQZAVIG4mrQqk3c/uf4JgLUobyd9B0g/ah/qqYJDMGSAkOlIBoN4eFIY2//wAsz9avUwC8SJEgLBi7xmLAgH1rA7ys6tqSHYbq3hOdOKmJNqAZAaDQVi1rKrknCGDnLQfWsDgKh7s8PiGFywILOUtxoxcDjhqIRguJgNXf0aAcJzNQK8QMvhzgS1Olj4i7Hm7Hi/pqY7EnsXaZsr20uQuZLUa4RiLjLCO8xJd2yjjztmWlRQtKkKJBZQKToXB4vyMAqKXjSCwJzBENrSma6sSUYQAXB7wDJSWQD3muSzkOSSqpNllyaupRZiohIPdGmIiptbO8B1dg7WWkJRNSpWNlYgGWBXAfzm51OIVjfa/ZktaVTZf9RV1CWQE6lQDE4mqRTUOHbmbVtSSFFAUpOaiplEE5geEflBI/UzwHZtrUllSlFC01BBYtfCQAxD1z0gF/u4P4g+RAJ6Av5RuZsaUliujJNq1AJcZNUa0tBNq2vEokITKSoBxLBGKlTUlnLkgEJBJYAUge2ywnDVKnQkjCSwcWLgHEGYjzgNT1FNEDAg1C6usWfEa3BDBmqCHeA+3w0SBVOFykEsQ5ZwcJ3iu+GNm2wlBlqZaR3gk2/NhPunNxoXd2gc+QFEmUSoUDEALDDQFjy6QChiogjSYB6RKEw9/w0dVlObJ3ltbAE5Q2uaVrTMJJlJIDD3UpICcKSaHCwGpBqamJEgLnlUtKcI8VUUosO2OuhccRuL8qeQSdMs33+piRIClpctdqPw3XaBAtQxcSALOS4xjgrjqePrxheJEgDTSwRqEv/koxc+SQAsJIQqxYs+aX1HyiRIAuzLLpIOFaKoObpqAGze2+FkIfcBcxIkA57Qy5YKXSVmjGuEXJbU0/4GJsk11JfDSrGzCpbMFhEiQDX3MKkrmgKSZa5aTmB7QTMr3l+cA+4jCVKoaNetySwBYNqRuBykSAFs+zkrSMKaqSKKehO4xnbj3vCxJKiWLnEXz0DdTEiQCkSJEgJGokSAoGLUOkSJAWhMdbsbsszSFEOkHg5ew+J/mJEgPqv2M2oSypCjhl4Xc91IwuSSTQUCjyjx/2/wDtodpeTJOGQCz2VNIqScwkUZO9zkBIkB4vZpqgoEOcmJoQbjpBNqmlBKUzCpBaoJAO427wJI4ijguZEgApnqBBClNxPQweTPJWAVKBcVBLGt93LyiokAPaAouVXfETd3NT19TGZpojPu/ExIkANLpIINqgwScpGMlGJIyBYtrXR90SJAGdK7kPqL+d+F98OSewZ88BcmWJiQySUlIDpADM4q2EnjnEiQH/2Q=="},685:function(e,t,a){e.exports=a.p+"static/media/logo.a0185b04.svg"},686:function(e,t,a){e.exports=a.p+"static/media/logo1.9fad7fc4.png"},687:function(e,t,a){e.exports=a.p+"static/media/logo1.9fad7fc4.png"},725:function(e,t,a){e.exports=a(1211)}},[[725,1,2]]]);
//# sourceMappingURL=main.6573ef6f.chunk.js.map